{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/asap/browser-asap.js","webpack:///./node_modules/asap/browser-raw.js","webpack:///./node_modules/disposables/modules/CompositeDisposable.js","webpack:///./node_modules/disposables/modules/Disposable.js","webpack:///./node_modules/disposables/modules/SerialDisposable.js","webpack:///./node_modules/disposables/modules/index.js","webpack:///./node_modules/disposables/modules/isDisposable.js","webpack:///./node_modules/dnd-core/lib/DragDropManager.js","webpack:///./node_modules/dnd-core/lib/DragDropMonitor.js","webpack:///./node_modules/dnd-core/lib/DragSource.js","webpack:///./node_modules/dnd-core/lib/DropTarget.js","webpack:///./node_modules/dnd-core/lib/HandlerRegistry.js","webpack:///./node_modules/dnd-core/lib/actions/dragDrop.js","webpack:///./node_modules/dnd-core/lib/actions/registry.js","webpack:///./node_modules/dnd-core/lib/backends/createTestBackend.js","webpack:///./node_modules/dnd-core/lib/index.js","webpack:///./node_modules/dnd-core/lib/reducers/dirtyHandlerIds.js","webpack:///./node_modules/dnd-core/lib/reducers/dragOffset.js","webpack:///./node_modules/dnd-core/lib/reducers/dragOperation.js","webpack:///./node_modules/dnd-core/lib/reducers/index.js","webpack:///./node_modules/dnd-core/lib/reducers/refCount.js","webpack:///./node_modules/dnd-core/lib/reducers/stateId.js","webpack:///./node_modules/dnd-core/lib/utils/getNextUniqueId.js","webpack:///./node_modules/dnd-core/lib/utils/matchesType.js","webpack:///./node_modules/hoist-non-react-statics/index.js","webpack:///./node_modules/invariant/browser.js","webpack:///./node_modules/lodash/_Hash.js","webpack:///./node_modules/lodash/_ListCache.js","webpack:///./node_modules/lodash/_Map.js","webpack:///./node_modules/lodash/_MapCache.js","webpack:///./node_modules/lodash/_Set.js","webpack:///./node_modules/lodash/_SetCache.js","webpack:///./node_modules/lodash/_Symbol.js","webpack:///./node_modules/lodash/_apply.js","webpack:///./node_modules/lodash/_arrayFilter.js","webpack:///./node_modules/lodash/_arrayIncludes.js","webpack:///./node_modules/lodash/_arrayIncludesWith.js","webpack:///./node_modules/lodash/_arrayMap.js","webpack:///./node_modules/lodash/_arrayPush.js","webpack:///./node_modules/lodash/_assignValue.js","webpack:///./node_modules/lodash/_assocIndexOf.js","webpack:///./node_modules/lodash/_baseAssignValue.js","webpack:///./node_modules/lodash/_baseDifference.js","webpack:///./node_modules/lodash/_baseFindIndex.js","webpack:///./node_modules/lodash/_baseFlatten.js","webpack:///./node_modules/lodash/_baseGet.js","webpack:///./node_modules/lodash/_baseGetTag.js","webpack:///./node_modules/lodash/_baseIndexOf.js","webpack:///./node_modules/lodash/_baseIntersection.js","webpack:///./node_modules/lodash/_baseIsArguments.js","webpack:///./node_modules/lodash/_baseIsNaN.js","webpack:///./node_modules/lodash/_baseIsNative.js","webpack:///./node_modules/lodash/_baseRest.js","webpack:///./node_modules/lodash/_baseSet.js","webpack:///./node_modules/lodash/_baseSetToString.js","webpack:///./node_modules/lodash/_baseToString.js","webpack:///./node_modules/lodash/_baseUnary.js","webpack:///./node_modules/lodash/_baseUniq.js","webpack:///./node_modules/lodash/_baseXor.js","webpack:///./node_modules/lodash/_cacheHas.js","webpack:///./node_modules/lodash/_castArrayLikeObject.js","webpack:///./node_modules/lodash/_castPath.js","webpack:///./node_modules/lodash/_coreJsData.js","webpack:///./node_modules/lodash/_createSet.js","webpack:///./node_modules/lodash/_defineProperty.js","webpack:///./node_modules/lodash/_freeGlobal.js","webpack:///./node_modules/lodash/_getMapData.js","webpack:///./node_modules/lodash/_getNative.js","webpack:///./node_modules/lodash/_getPrototype.js","webpack:///./node_modules/lodash/_getRawTag.js","webpack:///./node_modules/lodash/_getValue.js","webpack:///./node_modules/lodash/_hashClear.js","webpack:///./node_modules/lodash/_hashDelete.js","webpack:///./node_modules/lodash/_hashGet.js","webpack:///./node_modules/lodash/_hashHas.js","webpack:///./node_modules/lodash/_hashSet.js","webpack:///./node_modules/lodash/_isFlattenable.js","webpack:///./node_modules/lodash/_isIndex.js","webpack:///./node_modules/lodash/_isKey.js","webpack:///./node_modules/lodash/_isKeyable.js","webpack:///./node_modules/lodash/_isMasked.js","webpack:///./node_modules/lodash/_listCacheClear.js","webpack:///./node_modules/lodash/_listCacheDelete.js","webpack:///./node_modules/lodash/_listCacheGet.js","webpack:///./node_modules/lodash/_listCacheHas.js","webpack:///./node_modules/lodash/_listCacheSet.js","webpack:///./node_modules/lodash/_mapCacheClear.js","webpack:///./node_modules/lodash/_mapCacheDelete.js","webpack:///./node_modules/lodash/_mapCacheGet.js","webpack:///./node_modules/lodash/_mapCacheHas.js","webpack:///./node_modules/lodash/_mapCacheSet.js","webpack:///./node_modules/lodash/_memoizeCapped.js","webpack:///./node_modules/lodash/_nativeCreate.js","webpack:///./node_modules/lodash/_objectToString.js","webpack:///./node_modules/lodash/_overArg.js","webpack:///./node_modules/lodash/_overRest.js","webpack:///./node_modules/lodash/_root.js","webpack:///./node_modules/lodash/_setCacheAdd.js","webpack:///./node_modules/lodash/_setCacheHas.js","webpack:///./node_modules/lodash/_setToArray.js","webpack:///./node_modules/lodash/_setToString.js","webpack:///./node_modules/lodash/_shortOut.js","webpack:///./node_modules/lodash/_strictIndexOf.js","webpack:///./node_modules/lodash/_stringToPath.js","webpack:///./node_modules/lodash/_toKey.js","webpack:///./node_modules/lodash/_toSource.js","webpack:///./node_modules/lodash/constant.js","webpack:///./node_modules/lodash/eq.js","webpack:///./node_modules/lodash/get.js","webpack:///./node_modules/lodash/identity.js","webpack:///./node_modules/lodash/intersection.js","webpack:///./node_modules/lodash/isArguments.js","webpack:///./node_modules/lodash/isArray.js","webpack:///./node_modules/lodash/isArrayLike.js","webpack:///./node_modules/lodash/isArrayLikeObject.js","webpack:///./node_modules/lodash/isFunction.js","webpack:///./node_modules/lodash/isLength.js","webpack:///./node_modules/lodash/isObject.js","webpack:///./node_modules/lodash/isObjectLike.js","webpack:///./node_modules/lodash/isPlainObject.js","webpack:///./node_modules/lodash/isSymbol.js","webpack:///./node_modules/lodash/memoize.js","webpack:///./node_modules/lodash/noop.js","webpack:///./node_modules/lodash/set.js","webpack:///./node_modules/lodash/toString.js","webpack:///./node_modules/lodash/without.js","webpack:///./node_modules/lodash/xor.js","webpack:///./node_modules/mini-toastr/mini-toastr.js","webpack:///./node_modules/preact-dnd/lib/DragDropContext.js","webpack:///./node_modules/preact-dnd/lib/DragLayer.js","webpack:///./node_modules/preact-dnd/lib/DragSource.js","webpack:///./node_modules/preact-dnd/lib/DropTarget.js","webpack:///./node_modules/preact-dnd/lib/areOptionsEqual.js","webpack:///./node_modules/preact-dnd/lib/createSourceConnector.js","webpack:///./node_modules/preact-dnd/lib/createSourceFactory.js","webpack:///./node_modules/preact-dnd/lib/createSourceMonitor.js","webpack:///./node_modules/preact-dnd/lib/createTargetConnector.js","webpack:///./node_modules/preact-dnd/lib/createTargetFactory.js","webpack:///./node_modules/preact-dnd/lib/createTargetMonitor.js","webpack:///./node_modules/preact-dnd/lib/decorateHandler.js","webpack:///./node_modules/preact-dnd/lib/index.js","webpack:///./node_modules/preact-dnd/lib/registerSource.js","webpack:///./node_modules/preact-dnd/lib/registerTarget.js","webpack:///./node_modules/preact-dnd/lib/utils/checkDecoratorArguments.js","webpack:///./node_modules/preact-dnd/lib/utils/cloneWithRef.js","webpack:///./node_modules/preact-dnd/lib/utils/isValidType.js","webpack:///./node_modules/preact-dnd/lib/utils/shallowEqual.js","webpack:///./node_modules/preact-dnd/lib/utils/shallowEqualScalar.js","webpack:///./node_modules/preact-dnd/lib/wrapConnectorHooks.js","webpack:///./node_modules/preact/dist/preact.mjs","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/BrowserDetector.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/EnterLeaveCounter.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/HTML5Backend.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/MonotonicInterpolant.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/NativeDragSource.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/getDataFromDataTransfer.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/index.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/NativeDragSources/nativeTypesConfig.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/NativeTypes.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/OffsetUtils.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/getEmptyImage.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/index.js","webpack:///./node_modules/react-dnd-html5-backend/lib/cjs/utils/discount_lodash.js","webpack:///./node_modules/redux/lib/createStore.js","webpack:///./node_modules/symbol-observable/es/index.js","webpack:///./node_modules/symbol-observable/es/ponyfill.js","webpack:///(webpack)/buildin/global.js","webpack:///(webpack)/buildin/harmony-module.js","webpack:///./src/app.js","webpack:///./src/components/form/index.js","webpack:///./src/components/menu/index.js","webpack:///./src/components/page/index.js","webpack:///./src/devices/10_pca9685.js","webpack:///./src/devices/11_mqtt.js","webpack:///./src/devices/12_rotary_encoder.js","webpack:///./src/devices/13_http.js","webpack:///./src/devices/14_dummy.js","webpack:///./src/devices/15_dimmer.js","webpack:///./src/devices/16_udp_server.js","webpack:///./src/devices/18_digital_input.js","webpack:///./src/devices/19_pwm_output.js","webpack:///./src/devices/1_switch.js","webpack:///./src/devices/20_max31855.js","webpack:///./src/devices/21_mlx90614.js","webpack:///./src/devices/2_dht.js","webpack:///./src/devices/3_bmx280.js","webpack:///./src/devices/4_ds18b20.js","webpack:///./src/devices/5_level_control.js","webpack:///./src/devices/6_analog.js","webpack:///./src/devices/7_ads1115.js","webpack:///./src/devices/8_mcp23017.js","webpack:///./src/devices/9_pcf8574.js","webpack:///./src/devices/_defs.js","webpack:///./src/devices/index.js","webpack:///./src/lib/config.js","webpack:///./src/lib/esp.js","webpack:///./src/lib/helpers.js","webpack:///./src/lib/loader.js","webpack:///./src/lib/menu.js","webpack:///./src/lib/pins.js","webpack:///./src/lib/plugins.js","webpack:///./src/lib/settings.js","webpack:///./src/lib/utils.js","webpack:///./src/pages/alerts.edit.js","webpack:///./src/pages/alerts.js","webpack:///./src/pages/config.advanced.js","webpack:///./src/pages/config.bluetooth.js","webpack:///./src/pages/config.hardware.js","webpack:///./src/pages/config.js","webpack:///./src/pages/config.lcd.js","webpack:///./src/pages/config.lcd.screen.js","webpack:///./src/pages/config.lcd.widget.js","webpack:///./src/pages/config.plugins.js","webpack:///./src/pages/controllers.alerts.js","webpack:///./src/pages/controllers.alexa.js","webpack:///./src/pages/controllers.js","webpack:///./src/pages/dashboard.js","webpack:///./src/pages/devices.edit.js","webpack:///./src/pages/devices.js","webpack:///./src/pages/diff.js","webpack:///./src/pages/discover.js","webpack:///./src/pages/factory_reset.js","webpack:///./src/pages/floweditor/DropPage.js","webpack:///./src/pages/floweditor/controlbox.js","webpack:///./src/pages/floweditor/index.js","webpack:///./src/pages/floweditor/nodes/actions/fire_event.js","webpack:///./src/pages/floweditor/nodes/actions/get_state.js","webpack:///./src/pages/floweditor/nodes/actions/http.js","webpack:///./src/pages/floweditor/nodes/actions/mqtt.js","webpack:///./src/pages/floweditor/nodes/actions/set_hw_timer.js","webpack:///./src/pages/floweditor/nodes/actions/set_state.js","webpack:///./src/pages/floweditor/nodes/actions/set_timer.js","webpack:///./src/pages/floweditor/nodes/device.js","webpack:///./src/pages/floweditor/nodes/helper.js","webpack:///./src/pages/floweditor/nodes/index.js","webpack:///./src/pages/floweditor/nodes/logic/delay.js","webpack:///./src/pages/floweditor/nodes/logic/if_else.js","webpack:///./src/pages/floweditor/nodes/logic/logging.js","webpack:///./src/pages/floweditor/nodes/logic/math.js","webpack:///./src/pages/floweditor/nodes/triggers/alexa.js","webpack:///./src/pages/floweditor/nodes/triggers/bluetooth.js","webpack:///./src/pages/floweditor/nodes/triggers/boot.js","webpack:///./src/pages/floweditor/nodes/triggers/clock.js","webpack:///./src/pages/floweditor/nodes/triggers/event.js","webpack:///./src/pages/floweditor/nodes/triggers/hw_interrupt.js","webpack:///./src/pages/floweditor/nodes/triggers/hw_timer.js","webpack:///./src/pages/floweditor/nodes/triggers/timer.js","webpack:///./src/pages/floweditor/nodes/triggers/touch.js","webpack:///./src/pages/floweditor/nodes/widget.js","webpack:///./src/pages/floweditor/nodes/widget_connection.js","webpack:///./src/pages/floweditor/nodes/widget_input.js","webpack:///./src/pages/floweditor/nodes/widget_output.js","webpack:///./src/pages/floweditor/page.js","webpack:///./src/pages/floweditor/toolbox.js","webpack:///./src/pages/floweditor/toolbox_item.js","webpack:///./src/pages/fs.js","webpack:///./src/pages/index.js","webpack:///./src/pages/lcdscreen/controlbox.js","webpack:///./src/pages/lcdscreen/index.js","webpack:///./src/pages/lcdscreen/page.js","webpack:///./src/pages/lcdscreen/toolbox.js","webpack:///./src/pages/lcdscreen/toolbox_item.js","webpack:///./src/pages/lcdscreen/widgets/box.js","webpack:///./src/pages/lcdscreen/widgets/button.js","webpack:///./src/pages/lcdscreen/widgets/image.js","webpack:///./src/pages/lcdscreen/widgets/index.js","webpack:///./src/pages/lcdscreen/widgets/label.js","webpack:///./src/pages/lcdscreen/widgets/slider.js","webpack:///./src/pages/lcdscreen/widgets/value.js","webpack:///./src/pages/lcdscreen/widgets/widget.js","webpack:///./src/pages/lcdscreen/widgets/widget_component.js","webpack:///./src/pages/load.js","webpack:///./src/pages/profiles.edit.js","webpack:///./src/pages/profiles.js","webpack:///./src/pages/reboot.js","webpack:///./src/pages/rules.editor.js","webpack:///./src/pages/rules.js","webpack:///./src/pages/setup.js","webpack:///./src/pages/tools.js","webpack:///./src/pages/tools.sysvars.js","webpack:///./src/pages/update.js"],"names":["miniToastr","init","clearSlashes","path","toString","replace","getFragment","match","window","location","href","fragment","App","Component","constructor","state","menuActive","menu","menus","page","changed","menuToggle","setState","getBreadcrumbs","pagetitle","title","render","props","params","split","slice","active","parent","componentDidUpdate","onPageLoad","componentDidMount","loader","hide","current","fn","newFragment","diff","settings","editorDiff","editor","length","parts","m","find","routes","route","interval","setInterval","requestAnimationFrame","firePageLoad","componentWillUnmount","load","loadConfig","loadPlugins","document","body","console","log","longToByteArray","long","byteArray","index","byte","byteArrayToLong","value","i","Form","setProp","prop","val","startsWith","set","selected","getProp","currentValue","get","onChange","id","config","e","form","elements","type","checked","parseFloat","isNaN","parseInt","part","pop","arr","forceUpdate","renderConfig","varName","options","extra","step","min","max","ip","map","option","name","Object","disabled","pins","selectPin","selectedPin","pin","groups","configs","toLowerCase","clickEvent","click","renderConfigGroup","values","configArray","Array","isArray","classes","conf","varId","var","if","ifval","undefined","CustomComponent","component","help","renderGroup","group","keys","getKeys","key","adminOnly","userName","ref","Menu","renderMenuChildren","children","child","action","renderMenuItem","open","Page","PageComponent","class","i2cAddr","x","PCA9685","Device","capabilities","addr","freq","pca9685","mqttTypes","MQTT","uri","user","pass","lwt_topic","lwt_msg","subscribe_topic","includes","subscribe_data_device_id","subscribe_data_value_id","subscribe_data_value","device_as_id","value_as_id","publish_topic","publish_data","ad_topic","ad_data","mqtt","RotaryEncoder","gpio1","gpio2","invert","vals","rotaryEncoder","HTTP","method","data","http","valueTypes","Dummy","result","forEach","event","getFields","getConfigProps","add_config","empty","findIndex","defaultVarConf","push","getValueProps","add_state","dummy","Dimmer","outputs","splice","gpio_zc","add","dimmer","UdpServer","packet","port","udp_server","DigitalInput","gpio","digital_input","PWMOutput","io_pins","getPins","pwmOutput","InputSwitch","inputSwitch","Max31855","cs","clk","max31855","Mlx90614","mlx90614","sensorModel","dht","defaults","i2c_address","bmx280","sensor","altitude","offset","ds18b20","levelControl","device","getTasks","getTaskValues","level","hysteresis","analog","adsMode","adsRate","adsGain","ads1115","getDevicePins","mode","rate","gain","mcp23017","typeOptions","pinBootStates","PCF8574","plugin","n","boot_state","pcf8574","getDeviceUsedPins","gpio3","gpio4","devices","fields","sort","a","b","localeCompare","prepareAlerts","alerting","enabled","alerts","alert","trigger","String","fromCharCode","triggers","t","value_id","compare","join","storeFile","prepareRules","rules","renderedNodes","nodes","connections","filter","node","eventMap","events","getNodes","walkRule","rn","r","toDsl","ruleset","outI","rule","subrule","out","c","from","to","outNode","bytes","stringToAsciiByteArray","JSON","stringify","Uint8Array","cfg","fetch","then","header","headers","trim","json","catch","r1pins","editor_cfg","ok","saveConfig","fetchProgress","url","opts","Promise","res","rej","xhr","XMLHttpRequest","k","setRequestHeader","onload","target","responseText","onerror","upload","onProgress","onprogress","send","filename","show","file","File","Blob","fileName","success","error","message","deleteFile","loadDevices","response","object","hasOwnProperty","Loader","querySelector","classList","setTimeout","remove","Menus","addMenu","addRoute","DashboardPage","DevicesPage","RulesEditorPage","ProfilesPage","ControllerAlexaPage","AlertsPage","ConfigPage","ConfigHardwarePage","ConfigLCDPage","ConfigBluetoothPage","ConfigAdvancedPage","ConfigPluginsPage","LoadPage","RebootPage","FactoryResetPage","ToolsPage","DiscoverPage","SysVarsPage","UpdatePage","FSPage","DevicesEditPage","AlertsEditPage","ConfigLCDScreenPage","ConfigLCDWidgetPage","ProfilesEditPage","DiffPage","SetupPage","copy","o","output","v","pinState","IO_PINS","digitalPins","pull_up","setUsedPins","allPins","resetPin","ap","ledPin","i2c","sdcard","plugins","p","cur","d","getInterruptPins","hwpins","interrupt","startPins","lastNr","reduce","acc","every","ioPins","dynamicallyLoadScript","resolve","script","createElement","src","onreadystatechange","head","appendChild","onPageLoadHandlers","appendStyles","link","rel","headScript","append","appendScript","onLoad","getPluginAPI","esp","h","all","obj1","obj2","Set","val1","val2","flat","Settings","apply","obj","warn","stored","parse","settings1","getDeviceById","selectedTask","task","getTaskValueType","taskPath","valuePath","selectedValue","str","charCode","charCodeAt","Error","baseFields","description","icon","compareOptions","getFormConfig","addTrigger","formConfig","firstFreeKey","array","handleEnableToggle","currentTarget","dataset","addAlert","newAlert","severity","hash","deleteAlert","editUrl","enabledProp","iconClass","logLevelOptions","onSave","ntp","host","lat","syslog_ip","syslog_level","syslog_facility","serial_level","web_level","types","baseDefaults","getDefaults","setDefaultConfig","beacon","server","addDevice","idx","bytesLeft","total","bl","btn","$array","timerMode","dividerHelp","led","inverse","reset","sda","scl","spi","sclk","mosi","miso","bluetooth","timer","t1","t2","t3","t4","isTouchPin","pinStateOptions","divider","ipBlockLevel","ssids","wifiScan","unit","view_password","edit_password","admin_password","wifi","ssid","ssid2","pass2","wpaapmode","gw","netmask","dns","clientIP","blocklevel","lowerrange","upperrange","lcdDriverOptions","touchDriverOptions","pages","widgets","lcd_driver","touch_driver","width","height","addWidget","items","screen","newPlugin","deleteDevice","ControllerAlertsPage","ControllersPage","controllers","notifications","deviceState","renderDimmer","rangeChange","renderSwitch","buttonClick","renderSensor","renderRegulator","renderPWM","valueChange","renderDevice","fetchDevices","shutdown","lock","dataAcquisitionForm","send1","send2","send3","idx1","idx2","idx3","groupKey","configKey","defaultConfig","ruleUsesDevice","deviceId","findRulesUsingDevice","deleteRulesUsingDevice","elementsUsingDevice","shouldDelete","confirm","moveDevice","direction","p1","p2","tasks","deviceType","deviceLive","componentWillMount","applyChanges","input","rulesChanged","reload","change","nr","vars","formula","scani2c","scanwifi","keep","network","FormData","delete","DropPageComponent","item","onSelect","roundToGrid","position","left","el","scrollLeft","grid","y","top","scrollTop","existingItem","W","itemStyle","onClickHandler","onRightClickHandler","onMoveHandler","onArrow","fel","getElementById","frect","getBoundingClientRect","x0","y0","x1","y1","tel","trect","findNextId","isOver","connectDropTarget","style","renderItem","getComponent","renderConnection","num","down","up","Math","abs","drop","monitor","getItem","getClientOffset","getDefault","collect","connect","dropTarget","DropPage","DropTarget","Controlbox","widget","w","getEditorComponent","EditorComponent","getEditorConfig","FlowEditorComponent","FlowEditor","DragDropContext","HTML5Backend","fireeventNode","inputs","getText","eventName","getString","toByteArray","generateWidgetComponent","targetOptions","getStateNode","deviceName","valueName","targetName","httpNode","mqttNode","topic","command","units","setHwTimerNode","getTimers","val_type","unitObj","unitName","valueStr","timerCfg","BigInt","time","wait","compareValue","checkValue","setStateNode","isBit","isByte","isInt16","isInt32","isString","val_string","val_bit","val_byte","val_int","val_decimal","settimerNode","eqOptions","eq","getDeviceNode","deviceNode","comp","comparison","getDeviceNodes","WidgetComponent","Widget","renderComponent","hexString","timerNode","hwtimerNode","hwinterruptNode","touchNode","bluetoothNode","alexaNode","eventNode","clockNode","bootNode","ifElseNode","delayNode","mathNode","loggingNode","notChanged","text","sendval","expr","alexaOptions","touch","btOptions","int","timerOption","touchOptions","getTouch","cursor","onMouseMove","pageX","pageY","layerX","layerY","addEventListener","onMouseUp","removeEventListener","className","display","base","preventDefault","onMouseDown","WidgetConnection","setPath","x2","y2","tension","delta","hx1","hy1","hx2","hy2","fill","color","WidgetInput","WidgetOutput","stopPropagation","elemBelow","elementFromPoint","clientX","clientY","closest","onRightclick","containerStyle","flex","pageStyle","overflow","toolboxStyle","toolboxItemStyle","margin","controlStyle","border","padding","getItemComponent","Toolbox","boxSource","beginDrag","connectDragSource","dragSource","isDragging","ToolboxItemComponent","opacity","ToolboxItem","DragSource","files","saveForm","fileList","size","editorComponent","editorConfig","LcdScreenComponent","LcdScreen","getWidgets","assign","oi","getInitialClientOffset","si","getInitialSourceClientOffset","co","getSourceClientOffset","ii","getDifferenceFromInitialOffset","backgroundColor","marginRight","marginBottom","titleStyle","background","Box","boxEditorConfig","Button","buttonEditorConfig","Image","Label","labelEditorConfig","Slider","sliderEditorConfig","Value","valueEditorConfig","steps","j","addStep","RulesPage","selectionChanged","saveRule","passwd","save","security","WifiSSID","WifiKey","ssd","CMD","SET","SET_CFG","EVENT","TIMER","DELAY","RESET","GPIO","GET","GET_CFG","VAR","SEND","X8","IF","ELSE","ENDIF","ENDON","history","cmd","sendCommand","cmdParts","cmdArray","toUpperCase","cmdOutput","sendCommand2","formatted","substr","cls","innerHTML","scrollHeight","setCmd","setEvent","setDevice","setDeviceState","setDeviceStateVal","device_state","clearInterval","progress","perc","loaded","round"],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;;AClFa;;AAEb;AACA,cAAc,mBAAO,CAAC,iDAAO;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY,MAAM;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;;;;;;;;;;;;ACjEA,8CAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAAgE,kBAAkB;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B,oBAAoB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AC9Na;;AAEb;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,oBAAoB,mBAAO,CAAC,0EAAgB;;AAE5C;;AAEA;AACA;AACA;;AAEA;AACA;AACA,0EAA0E,aAAa;AACvF;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,mBAAmB,wBAAwB;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,aAAa,WAAW;AACxB;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,aAAa,WAAW;AACxB,eAAe,QAAQ,eAAe;AACtC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA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ElD;;AAEA,kBAAkB,mBAAO,CAAC,iFAAuB;;AAEjD,uBAAuB,mBAAO,CAAC,2FAA4B;;AAE3D,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA,sFAAsF;AACtF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,kC;;;;;;;;;;;;ACtOa;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,6B;;;;;;;;;;;;ACjCa;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;AACF;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,6B;;;;;;;;;;;;AC/Ba;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,eAAe,mBAAO,CAAC,wDAAgB;;AAEvC;;AAEA,YAAY,mBAAO,CAAC,iDAAM;;AAE1B;;AAEA,gBAAgB,mBAAO,CAAC,2EAAoB;;AAE5C,uBAAuB,mBAAO,CAAC,qFAAyB;;AAExD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED,kC;;;;;;;;;;;;AC9Na;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;AACA;AACA;AACA;AACA;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,eAAe,mBAAO,CAAC,wDAAgB;;AAEvC;;AAEA,gBAAgB,mBAAO,CAAC,0DAAiB;;AAEzC;;AAEA,mBAAmB,mBAAO,CAAC,8EAAsB;;AAEjD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;;AAEA;AACA,oFAAoF;AACpF;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,gBAAgB,sBAAsB;AACtC;AACA;;AAEA;AACA,oCAAoC,SAAS;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,SAAS;AACT;;AAEA;AACA,kFAAkF;AAClF;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB,sBAAsB;AACtC;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,qCAAqC,UAAU;AAC/C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kBAAkB,wBAAwB;AAC1C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,gCAAgC;AAChC;;AAEA;AACA;AACA,0BAA0B;AAC1B,GAAG;AACH,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,SAAS;AACT,C;;;;;;;;;;;;AC7La;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxCa;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,YAAY,mBAAO,CAAC,kDAAa;;AAEjC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA,CAAC;;AAED;AACA;AACA,C;;;;;;;;;;;;AClFa;;AAEb;AACA;AACA,CAAC;;AAED,uBAAuB,mBAAO,CAAC,yEAAmB;;AAElD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,kBAAkB,mBAAO,CAAC,+DAAc;;AAExC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,kBAAkB,mBAAO,CAAC,+DAAc;;AAExC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,yBAAyB,mBAAO,CAAC,+FAA8B;;AAE/D;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,sCAAsC,uCAAuC,gBAAgB,E;;;;;;;;;;;;AC1ChF;;AAEb;AACA;AACA,CAAC;AACD;AACA;;AAEA,WAAW,mBAAO,CAAC,gDAAY;;AAE/B;;AAEA,oBAAoB,mBAAO,CAAC,kEAAqB;;AAEjD;;AAEA,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,iBAAiB,sBAAsB;AACvC;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AC5Fa;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;AACA;AACA;;AAEA,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P;;AAEA,eAAe,mBAAO,CAAC,wDAAgB;;AAEvC;;AAEA,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA,IAAI;AACJ;AACA,qBAAqB;AACrB;AACA;AACA;AACA,IAAI;AACJ;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA,C;;;;;;;;;;;;AC9Ea;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,kBAAkB,mBAAO,CAAC,wEAAc;;AAExC;;AAEA,qBAAqB,mBAAO,CAAC,8EAAiB;;AAE9C;;AAEA,gBAAgB,mBAAO,CAAC,oEAAY;;AAEpC;;AAEA,uBAAuB,mBAAO,CAAC,kFAAmB;;AAElD;;AAEA,eAAe,mBAAO,CAAC,kEAAW;;AAElC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxCa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,gBAAgB,mBAAO,CAAC,4EAAqB;;AAE7C;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACvBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACVa;;AAEb;AACA;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA,C;;;;;;;;;;;;ACVa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,eAAe,mBAAO,CAAC,wDAAgB;;AAEvC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA,GAAG;AACH,EAAE;AACF;AACA;AACA,C;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,8CAA8C;AAC9C;;AAEA;AACA;AACA;AACA;;AAEA,uBAAuB,iBAAiB;AACxC;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;;AAEA;AACA;;;;;;;;;;;;;ACjDA;AACA;AACA;AACA;AACA;AACA;;AAEa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,MAAM,IAAqC;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,0CAA0C,yBAAyB,EAAE;AACrE;AACA;AACA;;AAEA,0BAA0B;AAC1B;AACA;AACA;;AAEA;;;;;;;;;;;;AChDA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;AAClC,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACNA,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC/BA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACNA,eAAe,mBAAO,CAAC,uDAAa;AACpC,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;;;;;;AC1BA,WAAW,mBAAO,CAAC,+CAAS;;AAE5B;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,EAAE;AACb,WAAW,MAAM;AACjB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxBA,kBAAkB,mBAAO,CAAC,6DAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,SAAS,mBAAO,CAAC,yCAAM;;AAEvB;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,qBAAqB,mBAAO,CAAC,mEAAmB;;AAEhD;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,OAAO;AAClB,WAAW,EAAE;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;;;;;;;;;;;;ACxBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,oBAAoB,mBAAO,CAAC,iEAAkB;AAC9C,wBAAwB,mBAAO,CAAC,yEAAsB;AACtD,eAAe,mBAAO,CAAC,uDAAa;AACpC,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClEA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,QAAQ;AACnB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACvBA,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,oBAAoB,mBAAO,CAA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A;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7BA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,aAAa,mBAAO,CAAC,mDAAW;AAChC,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACxBA,cAAc,mBAAO,CAAC,mDAAW;AACjC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACZA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;AClBA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,WAAW,mBAAO,CAAC,+CAAS;AAC5B,gBAAgB,mBAAO,CAAC,yDAAc;AACtC,UAAU,mBAAO,CAAC,6CAAQ;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACjBA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,EAAE;AACf;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,QAAQ;AACrB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACfA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA,cAAc,mBAAO,CAAC,mDAAW;;AAEjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,gBAAgB,mBAAO,CAAC,yDAAc;;AAEtC;AACA;;AAEA;;;;;;;;;;;;ACLA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACrBA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACdA,YAAY,mBAAO,CAAC,iDAAU;;AAE9B;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,OAAO;AAClB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA,iBAAiB,mBAAO,CAAC,2DAAe;;AAExC;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACRA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClBA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACbA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;;;;;;;;;;;ACjBA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;;AAEA;;;;;;;;;;;;ACbA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,EAAE;AACb,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACtBA,oBAAoB,mBAAO,CAAC,iEAAkB;;AAE9C;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,CAAC;;AAED;;;;;;;;;;;;AC1BA,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,SAAS;AACtB;AACA;AACA,wCAAwC,SAAS;AACjD;AACA;AACA,WAAW,SAAS,GAAG,SAAS;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,EAAE;AACf;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpBA,eAAe,mBAAO,CAAC,uDAAa;AACpC,uBAAuB,mBAAO,CAAC,uEAAqB;AACpD,eAAe,mBAAO,CAAC,uDAAa;AACpC,0BAA0B,mBAAO,CAAC,6EAAwB;;AAE1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC7BA,sBAAsB,mBAAO,CAAC,qEAAoB;AAClD,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA,6BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;AACA,8CAA8C,kBAAkB,EAAE;AAClE;AACA;AACA;;AAEA;;;;;;;;;;;;ACnCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACzBA,iBAAiB,mBAAO,CAAC,yDAAc;AACvC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,kBAAkB,mBAAO,CAAC,2DAAe;AACzC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChCA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,eAAe,mBAAO,CAAC,qDAAY;;AAEnC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;ACpCA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA,oBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,+DAAiB;AAC5C,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,iBAAiB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC7DA,iBAAiB,mBAAO,CAAC,2DAAe;AACxC,mBAAmB,mBAAO,CAAC,6DAAgB;;AAE3C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC5BA,eAAe,mBAAO,CAAC,uDAAa;;AAEpC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,SAAS;AACtB;AACA;AACA,iBAAiB;AACjB,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;;;;;ACxEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AChBA,cAAc,mBAAO,CAAC,qDAAY;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,aAAa;AACxB,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA,iBAAiB,QAAQ,OAAO,SAAS,EAAE;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AClCA,mBAAmB,mBAAO,CAAC,+DAAiB;;AAE5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,EAAE;AACb,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;;;;;AC3BA,qBAAqB,mBAAO,CAAC,mEAAmB;AAChD,eAAe,mBAAO,CAAC,uDAAa;AACpC,wBAAwB,mBAAO,CAAC,uEAAqB;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,MAAM;AACjB,WAAW,KAAK;AAChB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;AC9BA,kBAAkB,mBAAO,CAAC,6DAAgB;AAC1C,eAAe,mBAAO,CAAC,uDAAa;AACpC,cAAc,mBAAO,CAAC,qDAAY;AAClC,wBAAwB,mBAAO,CAAC,uEAAqB;;AAErD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS;AACpB,aAAa,MAAM;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEO;;AAEA;AACA;AACA;AACA;AACA;AACA,8BAA8B,SAAS;AACvC,uBAAuB,SAAS;AAChC,sBAAsB,SAAS;AAC/B,yBAAyB,SAAS;AAClC,wBAAwB,MAAM;AAC9B,uBAAuB,KAAK;AAC5B,0BAA0B,QAAQ;AAClC,uBAAuB,KAAK;AAC5B;;AAEP;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA,iCAAiC,SAAS;AAC1C;AACA,oDAAoD;AACpD,eAAe,OAAO;AACtB;;AAEA,wCAAwC;;AAExC;AACA;;AAEO;AACP;AACA;AACA,oBAAoB,SAAS;AAC7B;;AAEA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEO;AACP,UAAU,2BAA2B;AACrC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA,SAAS,gBAAgB;AACzB;AACA;AACA;AACA;AACA,KAAK;AACL,SAAS,mBAAmB;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,YAAY;AACxB;AACA,OAAO;AACP,YAAY,WAAW;AACvB;AACA,OAAO;AACP,YAAY,cAAc;AAC1B;AACA,OAAO;AACP,YAAY,WAAW;AACvB;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,KAAK;AACL,SAAS,YAAY;AACrB;AACA,KAAK;AACL,SAAS,cAAc;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEO;AACP;AACA;;AAEO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEO;AACP;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEO;AACP;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oCAAoC,mBAAmB,GAAG,mBAAmB;;AAE7E;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;;AAEA;AACA,GAAG;AACH;AACA;;AAEA,+BAA+B;AAC/B;AACA;;AAEe,yE;;;;;;;;;;;;AC3OF;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA,cAAc,mBAAO,CAAC,qDAAQ;;AAE9B;;AAEA,eAAe,mBAAO,CAAC,sDAAU;;AAEjC,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,+BAA+B,mBAAO,CAAC,uGAAiC;;AAExE;;AAEA,4BAA4B,mBAAO,CAAC,gFAAyB;;AAE7D;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,uEAAuE,aAAa;AACpF;AACA;;AAEA;AACA;AACA,SAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,mEAAmE,eAAe,wBAAwB;AAC1G;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA;AACA,C;;;;;;;;;;;;AC9Ga;;AAEb;AACA;AACA,CAAC;;AAED,mDAAmD,gBAAgB,sBAAsB,OAAO,2BAA2B,0BAA0B,yDAAyD,2BAA2B,EAAE,EAAE,EAAE,eAAe;;AAE9P,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,cAAc,mBAAO,CAAC,qDAAQ;;AAE9B;;AAEA,oBAAoB,mBAAO,CAAC,iFAAsB;;AAElD;;AAEA,0BAA0B,mBAAO,CAAC,6FAA4B;;AAE9D;;AAEA,qBAAqB,mBAAO,CAAC,oEAAsB;;AAEnD;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,+BAA+B,mBAAO,CAAC,uGAAiC;;AAExE;;AAEA,4BAA4B,mBAAO,CAAC,gFAAyB;;AAE7D;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,mEAAmE;AACnE,mCAAmC;AACnC;AACA,OAAO;;AAEP;AACA,KAAK;;AAEL;AACA;;;AAGA;AACA;AACA,C;;;;;;;;;;;;ACtJa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,qBAAqB,mBAAO,CAAC,oEAAsB;;AAEnD;;AAEA,+BAA+B,mBAAO,CAAC,uGAAiC;;AAExE;;AAEA,uBAAuB,mBAAO,CAAC,2EAAmB;;AAElD;;AAEA,sBAAsB,mBAAO,CAAC,yEAAkB;;AAEhD;;AAEA,2BAA2B,mBAAO,CAAC,mFAAuB;;AAE1D;;AAEA,2BAA2B,mBAAO,CAAC,mFAAuB;;AAE1D;;AAEA,6BAA6B,mBAAO,CAAC,uFAAyB;;AAE9D;;AAEA,mBAAmB,mBAAO,CAAC,+EAAqB;;AAEhD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;AC7Ea;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,qBAAqB,mBAAO,CAAC,oEAAsB;;AAEnD;;AAEA,+BAA+B,mBAAO,CAAC,uGAAiC;;AAExE;;AAEA,uBAAuB,mBAAO,CAAC,2EAAmB;;AAElD;;AAEA,sBAAsB,mBAAO,CAAC,yEAAkB;;AAEhD;;AAEA,2BAA2B,mBAAO,CAAC,mFAAuB;;AAE1D;;AAEA,2BAA2B,mBAAO,CAAC,mFAAuB;;AAE1D;;AAEA,6BAA6B,mBAAO,CAAC,uFAAyB;;AAE9D;;AAEA,mBAAmB,mBAAO,CAAC,+EAAqB;;AAEhD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,C;;;;;;;;;;;;AC7Ea;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,oBAAoB,mBAAO,CAAC,iFAAsB;;AAElD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACnBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,0BAA0B,mBAAO,CAAC,iFAAsB;;AAExD;;AAEA,uBAAuB,mBAAO,CAAC,2EAAmB;;AAElD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACxFa;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,qBAAqB,mBAAO,CAAC,oEAAsB;;AAEnD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,YAAY,IAAqC;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;AACA;AACA,C;;;;;;;;;;;;ACjGa;;AAEb;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;A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AAW;;AAEpC;;AAEA,4BAA4B,mBAAO,CAAC,gFAAyB;;AAE7D;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,mFAAmF,0BAA0B;;AAE7G;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,YAAY,IAAqC;AACjD;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA,iEAAiE;AACjE,oCAAoC;AACpC;AACA,KAAK;;AAEL;AACA,GAAG;;AAEH;AACA;;;AAGA;AACA,C;;;;;;;;;;;;AC/Ma;;AAEb;AACA;AACA,CAAC;;AAED,uBAAuB,mBAAO,CAAC,2EAAmB;;AAElD;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,iBAAiB,mBAAO,CAAC,+DAAa;;AAEtC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,kBAAkB,mBAAO,CAAC,iEAAc;;AAExC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,kBAAkB,mBAAO,CAAC,iEAAc;;AAExC;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED,sCAAsC,uCAAuC,gBAAgB,E;;;;;;;;;;;;AC1ChF;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AClBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;AClBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA,MAAM,IAAqC;AAC3C,sFAAsF,aAAa;AACnG;AACA;;AAEA,mBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;ACrBa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,iBAAiB,mBAAO,CAAC,sDAAW;;AAEpC;;AAEA,cAAc,mBAAO,CAAC,qDAAQ;;AAE9B,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;;;;;;ACnCa;;AAEb;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;;AAEA,eAAe,mBAAO,CAAC,wDAAgB;;AAEvC;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA,QAAQ;AACR,C;;;;;;;;;;;;ACpBa;;AAEb;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;AClCa;;AAEb;AACA;AACA,CAAC;;AAED,oGAAoG,mBAAmB,EAAE,mBAAmB,8HAA8H;;AAE1Q;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,kBAAkB;AACnC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,C;;;;;;;;;;;;ACzCa;;AAEb;AACA;AACA,CAAC;AACD;;AAEA,oBAAoB,mBAAO,CAAC,iFAAsB;;AAElD;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,WAAW,iBAAiB;;AAE5B;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA,C;;;;;;;;;;;;ACxEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,KAAK;AAC9B;AACA;AACA,GAAG;AACH;;AAEA;AACA,kCAAkC,0DAA0D;AAC5F;;AAEA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;;AAEA;;AAEA;AACA,2CAA2C;AAC3C;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,sBAAsB;AACtB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,uBAAuB;AACvB;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA,EAAE;AACF;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,2CAA2C;AAC3C,EAAE;AACF;AACA;AACA,GAAG;AACH;AACA,EAAE;AACF;;AAEA;AACA,sFAAsF;AACtF,GAAG;AACH,0FAA0F;AAC1F;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,4CAA4C,KAAK;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA,iBAAiB,UAAU;AAC3B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,kBAAkB,iBAAiB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,0BAA0B;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,EAAE;AACF;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,+BAA+B;AAC/B;AACA;AACA,EAAE;AACF;AACA;AACA;AACA,EAAE;AACF;AACA,CAAC;;AAED;AACA,8BAA8B;AAC9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEe,qEAAM,EAAC;AAC0E;AAChG;;;;;;;;;;;;;ACntBa;AACb,8CAA8C,cAAc;AAC5D,wBAAwB,mBAAO,CAAC,wGAAyB;AACzD;AACA;AACA,CAAC;AACD,0DAA0D,+BAA+B,EAAE;;;;;;;;;;;;;ACN9E;AACb,8CAA8C,cAAc;AAC5D,wBAAwB,mBAAO,CAAC,wGAAyB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC5Ba;AACb;AACA;AACA,gDAAgD,OAAO;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,gGAAqB;AACvD,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD,oBAAoB,mBAAO,CAAC,oFAAe;AAC3C,0BAA0B,mBAAO,CAAC,sGAAqB;AACvD,kBAAkB,mBAAO,CAAC,oFAAe;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C;AAC3C,2CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,0CAA0C,EAAE;AACxF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,gCAAgC,2CAA2C;AAC3E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2CAA2C;AACvF,8CAA8C,mCAAmC;AACjF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2CAA2C;AACvF,2CAA2C,0CAA0C;AACrF,uCAAuC,sCAAsC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,mDAAmD,0BAA0B;AACtG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB,0DAA0D,iCAAiC;AACpH;AACA;AACA;AACA,6DAA6D,sCAAsC,EAAE;AACrG;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC9ea;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,uBAAuB,YAAY;AACnC;AACA;AACA,sCAAsC,iCAAiC,EAAE;AACzE;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,gBAAgB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC1Fa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;;;;;;;;;;;;;AC7Ca;AACb,8CAA8C,cAAc;AAC5D;AACA,sEAAsE,uDAAuD,EAAE;AAC/H;AACA;AACA;;;;;;;;;;;;;ACNa;AACb,8CAA8C,cAAc;AAC5D,0BAA0B,mBAAO,CAAC,kHAAqB;AACvD,yBAAyB,mBAAO,CAAC,gHAAoB;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA+C,0CAA0C,EAAE;AAC3F,KAAK;AACL;AACA;;;;;;;;;;;;;AClBa;AACb,8CAA8C,cAAc;AAC5D;AACA,kBAAkB,mBAAO,CAAC,qFAAgB;AAC1C,gCAAgC,mBAAO,CAAC,8HAA2B;AACnE,oCAAoC;AACpC;AACA;AACA;AACA;AACA,aAAa;AACb,4CAA4C,2BAA2B,EAAE;AACzE,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT;AACA,KAAK;AACL;;;;;;;;;;;;;AC/Ba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;;;;;;;;;;;;;ACJa;AACb,8CAA8C,cAAc;AAC5D,wBAAwB,mBAAO,CAAC,4FAAmB;AACnD,6BAA6B,mBAAO,CAAC,sGAAwB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACvFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;;;;;;;;;;;;;ACXa;AACb,8CAA8C,cAAc;AAC5D,qBAAqB,mBAAO,CAAC,sFAAgB;AAC7C,sBAAsB,mBAAO,CAAC,wFAAiB;AAC/C;AACA,kBAAkB,mBAAO,CAAC,oFAAe;AACzC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACVa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,mBAAmB,EAAE;AAC3D;AACA;AACA;AACA;AACA,sCAAsC,sBAAsB;AAC5D;AACA;AACA;AACA,gCAAgC,yBAAyB,EAAE;AAC3D;AACA;AACA;;;;;;;;;;;;;AC7Ba;;AAEb;AACA;AACA;;AAEA,qBAAqB,mBAAO,CAAC,oEAAsB;;AAEnD;;AAEA,wBAAwB,mBAAO,CAAC,uEAAmB;;AAEnD;;AAEA,sCAAsC,uCAAuC,kBAAkB;;AAE/F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA,aAAa,IAAI;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB;AACA;AACA,EAAE;AACF;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,eAAe,IAAI;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,mBAAmB,sBAAsB;AACzC;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,SAAS;AACtB,eAAe;AACf;AACA;AACA;AACA;AACA;;AAEA;AACA,cAAc,yBAAyB;AACvC;;AAEA;AACA;AACA,eAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAiB,OAAO;AACxB;AACA,mBAAmB,aAAa;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAgB;AAChB;AACA,KAAK;AACL;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,YAAY,yBAAyB;;AAErC;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,C;;;;;;;;;;;;ACpQA;AAAA;AAAA;AACqC;;AAErC;;AAEA;AACA;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC,UAAU,IAA6B;AACxC;AACA,CAAC,MAAM,EAEN;;AAED,aAAa,4DAAQ;AACN,qEAAM,EAAC;;;;;;;;;;;;;;AClBtB;AAAA;AAAe;AACf;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;;;;;;;;;;;;AChBA;;AAEA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;;AAEA;AACA;AACA,4CAA4C;;AAE5C;;;;;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEAA,mDAAU,CAACC,IAAX,CAAgB,EAAhB;;AAEA,MAAMC,YAAY,GAAGC,IAAI,IAAI;AACzB,SAAOA,IAAI,CAAC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","file":"app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/app.js\");\n","\"use strict\";\n\n// rawAsap provides everything we need except exception management.\nvar rawAsap = require(\"./raw\");\n// RawTasks are recycled to reduce GC churn.\nvar freeTasks = [];\n// We queue errors to ensure they are thrown in right order (FIFO).\n// Array-as-queue is good enough here, since we are just dealing with exceptions.\nvar pendingErrors = [];\nvar requestErrorThrow = rawAsap.makeRequestCallFromTimer(throwFirstError);\n\nfunction throwFirstError() {\n    if (pendingErrors.length) {\n        throw pendingErrors.shift();\n    }\n}\n\n/**\n * Calls a task as soon as possible after returning, in its own event, with priority\n * over other events like animation, reflow, and repaint. An error thrown from an\n * event will not interrupt, nor even substantially slow down the processing of\n * other events, but will be rather postponed to a lower priority event.\n * @param {{call}} task A callable object, typically a function that takes no\n * arguments.\n */\nmodule.exports = asap;\nfunction asap(task) {\n    var rawTask;\n    if (freeTasks.length) {\n        rawTask = freeTasks.pop();\n    } else {\n        rawTask = new RawTask();\n    }\n    rawTask.task = task;\n    rawAsap(rawTask);\n}\n\n// We wrap tasks with recyclable task objects.  A task object implements\n// `call`, just like a function.\nfunction RawTask() {\n    this.task = null;\n}\n\n// The sole purpose of wrapping the task is to catch the exception and recycle\n// the task object after its single use.\nRawTask.prototype.call = function () {\n    try {\n        this.task.call();\n    } catch (error) {\n        if (asap.onerror) {\n            // This hook exists purely for testing purposes.\n            // Its name will be periodically randomized to break any code that\n            // depends on its existence.\n            asap.onerror(error);\n        } else {\n            // In a web browser, exceptions are not fatal. However, to avoid\n            // slowing down the queue of pending tasks, we rethrow the error in a\n            // lower priority turn.\n            pendingErrors.push(error);\n            requestErrorThrow();\n        }\n    } finally {\n        this.task = null;\n        freeTasks[freeTasks.length] = this;\n    }\n};\n","\"use strict\";\n\n// Use the fastest means possible to execute a task in its own turn, with\n// priority over other events including IO, animation, reflow, and redraw\n// events in browsers.\n//\n// An exception thrown by a task will permanently interrupt the processing of\n// subsequent tasks. The higher level `asap` function ensures that if an\n// exception is thrown by a task, that the task queue will continue flushing as\n// soon as possible, but if you use `rawAsap` directly, you are responsible to\n// either ensure that no exceptions are thrown from your task, or to manually\n// call `rawAsap.requestFlush` if an exception is thrown.\nmodule.exports = rawAsap;\nfunction rawAsap(task) {\n    if (!queue.length) {\n        requestFlush();\n        flushing = true;\n    }\n    // Equivalent to push, but avoids a function call.\n    queue[queue.length] = task;\n}\n\nvar queue = [];\n// Once a flush has been requested, no further calls to `requestFlush` are\n// necessary until the next `flush` completes.\nvar flushing = false;\n// `requestFlush` is an implementation-specific method that attempts to kick\n// off a `flush` event as quickly as possible. `flush` will attempt to exhaust\n// the event queue before yielding to the browser's own event loop.\nvar requestFlush;\n// The position of the next task to execute in the task queue. This is\n// preserved between calls to `flush` so that it can be resumed if\n// a task throws an exception.\nvar index = 0;\n// If a task schedules additional tasks recursively, the task queue can grow\n// unbounded. To prevent memory exhaustion, the task queue will periodically\n// truncate already-completed tasks.\nvar capacity = 1024;\n\n// The flush function processes all tasks that have been scheduled with\n// `rawAsap` unless and until one of those tasks throws an exception.\n// If a task throws an exception, `flush` ensures that its state will remain\n// consistent and will resume where it left off when called again.\n// However, `flush` does not make any arrangements to be called again if an\n// exception is thrown.\nfunction flush() {\n    while (index < queue.length) {\n        var currentIndex = index;\n        // Advance the index before calling the task. This ensures that we will\n        // begin flushing on the next task the task throws an error.\n        index = index + 1;\n        queue[currentIndex].call();\n        // Prevent leaking memory for long chains of recursive calls to `asap`.\n        // If we call `asap` within tasks scheduled by `asap`, the queue will\n        // grow, but to avoid an O(n) walk for every task we execute, we don't\n        // shift tasks off the queue after they have been executed.\n        // Instead, we periodically shift 1024 tasks off the queue.\n        if (index > capacity) {\n            // Manually shift all values starting at the index back to the\n            // beginning of the queue.\n            for (var scan = 0, newLength = queue.length - index; scan < newLength; scan++) {\n                queue[scan] = queue[scan + index];\n            }\n            queue.length -= index;\n            index = 0;\n        }\n    }\n    queue.length = 0;\n    index = 0;\n    flushing = false;\n}\n\n// `requestFlush` is implemented using a strategy based on data collected from\n// every available SauceLabs Selenium web driver worker at time of writing.\n// https://docs.google.com/spreadsheets/d/1mG-5UYGup5qxGdEMWkhP6BWCz053NUb2E1QoUTU16uA/edit#gid=783724593\n\n// Safari 6 and 6.1 for desktop, iPad, and iPhone are the only browsers that\n// have WebKitMutationObserver but not un-prefixed MutationObserver.\n// Must use `global` or `self` instead of `window` to work in both frames and web\n// workers. `global` is a provision of Browserify, Mr, Mrs, or Mop.\n\n/* globals self */\nvar scope = typeof global !== \"undefined\" ? global : self;\nvar BrowserMutationObserver = scope.MutationObserver || scope.WebKitMutationObserver;\n\n// MutationObservers are desirable because they have high priority and work\n// reliably everywhere they are implemented.\n// They are implemented in all modern browsers.\n//\n// - Android 4-4.3\n// - Chrome 26-34\n// - Firefox 14-29\n// - Internet Explorer 11\n// - iPad Safari 6-7.1\n// - iPhone Safari 7-7.1\n// - Safari 6-7\nif (typeof BrowserMutationObserver === \"function\") {\n    requestFlush = makeRequestCallFromMutationObserver(flush);\n\n// MessageChannels are desirable because they give direct access to the HTML\n// task queue, are implemented in Internet Explorer 10, Safari 5.0-1, and Opera\n// 11-12, and in web workers in many engines.\n// Although message channels yield to any queued rendering and IO tasks, they\n// would be better than imposing the 4ms delay of timers.\n// However, they do not work reliably in Internet Explorer or Safari.\n\n// Internet Explorer 10 is the only browser that has setImmediate but does\n// not have MutationObservers.\n// Although setImmediate yields to the browser's renderer, it would be\n// preferrable to falling back to setTimeout since it does not have\n// the minimum 4ms penalty.\n// Unfortunately there appears to be a bug in Internet Explorer 10 Mobile (and\n// Desktop to a lesser extent) that renders both setImmediate and\n// MessageChannel useless for the purposes of ASAP.\n// https://github.com/kriskowal/q/issues/396\n\n// Timers are implemented universally.\n// We fall back to timers in workers in most engines, and in foreground\n// contexts in the following browsers.\n// However, note that even this simple case requires nuances to operate in a\n// broad spectrum of browsers.\n//\n// - Firefox 3-13\n// - Internet Explorer 6-9\n// - iPad Safari 4.3\n// - Lynx 2.8.7\n} else {\n    requestFlush = makeRequestCallFromTimer(flush);\n}\n\n// `requestFlush` requests that the high priority event queue be flushed as\n// soon as possible.\n// This is useful to prevent an error thrown in a task from stalling the event\n// queue if the exception handled by Node.js’s\n// `process.on(\"uncaughtException\")` or by a domain.\nrawAsap.requestFlush = requestFlush;\n\n// To request a high priority event, we induce a mutation observer by toggling\n// the text of a text node between \"1\" and \"-1\".\nfunction makeRequestCallFromMutationObserver(callback) {\n    var toggle = 1;\n    var observer = new BrowserMutationObserver(callback);\n    var node = document.createTextNode(\"\");\n    observer.observe(node, {characterData: true});\n    return function requestCall() {\n        toggle = -toggle;\n        node.data = toggle;\n    };\n}\n\n// The message channel technique was discovered by Malte Ubl and was the\n// original foundation for this library.\n// http://www.nonblocking.io/2011/06/windownexttick.html\n\n// Safari 6.0.5 (at least) intermittently fails to create message ports on a\n// page's first load. Thankfully, this version of Safari supports\n// MutationObservers, so we don't need to fall back in that case.\n\n// function makeRequestCallFromMessageChannel(callback) {\n//     var channel = new MessageChannel();\n//     channel.port1.onmessage = callback;\n//     return function requestCall() {\n//         channel.port2.postMessage(0);\n//     };\n// }\n\n// For reasons explained above, we are also unable to use `setImmediate`\n// under any circumstances.\n// Even if we were, there is another bug in Internet Explorer 10.\n// It is not sufficient to assign `setImmediate` to `requestFlush` because\n// `setImmediate` must be called *by name* and therefore must be wrapped in a\n// closure.\n// Never forget.\n\n// function makeRequestCallFromSetImmediate(callback) {\n//     return function requestCall() {\n//         setImmediate(callback);\n//     };\n// }\n\n// Safari 6.0 has a problem where timers will get lost while the user is\n// scrolling. This problem does not impact ASAP because Safari 6.0 supports\n// mutation observers, so that implementation is used instead.\n// However, if we ever elect to use timers in Safari, the prevalent work-around\n// is to add a scroll event listener that calls for a flush.\n\n// `setTimeout` does not call the passed callback if the delay is less than\n// approximately 7 in web workers in Firefox 8 through 18, and sometimes not\n// even then.\n\nfunction makeRequestCallFromTimer(callback) {\n    return function requestCall() {\n        // We dispatch a timeout with a specified delay of 0 for engines that\n        // can reliably accommodate that request. This will usually be snapped\n        // to a 4 milisecond delay, but once we're flushing, there's no delay\n        // between events.\n        var timeoutHandle = setTimeout(handleTimer, 0);\n        // However, since this timer gets frequently dropped in Firefox\n        // workers, we enlist an interval handle that will try to fire\n        // an event 20 times per second until it succeeds.\n        var intervalHandle = setInterval(handleTimer, 50);\n\n        function handleTimer() {\n            // Whichever timer succeeds will cancel both timers and\n            // execute the callback.\n            clearTimeout(timeoutHandle);\n            clearInterval(intervalHandle);\n            callback();\n        }\n    };\n}\n\n// This is for `asap.js` only.\n// Its name will be periodically randomized to break any code that depends on\n// its existence.\nrawAsap.makeRequestCallFromTimer = makeRequestCallFromTimer;\n\n// ASAP was originally a nextTick shim included in Q. This was factored out\n// into this ASAP package. It was later adapted to RSVP which made further\n// amendments. These decisions, particularly to marginalize MessageChannel and\n// to capture the MutationObserver implementation in a closure, were integrated\n// back into ASAP proper.\n// https://github.com/tildeio/rsvp.js/blob/cddf7232546a9cf858524b75cde6f9edf72620a7/lib/rsvp/asap.js\n","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _isDisposable = require('./isDisposable');\n\nvar _isDisposable2 = _interopRequireDefault(_isDisposable);\n\n/**\n * Represents a group of disposable resources that are disposed together.\n */\n\nvar CompositeDisposable = (function () {\n  function CompositeDisposable() {\n    for (var _len = arguments.length, disposables = Array(_len), _key = 0; _key < _len; _key++) {\n      disposables[_key] = arguments[_key];\n    }\n\n    _classCallCheck(this, CompositeDisposable);\n\n    if (Array.isArray(disposables[0]) && disposables.length === 1) {\n      disposables = disposables[0];\n    }\n\n    for (var i = 0; i < disposables.length; i++) {\n      if (!_isDisposable2['default'](disposables[i])) {\n        throw new Error('Expected a disposable');\n      }\n    }\n\n    this.disposables = disposables;\n    this.isDisposed = false;\n  }\n\n  /**\n   * Adds a disposable to the CompositeDisposable or disposes the disposable if the CompositeDisposable is disposed.\n   * @param {Disposable} item Disposable to add.\n   */\n\n  CompositeDisposable.prototype.add = function add(item) {\n    if (this.isDisposed) {\n      item.dispose();\n    } else {\n      this.disposables.push(item);\n    }\n  };\n\n  /**\n   * Removes and disposes the first occurrence of a disposable from the CompositeDisposable.\n   * @param {Disposable} item Disposable to remove.\n   * @returns {Boolean} true if found; false otherwise.\n   */\n\n  CompositeDisposable.prototype.remove = function remove(item) {\n    if (this.isDisposed) {\n      return false;\n    }\n\n    var index = this.disposables.indexOf(item);\n    if (index === -1) {\n      return false;\n    }\n\n    this.disposables.splice(index, 1);\n    item.dispose();\n    return true;\n  };\n\n  /**\n   * Disposes all disposables in the group and removes them from the group.\n   */\n\n  CompositeDisposable.prototype.dispose = function dispose() {\n    if (this.isDisposed) {\n      return;\n    }\n\n    var len = this.disposables.length;\n    var currentDisposables = new Array(len);\n    for (var i = 0; i < len; i++) {\n      currentDisposables[i] = this.disposables[i];\n    }\n\n    this.isDisposed = true;\n    this.disposables = [];\n    this.length = 0;\n\n    for (var i = 0; i < len; i++) {\n      currentDisposables[i].dispose();\n    }\n  };\n\n  return CompositeDisposable;\n})();\n\nexports['default'] = CompositeDisposable;\nmodule.exports = exports['default'];","\"use strict\";\n\nexports.__esModule = true;\n\nvar _createClass = (function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; })();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar noop = function noop() {};\n\n/**\n * The basic disposable.\n */\n\nvar Disposable = (function () {\n  _createClass(Disposable, null, [{\n    key: \"empty\",\n    value: { dispose: noop },\n    enumerable: true\n  }]);\n\n  function Disposable(action) {\n    _classCallCheck(this, Disposable);\n\n    this.isDisposed = false;\n    this.action = action || noop;\n  }\n\n  Disposable.prototype.dispose = function dispose() {\n    if (!this.isDisposed) {\n      this.action.call(null);\n      this.isDisposed = true;\n    }\n  };\n\n  return Disposable;\n})();\n\nexports[\"default\"] = Disposable;\nmodule.exports = exports[\"default\"];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError('Cannot call a class as a function'); } }\n\nvar _isDisposable = require('./isDisposable');\n\nvar _isDisposable2 = _interopRequireDefault(_isDisposable);\n\nvar SerialDisposable = (function () {\n  function SerialDisposable() {\n    _classCallCheck(this, SerialDisposable);\n\n    this.isDisposed = false;\n    this.current = null;\n  }\n\n  /**\n   * Gets the underlying disposable.\n   * @return The underlying disposable.\n   */\n\n  SerialDisposable.prototype.getDisposable = function getDisposable() {\n    return this.current;\n  };\n\n  /**\n   * Sets the underlying disposable.\n   * @param {Disposable} value The new underlying disposable.\n   */\n\n  SerialDisposable.prototype.setDisposable = function setDisposable() {\n    var value = arguments.length <= 0 || arguments[0] === undefined ? null : arguments[0];\n\n    if (value != null && !_isDisposable2['default'](value)) {\n      throw new Error('Expected either an empty value or a valid disposable');\n    }\n\n    var isDisposed = this.isDisposed;\n    var previous = undefined;\n\n    if (!isDisposed) {\n      previous = this.current;\n      this.current = value;\n    }\n\n    if (previous) {\n      previous.dispose();\n    }\n\n    if (isDisposed && value) {\n      value.dispose();\n    }\n  };\n\n  /**\n   * Disposes the underlying disposable as well as all future replacements.\n   */\n\n  SerialDisposable.prototype.dispose = function dispose() {\n    if (this.isDisposed) {\n      return;\n    }\n\n    this.isDisposed = true;\n    var previous = this.current;\n    this.current = null;\n\n    if (previous) {\n      previous.dispose();\n    }\n  };\n\n  return SerialDisposable;\n})();\n\nexports['default'] = SerialDisposable;\nmodule.exports = exports['default'];","'use strict';\n\nexports.__esModule = true;\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nvar _isDisposable2 = require('./isDisposable');\n\nvar _isDisposable3 = _interopRequireDefault(_isDisposable2);\n\nexports.isDisposable = _isDisposable3['default'];\n\nvar _Disposable2 = require('./Disposable');\n\nvar _Disposable3 = _interopRequireDefault(_Disposable2);\n\nexports.Disposable = _Disposable3['default'];\n\nvar _CompositeDisposable2 = require('./CompositeDisposable');\n\nvar _CompositeDisposable3 = _interopRequireDefault(_CompositeDisposable2);\n\nexports.CompositeDisposable = _CompositeDisposable3['default'];\n\nvar _SerialDisposable2 = require('./SerialDisposable');\n\nvar _SerialDisposable3 = _interopRequireDefault(_SerialDisposable2);\n\nexports.SerialDisposable = _SerialDisposable3['default'];","'use strict';\n\nexports.__esModule = true;\nexports['default'] = isDisposable;\n\nfunction isDisposable(obj) {\n  return Boolean(obj && typeof obj.dispose === 'function');\n}\n\nmodule.exports = exports['default'];","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _createStore = require('redux/lib/createStore');\n\nvar _createStore2 = _interopRequireDefault(_createStore);\n\nvar _reducers = require('./reducers');\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nvar _dragDrop = require('./actions/dragDrop');\n\nvar dragDropActions = _interopRequireWildcard(_dragDrop);\n\nvar _DragDropMonitor = require('./DragDropMonitor');\n\nvar _DragDropMonitor2 = _interopRequireDefault(_DragDropMonitor);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DragDropManager = function () {\n\tfunction DragDropManager(createBackend) {\n\t\tvar context = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n\t\t_classCallCheck(this, DragDropManager);\n\n\t\tvar store = (0, _createStore2.default)(_reducers2.default);\n\t\tthis.context = context;\n\t\tthis.store = store;\n\t\tthis.monitor = new _DragDropMonitor2.default(store);\n\t\tthis.registry = this.monitor.registry;\n\t\tthis.backend = createBackend(this);\n\n\t\tstore.subscribe(this.handleRefCountChange.bind(this));\n\t}\n\n\t_createClass(DragDropManager, [{\n\t\tkey: 'handleRefCountChange',\n\t\tvalue: function handleRefCountChange() {\n\t\t\tvar shouldSetUp = this.store.getState().refCount > 0;\n\t\t\tif (shouldSetUp && !this.isSetUp) {\n\t\t\t\tthis.backend.setup();\n\t\t\t\tthis.isSetUp = true;\n\t\t\t} else if (!shouldSetUp && this.isSetUp) {\n\t\t\t\tthis.backend.teardown();\n\t\t\t\tthis.isSetUp = false;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getContext',\n\t\tvalue: function getContext() {\n\t\t\treturn this.context;\n\t\t}\n\t}, {\n\t\tkey: 'getMonitor',\n\t\tvalue: function getMonitor() {\n\t\t\treturn this.monitor;\n\t\t}\n\t}, {\n\t\tkey: 'getBackend',\n\t\tvalue: function getBackend() {\n\t\t\treturn this.backend;\n\t\t}\n\t}, {\n\t\tkey: 'getRegistry',\n\t\tvalue: function getRegistry() {\n\t\t\treturn this.registry;\n\t\t}\n\t}, {\n\t\tkey: 'getActions',\n\t\tvalue: function getActions() {\n\t\t\tvar manager = this;\n\t\t\tvar dispatch = this.store.dispatch;\n\n\n\t\t\tfunction bindActionCreator(actionCreator) {\n\t\t\t\treturn function () {\n\t\t\t\t\tfor (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n\t\t\t\t\t\targs[_key] = arguments[_key];\n\t\t\t\t\t}\n\n\t\t\t\t\tvar action = actionCreator.apply(manager, args);\n\t\t\t\t\tif (typeof action !== 'undefined') {\n\t\t\t\t\t\tdispatch(action);\n\t\t\t\t\t}\n\t\t\t\t};\n\t\t\t}\n\n\t\t\treturn Object.keys(dragDropActions).filter(function (key) {\n\t\t\t\treturn typeof dragDropActions[key] === 'function';\n\t\t\t}).reduce(function (boundActions, key) {\n\t\t\t\tvar action = dragDropActions[key];\n\t\t\t\tboundActions[key] = bindActionCreator(action); // eslint-disable-line no-param-reassign\n\t\t\t\treturn boundActions;\n\t\t\t}, {});\n\t\t}\n\t}]);\n\n\treturn DragDropManager;\n}();\n\nexports.default = DragDropManager;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _matchesType = require('./utils/matchesType');\n\nvar _matchesType2 = _interopRequireDefault(_matchesType);\n\nvar _HandlerRegistry = require('./HandlerRegistry');\n\nvar _HandlerRegistry2 = _interopRequireDefault(_HandlerRegistry);\n\nvar _dragOffset = require('./reducers/dragOffset');\n\nvar _dirtyHandlerIds = require('./reducers/dirtyHandlerIds');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DragDropMonitor = function () {\n\tfunction DragDropMonitor(store) {\n\t\t_classCallCheck(this, DragDropMonitor);\n\n\t\tthis.store = store;\n\t\tthis.registry = new _HandlerRegistry2.default(store);\n\t}\n\n\t_createClass(DragDropMonitor, [{\n\t\tkey: 'subscribeToStateChange',\n\t\tvalue: function subscribeToStateChange(listener) {\n\t\t\tvar _this = this;\n\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\t\t\tvar handlerIds = options.handlerIds;\n\n\t\t\t(0, _invariant2.default)(typeof listener === 'function', 'listener must be a function.');\n\t\t\t(0, _invariant2.default)(typeof handlerIds === 'undefined' || (0, _isArray2.default)(handlerIds), 'handlerIds, when specified, must be an array of strings.');\n\n\t\t\tvar prevStateId = this.store.getState().stateId;\n\t\t\tvar handleChange = function handleChange() {\n\t\t\t\tvar state = _this.store.getState();\n\t\t\t\tvar currentStateId = state.stateId;\n\t\t\t\ttry {\n\t\t\t\t\tvar canSkipListener = currentStateId === prevStateId || currentStateId === prevStateId + 1 && !(0, _dirtyHandlerIds.areDirty)(state.dirtyHandlerIds, handlerIds);\n\n\t\t\t\t\tif (!canSkipListener) {\n\t\t\t\t\t\tlistener();\n\t\t\t\t\t}\n\t\t\t\t} finally {\n\t\t\t\t\tprevStateId = currentStateId;\n\t\t\t\t}\n\t\t\t};\n\n\t\t\treturn this.store.subscribe(handleChange);\n\t\t}\n\t}, {\n\t\tkey: 'subscribeToOffsetChange',\n\t\tvalue: function subscribeToOffsetChange(listener) {\n\t\t\tvar _this2 = this;\n\n\t\t\t(0, _invariant2.default)(typeof listener === 'function', 'listener must be a function.');\n\n\t\t\tvar previousState = this.store.getState().dragOffset;\n\t\t\tvar handleChange = function handleChange() {\n\t\t\t\tvar nextState = _this2.store.getState().dragOffset;\n\t\t\t\tif (nextState === previousState) {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tpreviousState = nextState;\n\t\t\t\tlistener();\n\t\t\t};\n\n\t\t\treturn this.store.subscribe(handleChange);\n\t\t}\n\t}, {\n\t\tkey: 'canDragSource',\n\t\tvalue: function canDragSource(sourceId) {\n\t\t\tvar source = this.registry.getSource(sourceId);\n\t\t\t(0, _invariant2.default)(source, 'Expected to find a valid source.');\n\n\t\t\tif (this.isDragging()) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn source.canDrag(this, sourceId);\n\t\t}\n\t}, {\n\t\tkey: 'canDropOnTarget',\n\t\tvalue: function canDropOnTarget(targetId) {\n\t\t\tvar target = this.registry.getTarget(targetId);\n\t\t\t(0, _invariant2.default)(target, 'Expected to find a valid target.');\n\n\t\t\tif (!this.isDragging() || this.didDrop()) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar targetType = this.registry.getTargetType(targetId);\n\t\t\tvar draggedItemType = this.getItemType();\n\t\t\treturn (0, _matchesType2.default)(targetType, draggedItemType) && target.canDrop(this, targetId);\n\t\t}\n\t}, {\n\t\tkey: 'isDragging',\n\t\tvalue: function isDragging() {\n\t\t\treturn Boolean(this.getItemType());\n\t\t}\n\t}, {\n\t\tkey: 'isDraggingSource',\n\t\tvalue: function isDraggingSource(sourceId) {\n\t\t\tvar source = this.registry.getSource(sourceId, true);\n\t\t\t(0, _invariant2.default)(source, 'Expected to find a valid source.');\n\n\t\t\tif (!this.isDragging() || !this.isSourcePublic()) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar sourceType = this.registry.getSourceType(sourceId);\n\t\t\tvar draggedItemType = this.getItemType();\n\t\t\tif (sourceType !== draggedItemType) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\treturn source.isDragging(this, sourceId);\n\t\t}\n\t}, {\n\t\tkey: 'isOverTarget',\n\t\tvalue: function isOverTarget(targetId) {\n\t\t\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { shallow: false };\n\t\t\tvar shallow = options.shallow;\n\n\t\t\tif (!this.isDragging()) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar targetType = this.registry.getTargetType(targetId);\n\t\t\tvar draggedItemType = this.getItemType();\n\t\t\tif (!(0, _matchesType2.default)(targetType, draggedItemType)) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar targetIds = this.getTargetIds();\n\t\t\tif (!targetIds.length) {\n\t\t\t\treturn false;\n\t\t\t}\n\n\t\t\tvar index = targetIds.indexOf(targetId);\n\t\t\tif (shallow) {\n\t\t\t\treturn index === targetIds.length - 1;\n\t\t\t} else {\n\t\t\t\treturn index > -1;\n\t\t\t}\n\t\t}\n\t}, {\n\t\tkey: 'getItemType',\n\t\tvalue: function getItemType() {\n\t\t\treturn this.store.getState().dragOperation.itemType;\n\t\t}\n\t}, {\n\t\tkey: 'getItem',\n\t\tvalue: function getItem() {\n\t\t\treturn this.store.getState().dragOperation.item;\n\t\t}\n\t}, {\n\t\tkey: 'getSourceId',\n\t\tvalue: function getSourceId() {\n\t\t\treturn this.store.getState().dragOperation.sourceId;\n\t\t}\n\t}, {\n\t\tkey: 'getTargetIds',\n\t\tvalue: function getTargetIds() {\n\t\t\treturn this.store.getState().dragOperation.targetIds;\n\t\t}\n\t}, {\n\t\tkey: 'getDropResult',\n\t\tvalue: function getDropResult() {\n\t\t\treturn this.store.getState().dragOperation.dropResult;\n\t\t}\n\t}, {\n\t\tkey: 'didDrop',\n\t\tvalue: function didDrop() {\n\t\t\treturn this.store.getState().dragOperation.didDrop;\n\t\t}\n\t}, {\n\t\tkey: 'isSourcePublic',\n\t\tvalue: function isSourcePublic() {\n\t\t\treturn this.store.getState().dragOperation.isSourcePublic;\n\t\t}\n\t}, {\n\t\tkey: 'getInitialClientOffset',\n\t\tvalue: function getInitialClientOffset() {\n\t\t\treturn this.store.getState().dragOffset.initialClientOffset;\n\t\t}\n\t}, {\n\t\tkey: 'getInitialSourceClientOffset',\n\t\tvalue: function getInitialSourceClientOffset() {\n\t\t\treturn this.store.getState().dragOffset.initialSourceClientOffset;\n\t\t}\n\t}, {\n\t\tkey: 'getClientOffset',\n\t\tvalue: function getClientOffset() {\n\t\t\treturn this.store.getState().dragOffset.clientOffset;\n\t\t}\n\t}, {\n\t\tkey: 'getSourceClientOffset',\n\t\tvalue: function getSourceClientOffset() {\n\t\t\treturn (0, _dragOffset.getSourceClientOffset)(this.store.getState().dragOffset);\n\t\t}\n\t}, {\n\t\tkey: 'getDifferenceFromInitialOffset',\n\t\tvalue: function getDifferenceFromInitialOffset() {\n\t\t\treturn (0, _dragOffset.getDifferenceFromInitialOffset)(this.store.getState().dragOffset);\n\t\t}\n\t}]);\n\n\treturn DragDropMonitor;\n}();\n\nexports.default = DragDropMonitor;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DragSource = function () {\n\tfunction DragSource() {\n\t\t_classCallCheck(this, DragSource);\n\t}\n\n\t_createClass(DragSource, [{\n\t\tkey: \"canDrag\",\n\t\tvalue: function canDrag() {\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: \"isDragging\",\n\t\tvalue: function isDragging(monitor, handle) {\n\t\t\treturn handle === monitor.getSourceId();\n\t\t}\n\t}, {\n\t\tkey: \"endDrag\",\n\t\tvalue: function endDrag() {}\n\t}]);\n\n\treturn DragSource;\n}();\n\nexports.default = DragSource;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DropTarget = function () {\n\tfunction DropTarget() {\n\t\t_classCallCheck(this, DropTarget);\n\t}\n\n\t_createClass(DropTarget, [{\n\t\tkey: \"canDrop\",\n\t\tvalue: function canDrop() {\n\t\t\treturn true;\n\t\t}\n\t}, {\n\t\tkey: \"hover\",\n\t\tvalue: function hover() {}\n\t}, {\n\t\tkey: \"drop\",\n\t\tvalue: function drop() {}\n\t}]);\n\n\treturn DropTarget;\n}();\n\nexports.default = DropTarget;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _asap = require('asap');\n\nvar _asap2 = _interopRequireDefault(_asap);\n\nvar _registry = require('./actions/registry');\n\nvar _getNextUniqueId = require('./utils/getNextUniqueId');\n\nvar _getNextUniqueId2 = _interopRequireDefault(_getNextUniqueId);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar HandlerRoles = {\n\tSOURCE: 'SOURCE',\n\tTARGET: 'TARGET'\n};\n\nfunction validateSourceContract(source) {\n\t(0, _invariant2.default)(typeof source.canDrag === 'function', 'Expected canDrag to be a function.');\n\t(0, _invariant2.default)(typeof source.beginDrag === 'function', 'Expected beginDrag to be a function.');\n\t(0, _invariant2.default)(typeof source.endDrag === 'function', 'Expected endDrag to be a function.');\n}\n\nfunction validateTargetContract(target) {\n\t(0, _invariant2.default)(typeof target.canDrop === 'function', 'Expected canDrop to be a function.');\n\t(0, _invariant2.default)(typeof target.hover === 'function', 'Expected hover to be a function.');\n\t(0, _invariant2.default)(typeof target.drop === 'function', 'Expected beginDrag to be a function.');\n}\n\nfunction validateType(type, allowArray) {\n\tif (allowArray && (0, _isArray2.default)(type)) {\n\t\ttype.forEach(function (t) {\n\t\t\treturn validateType(t, false);\n\t\t});\n\t\treturn;\n\t}\n\n\t(0, _invariant2.default)(typeof type === 'string' || (typeof type === 'undefined' ? 'undefined' : _typeof(type)) === 'symbol', allowArray ? 'Type can only be a string, a symbol, or an array of either.' : 'Type can only be a string or a symbol.');\n}\n\nfunction getNextHandlerId(role) {\n\tvar id = (0, _getNextUniqueId2.default)().toString();\n\tswitch (role) {\n\t\tcase HandlerRoles.SOURCE:\n\t\t\treturn 'S' + id;\n\t\tcase HandlerRoles.TARGET:\n\t\t\treturn 'T' + id;\n\t\tdefault:\n\t\t\t(0, _invariant2.default)(false, 'Unknown role: ' + role);\n\t}\n}\n\nfunction parseRoleFromHandlerId(handlerId) {\n\tswitch (handlerId[0]) {\n\t\tcase 'S':\n\t\t\treturn HandlerRoles.SOURCE;\n\t\tcase 'T':\n\t\t\treturn HandlerRoles.TARGET;\n\t\tdefault:\n\t\t\t(0, _invariant2.default)(false, 'Cannot parse handler ID: ' + handlerId);\n\t}\n}\n\nvar HandlerRegistry = function () {\n\tfunction HandlerRegistry(store) {\n\t\t_classCallCheck(this, HandlerRegistry);\n\n\t\tthis.store = store;\n\n\t\tthis.types = {};\n\t\tthis.handlers = {};\n\n\t\tthis.pinnedSourceId = null;\n\t\tthis.pinnedSource = null;\n\t}\n\n\t_createClass(HandlerRegistry, [{\n\t\tkey: 'addSource',\n\t\tvalue: function addSource(type, source) {\n\t\t\tvalidateType(type);\n\t\t\tvalidateSourceContract(source);\n\n\t\t\tvar sourceId = this.addHandler(HandlerRoles.SOURCE, type, source);\n\t\t\tthis.store.dispatch((0, _registry.addSource)(sourceId));\n\t\t\treturn sourceId;\n\t\t}\n\t}, {\n\t\tkey: 'addTarget',\n\t\tvalue: function addTarget(type, target) {\n\t\t\tvalidateType(type, true);\n\t\t\tvalidateTargetContract(target);\n\n\t\t\tvar targetId = this.addHandler(HandlerRoles.TARGET, type, target);\n\t\t\tthis.store.dispatch((0, _registry.addTarget)(targetId));\n\t\t\treturn targetId;\n\t\t}\n\t}, {\n\t\tkey: 'addHandler',\n\t\tvalue: function addHandler(role, type, handler) {\n\t\t\tvar id = getNextHandlerId(role);\n\t\t\tthis.types[id] = type;\n\t\t\tthis.handlers[id] = handler;\n\n\t\t\treturn id;\n\t\t}\n\t}, {\n\t\tkey: 'containsHandler',\n\t\tvalue: function containsHandler(handler) {\n\t\t\tvar _this = this;\n\n\t\t\treturn Object.keys(this.handlers).some(function (key) {\n\t\t\t\treturn _this.handlers[key] === handler;\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'getSource',\n\t\tvalue: function getSource(sourceId, includePinned) {\n\t\t\t(0, _invariant2.default)(this.isSourceId(sourceId), 'Expected a valid source ID.');\n\n\t\t\tvar isPinned = includePinned && sourceId === this.pinnedSourceId;\n\t\t\tvar source = isPinned ? this.pinnedSource : this.handlers[sourceId];\n\n\t\t\treturn source;\n\t\t}\n\t}, {\n\t\tkey: 'getTarget',\n\t\tvalue: function getTarget(targetId) {\n\t\t\t(0, _invariant2.default)(this.isTargetId(targetId), 'Expected a valid target ID.');\n\t\t\treturn this.handlers[targetId];\n\t\t}\n\t}, {\n\t\tkey: 'getSourceType',\n\t\tvalue: function getSourceType(sourceId) {\n\t\t\t(0, _invariant2.default)(this.isSourceId(sourceId), 'Expected a valid source ID.');\n\t\t\treturn this.types[sourceId];\n\t\t}\n\t}, {\n\t\tkey: 'getTargetType',\n\t\tvalue: function getTargetType(targetId) {\n\t\t\t(0, _invariant2.default)(this.isTargetId(targetId), 'Expected a valid target ID.');\n\t\t\treturn this.types[targetId];\n\t\t}\n\t}, {\n\t\tkey: 'isSourceId',\n\t\tvalue: function isSourceId(handlerId) {\n\t\t\tvar role = parseRoleFromHandlerId(handlerId);\n\t\t\treturn role === HandlerRoles.SOURCE;\n\t\t}\n\t}, {\n\t\tkey: 'isTargetId',\n\t\tvalue: function isTargetId(handlerId) {\n\t\t\tvar role = parseRoleFromHandlerId(handlerId);\n\t\t\treturn role === HandlerRoles.TARGET;\n\t\t}\n\t}, {\n\t\tkey: 'removeSource',\n\t\tvalue: function removeSource(sourceId) {\n\t\t\tvar _this2 = this;\n\n\t\t\t(0, _invariant2.default)(this.getSource(sourceId), 'Expected an existing source.');\n\t\t\tthis.store.dispatch((0, _registry.removeSource)(sourceId));\n\n\t\t\t(0, _asap2.default)(function () {\n\t\t\t\tdelete _this2.handlers[sourceId];\n\t\t\t\tdelete _this2.types[sourceId];\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'removeTarget',\n\t\tvalue: function removeTarget(targetId) {\n\t\t\tvar _this3 = this;\n\n\t\t\t(0, _invariant2.default)(this.getTarget(targetId), 'Expected an existing target.');\n\t\t\tthis.store.dispatch((0, _registry.removeTarget)(targetId));\n\n\t\t\t(0, _asap2.default)(function () {\n\t\t\t\tdelete _this3.handlers[targetId];\n\t\t\t\tdelete _this3.types[targetId];\n\t\t\t});\n\t\t}\n\t}, {\n\t\tkey: 'pinSource',\n\t\tvalue: function pinSource(sourceId) {\n\t\t\tvar source = this.getSource(sourceId);\n\t\t\t(0, _invariant2.default)(source, 'Expected an existing source.');\n\n\t\t\tthis.pinnedSourceId = sourceId;\n\t\t\tthis.pinnedSource = source;\n\t\t}\n\t}, {\n\t\tkey: 'unpinSource',\n\t\tvalue: function unpinSource() {\n\t\t\t(0, _invariant2.default)(this.pinnedSource, 'No source is pinned at the time.');\n\n\t\t\tthis.pinnedSourceId = null;\n\t\t\tthis.pinnedSource = null;\n\t\t}\n\t}]);\n\n\treturn HandlerRegistry;\n}();\n\nexports.default = HandlerRegistry;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.END_DRAG = exports.DROP = exports.HOVER = exports.PUBLISH_DRAG_SOURCE = exports.BEGIN_DRAG = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.beginDrag = beginDrag;\nexports.publishDragSource = publishDragSource;\nexports.hover = hover;\nexports.drop = drop;\nexports.endDrag = endDrag;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nvar _isObject = require('lodash/isObject');\n\nvar _isObject2 = _interopRequireDefault(_isObject);\n\nvar _matchesType = require('../utils/matchesType');\n\nvar _matchesType2 = _interopRequireDefault(_matchesType);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar BEGIN_DRAG = exports.BEGIN_DRAG = 'dnd-core/BEGIN_DRAG';\nvar PUBLISH_DRAG_SOURCE = exports.PUBLISH_DRAG_SOURCE = 'dnd-core/PUBLISH_DRAG_SOURCE';\nvar HOVER = exports.HOVER = 'dnd-core/HOVER';\nvar DROP = exports.DROP = 'dnd-core/DROP';\nvar END_DRAG = exports.END_DRAG = 'dnd-core/END_DRAG';\n\nfunction beginDrag(sourceIds) {\n\tvar options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : { publishSource: true, clientOffset: null };\n\tvar publishSource = options.publishSource,\n\t    clientOffset = options.clientOffset,\n\t    getSourceClientOffset = options.getSourceClientOffset;\n\n\t(0, _invariant2.default)((0, _isArray2.default)(sourceIds), 'Expected sourceIds to be an array.');\n\n\tvar monitor = this.getMonitor();\n\tvar registry = this.getRegistry();\n\t(0, _invariant2.default)(!monitor.isDragging(), 'Cannot call beginDrag while dragging.');\n\n\tfor (var i = 0; i < sourceIds.length; i++) {\n\t\t(0, _invariant2.default)(registry.getSource(sourceIds[i]), 'Expected sourceIds to be registered.');\n\t}\n\n\tvar sourceId = null;\n\tfor (var _i = sourceIds.length - 1; _i >= 0; _i--) {\n\t\tif (monitor.canDragSource(sourceIds[_i])) {\n\t\t\tsourceId = sourceIds[_i];\n\t\t\tbreak;\n\t\t}\n\t}\n\tif (sourceId === null) {\n\t\treturn;\n\t}\n\n\tvar sourceClientOffset = null;\n\tif (clientOffset) {\n\t\t(0, _invariant2.default)(typeof getSourceClientOffset === 'function', 'When clientOffset is provided, getSourceClientOffset must be a function.');\n\t\tsourceClientOffset = getSourceClientOffset(sourceId);\n\t}\n\n\tvar source = registry.getSource(sourceId);\n\tvar item = source.beginDrag(monitor, sourceId);\n\t(0, _invariant2.default)((0, _isObject2.default)(item), 'Item must be an object.');\n\n\tregistry.pinSource(sourceId);\n\n\tvar itemType = registry.getSourceType(sourceId);\n\treturn {\n\t\ttype: BEGIN_DRAG,\n\t\titemType: itemType,\n\t\titem: item,\n\t\tsourceId: sourceId,\n\t\tclientOffset: clientOffset,\n\t\tsourceClientOffset: sourceClientOffset,\n\t\tisSourcePublic: publishSource\n\t};\n}\n\nfunction publishDragSource() {\n\tvar monitor = this.getMonitor();\n\tif (!monitor.isDragging()) {\n\t\treturn;\n\t}\n\n\treturn { type: PUBLISH_DRAG_SOURCE };\n}\n\nfunction hover(targetIdsArg) {\n\tvar _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n\t    _ref$clientOffset = _ref.clientOffset,\n\t    clientOffset = _ref$clientOffset === undefined ? null : _ref$clientOffset;\n\n\t(0, _invariant2.default)((0, _isArray2.default)(targetIdsArg), 'Expected targetIds to be an array.');\n\tvar targetIds = targetIdsArg.slice(0);\n\n\tvar monitor = this.getMonitor();\n\tvar registry = this.getRegistry();\n\t(0, _invariant2.default)(monitor.isDragging(), 'Cannot call hover while not dragging.');\n\t(0, _invariant2.default)(!monitor.didDrop(), 'Cannot call hover after drop.');\n\n\t// First check invariants.\n\tfor (var i = 0; i < targetIds.length; i++) {\n\t\tvar targetId = targetIds[i];\n\t\t(0, _invariant2.default)(targetIds.lastIndexOf(targetId) === i, 'Expected targetIds to be unique in the passed array.');\n\n\t\tvar target = registry.getTarget(targetId);\n\t\t(0, _invariant2.default)(target, 'Expected targetIds to be registered.');\n\t}\n\n\tvar draggedItemType = monitor.getItemType();\n\n\t// Remove those targetIds that don't match the targetType.  This\n\t// fixes shallow isOver which would only be non-shallow because of\n\t// non-matching targets.\n\tfor (var _i2 = targetIds.length - 1; _i2 >= 0; _i2--) {\n\t\tvar _targetId = targetIds[_i2];\n\t\tvar targetType = registry.getTargetType(_targetId);\n\t\tif (!(0, _matchesType2.default)(targetType, draggedItemType)) {\n\t\t\ttargetIds.splice(_i2, 1);\n\t\t}\n\t}\n\n\t// Finally call hover on all matching targets.\n\tfor (var _i3 = 0; _i3 < targetIds.length; _i3++) {\n\t\tvar _targetId2 = targetIds[_i3];\n\t\tvar _target = registry.getTarget(_targetId2);\n\t\t_target.hover(monitor, _targetId2);\n\t}\n\n\treturn {\n\t\ttype: HOVER,\n\t\ttargetIds: targetIds,\n\t\tclientOffset: clientOffset\n\t};\n}\n\nfunction drop() {\n\tvar _this = this;\n\n\tvar options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n\tvar monitor = this.getMonitor();\n\tvar registry = this.getRegistry();\n\t(0, _invariant2.default)(monitor.isDragging(), 'Cannot call drop while not dragging.');\n\t(0, _invariant2.default)(!monitor.didDrop(), 'Cannot call drop twice during one drag operation.');\n\n\tvar targetIds = monitor.getTargetIds().filter(monitor.canDropOnTarget, monitor);\n\n\ttargetIds.reverse();\n\ttargetIds.forEach(function (targetId, index) {\n\t\tvar target = registry.getTarget(targetId);\n\n\t\tvar dropResult = target.drop(monitor, targetId);\n\t\t(0, _invariant2.default)(typeof dropResult === 'undefined' || (0, _isObject2.default)(dropResult), 'Drop result must either be an object or undefined.');\n\t\tif (typeof dropResult === 'undefined') {\n\t\t\tdropResult = index === 0 ? {} : monitor.getDropResult();\n\t\t}\n\n\t\t_this.store.dispatch({\n\t\t\ttype: DROP,\n\t\t\tdropResult: _extends({}, options, dropResult)\n\t\t});\n\t});\n}\n\nfunction endDrag() {\n\tvar monitor = this.getMonitor();\n\tvar registry = this.getRegistry();\n\t(0, _invariant2.default)(monitor.isDragging(), 'Cannot call endDrag while not dragging.');\n\n\tvar sourceId = monitor.getSourceId();\n\tvar source = registry.getSource(sourceId, true);\n\tsource.endDrag(monitor, sourceId);\n\n\tregistry.unpinSource();\n\n\treturn { type: END_DRAG };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.addSource = addSource;\nexports.addTarget = addTarget;\nexports.removeSource = removeSource;\nexports.removeTarget = removeTarget;\nvar ADD_SOURCE = exports.ADD_SOURCE = 'dnd-core/ADD_SOURCE';\nvar ADD_TARGET = exports.ADD_TARGET = 'dnd-core/ADD_TARGET';\nvar REMOVE_SOURCE = exports.REMOVE_SOURCE = 'dnd-core/REMOVE_SOURCE';\nvar REMOVE_TARGET = exports.REMOVE_TARGET = 'dnd-core/REMOVE_TARGET';\n\nfunction addSource(sourceId) {\n\treturn {\n\t\ttype: ADD_SOURCE,\n\t\tsourceId: sourceId\n\t};\n}\n\nfunction addTarget(targetId) {\n\treturn {\n\t\ttype: ADD_TARGET,\n\t\ttargetId: targetId\n\t};\n}\n\nfunction removeSource(sourceId) {\n\treturn {\n\t\ttype: REMOVE_SOURCE,\n\t\tsourceId: sourceId\n\t};\n}\n\nfunction removeTarget(targetId) {\n\treturn {\n\t\ttype: REMOVE_TARGET,\n\t\ttargetId: targetId\n\t};\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createBackend;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TestBackend = function () {\n\tfunction TestBackend(manager) {\n\t\t_classCallCheck(this, TestBackend);\n\n\t\tthis.actions = manager.getActions();\n\t}\n\n\t_createClass(TestBackend, [{\n\t\tkey: 'setup',\n\t\tvalue: function setup() {\n\t\t\tthis.didCallSetup = true;\n\t\t}\n\t}, {\n\t\tkey: 'teardown',\n\t\tvalue: function teardown() {\n\t\t\tthis.didCallTeardown = true;\n\t\t}\n\t}, {\n\t\tkey: 'connectDragSource',\n\t\tvalue: function connectDragSource() {\n\t\t\treturn _noop2.default;\n\t\t}\n\t}, {\n\t\tkey: 'connectDragPreview',\n\t\tvalue: function connectDragPreview() {\n\t\t\treturn _noop2.default;\n\t\t}\n\t}, {\n\t\tkey: 'connectDropTarget',\n\t\tvalue: function connectDropTarget() {\n\t\t\treturn _noop2.default;\n\t\t}\n\t}, {\n\t\tkey: 'simulateBeginDrag',\n\t\tvalue: function simulateBeginDrag(sourceIds, options) {\n\t\t\tthis.actions.beginDrag(sourceIds, options);\n\t\t}\n\t}, {\n\t\tkey: 'simulatePublishDragSource',\n\t\tvalue: function simulatePublishDragSource() {\n\t\t\tthis.actions.publishDragSource();\n\t\t}\n\t}, {\n\t\tkey: 'simulateHover',\n\t\tvalue: function simulateHover(targetIds, options) {\n\t\t\tthis.actions.hover(targetIds, options);\n\t\t}\n\t}, {\n\t\tkey: 'simulateDrop',\n\t\tvalue: function simulateDrop() {\n\t\t\tthis.actions.drop();\n\t\t}\n\t}, {\n\t\tkey: 'simulateEndDrag',\n\t\tvalue: function simulateEndDrag() {\n\t\t\tthis.actions.endDrag();\n\t\t}\n\t}]);\n\n\treturn TestBackend;\n}();\n\nfunction createBackend(manager) {\n\treturn new TestBackend(manager);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _DragDropManager = require('./DragDropManager');\n\nObject.defineProperty(exports, 'DragDropManager', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragDropManager).default;\n  }\n});\n\nvar _DragSource = require('./DragSource');\n\nObject.defineProperty(exports, 'DragSource', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragSource).default;\n  }\n});\n\nvar _DropTarget = require('./DropTarget');\n\nObject.defineProperty(exports, 'DropTarget', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DropTarget).default;\n  }\n});\n\nvar _createTestBackend = require('./backends/createTestBackend');\n\nObject.defineProperty(exports, 'createTestBackend', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_createTestBackend).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = dirtyHandlerIds;\nexports.areDirty = areDirty;\n\nvar _xor = require('lodash/xor');\n\nvar _xor2 = _interopRequireDefault(_xor);\n\nvar _intersection = require('lodash/intersection');\n\nvar _intersection2 = _interopRequireDefault(_intersection);\n\nvar _dragDrop = require('../actions/dragDrop');\n\nvar _registry = require('../actions/registry');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar NONE = [];\nvar ALL = [];\n\nfunction dirtyHandlerIds() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : NONE;\n\tvar action = arguments[1];\n\tvar dragOperation = arguments[2];\n\n\tswitch (action.type) {\n\t\tcase _dragDrop.HOVER:\n\t\t\tbreak;\n\t\tcase _registry.ADD_SOURCE:\n\t\tcase _registry.ADD_TARGET:\n\t\tcase _registry.REMOVE_TARGET:\n\t\tcase _registry.REMOVE_SOURCE:\n\t\t\treturn NONE;\n\t\tcase _dragDrop.BEGIN_DRAG:\n\t\tcase _dragDrop.PUBLISH_DRAG_SOURCE:\n\t\tcase _dragDrop.END_DRAG:\n\t\tcase _dragDrop.DROP:\n\t\tdefault:\n\t\t\treturn ALL;\n\t}\n\n\tvar targetIds = action.targetIds;\n\tvar prevTargetIds = dragOperation.targetIds;\n\n\tvar result = (0, _xor2.default)(targetIds, prevTargetIds);\n\n\tvar didChange = false;\n\tif (result.length === 0) {\n\t\tfor (var i = 0; i < targetIds.length; i++) {\n\t\t\tif (targetIds[i] !== prevTargetIds[i]) {\n\t\t\t\tdidChange = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t} else {\n\t\tdidChange = true;\n\t}\n\n\tif (!didChange) {\n\t\treturn NONE;\n\t}\n\n\tvar prevInnermostTargetId = prevTargetIds[prevTargetIds.length - 1];\n\tvar innermostTargetId = targetIds[targetIds.length - 1];\n\n\tif (prevInnermostTargetId !== innermostTargetId) {\n\t\tif (prevInnermostTargetId) {\n\t\t\tresult.push(prevInnermostTargetId);\n\t\t}\n\t\tif (innermostTargetId) {\n\t\t\tresult.push(innermostTargetId);\n\t\t}\n\t}\n\n\treturn result;\n}\n\nfunction areDirty(state, handlerIds) {\n\tif (state === NONE) {\n\t\treturn false;\n\t}\n\n\tif (state === ALL || typeof handlerIds === 'undefined') {\n\t\treturn true;\n\t}\n\n\treturn (0, _intersection2.default)(handlerIds, state).length > 0;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = dragOffset;\nexports.getSourceClientOffset = getSourceClientOffset;\nexports.getDifferenceFromInitialOffset = getDifferenceFromInitialOffset;\n\nvar _dragDrop = require('../actions/dragDrop');\n\nvar initialState = {\n\tinitialSourceClientOffset: null,\n\tinitialClientOffset: null,\n\tclientOffset: null\n};\n\nfunction areOffsetsEqual(offsetA, offsetB) {\n\tif (offsetA === offsetB) {\n\t\treturn true;\n\t}\n\treturn offsetA && offsetB && offsetA.x === offsetB.x && offsetA.y === offsetB.y;\n}\n\nfunction dragOffset() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase _dragDrop.BEGIN_DRAG:\n\t\t\treturn {\n\t\t\t\tinitialSourceClientOffset: action.sourceClientOffset,\n\t\t\t\tinitialClientOffset: action.clientOffset,\n\t\t\t\tclientOffset: action.clientOffset\n\t\t\t};\n\t\tcase _dragDrop.HOVER:\n\t\t\tif (areOffsetsEqual(state.clientOffset, action.clientOffset)) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn _extends({}, state, {\n\t\t\t\tclientOffset: action.clientOffset\n\t\t\t});\n\t\tcase _dragDrop.END_DRAG:\n\t\tcase _dragDrop.DROP:\n\t\t\treturn initialState;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}\n\nfunction getSourceClientOffset(state) {\n\tvar clientOffset = state.clientOffset,\n\t    initialClientOffset = state.initialClientOffset,\n\t    initialSourceClientOffset = state.initialSourceClientOffset;\n\n\tif (!clientOffset || !initialClientOffset || !initialSourceClientOffset) {\n\t\treturn null;\n\t}\n\treturn {\n\t\tx: clientOffset.x + initialSourceClientOffset.x - initialClientOffset.x,\n\t\ty: clientOffset.y + initialSourceClientOffset.y - initialClientOffset.y\n\t};\n}\n\nfunction getDifferenceFromInitialOffset(state) {\n\tvar clientOffset = state.clientOffset,\n\t    initialClientOffset = state.initialClientOffset;\n\n\tif (!clientOffset || !initialClientOffset) {\n\t\treturn null;\n\t}\n\treturn {\n\t\tx: clientOffset.x - initialClientOffset.x,\n\t\ty: clientOffset.y - initialClientOffset.y\n\t};\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = dragOperation;\n\nvar _without = require('lodash/without');\n\nvar _without2 = _interopRequireDefault(_without);\n\nvar _dragDrop = require('../actions/dragDrop');\n\nvar _registry = require('../actions/registry');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar initialState = {\n\titemType: null,\n\titem: null,\n\tsourceId: null,\n\ttargetIds: [],\n\tdropResult: null,\n\tdidDrop: false,\n\tisSourcePublic: null\n};\n\nfunction dragOperation() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase _dragDrop.BEGIN_DRAG:\n\t\t\treturn _extends({}, state, {\n\t\t\t\titemType: action.itemType,\n\t\t\t\titem: action.item,\n\t\t\t\tsourceId: action.sourceId,\n\t\t\t\tisSourcePublic: action.isSourcePublic,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false\n\t\t\t});\n\t\tcase _dragDrop.PUBLISH_DRAG_SOURCE:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tisSourcePublic: true\n\t\t\t});\n\t\tcase _dragDrop.HOVER:\n\t\t\treturn _extends({}, state, {\n\t\t\t\ttargetIds: action.targetIds\n\t\t\t});\n\t\tcase _registry.REMOVE_TARGET:\n\t\t\tif (state.targetIds.indexOf(action.targetId) === -1) {\n\t\t\t\treturn state;\n\t\t\t}\n\t\t\treturn _extends({}, state, {\n\t\t\t\ttargetIds: (0, _without2.default)(state.targetIds, action.targetId)\n\t\t\t});\n\t\tcase _dragDrop.DROP:\n\t\t\treturn _extends({}, state, {\n\t\t\t\tdropResult: action.dropResult,\n\t\t\t\tdidDrop: true,\n\t\t\t\ttargetIds: []\n\t\t\t});\n\t\tcase _dragDrop.END_DRAG:\n\t\t\treturn _extends({}, state, {\n\t\t\t\titemType: null,\n\t\t\t\titem: null,\n\t\t\t\tsourceId: null,\n\t\t\t\tdropResult: null,\n\t\t\t\tdidDrop: false,\n\t\t\t\tisSourcePublic: null,\n\t\t\t\ttargetIds: []\n\t\t\t});\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = reduce;\n\nvar _dragOffset = require('./dragOffset');\n\nvar _dragOffset2 = _interopRequireDefault(_dragOffset);\n\nvar _dragOperation = require('./dragOperation');\n\nvar _dragOperation2 = _interopRequireDefault(_dragOperation);\n\nvar _refCount = require('./refCount');\n\nvar _refCount2 = _interopRequireDefault(_refCount);\n\nvar _dirtyHandlerIds = require('./dirtyHandlerIds');\n\nvar _dirtyHandlerIds2 = _interopRequireDefault(_dirtyHandlerIds);\n\nvar _stateId = require('./stateId');\n\nvar _stateId2 = _interopRequireDefault(_stateId);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction reduce() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\tvar action = arguments[1];\n\n\treturn {\n\t\tdirtyHandlerIds: (0, _dirtyHandlerIds2.default)(state.dirtyHandlerIds, action, state.dragOperation),\n\t\tdragOffset: (0, _dragOffset2.default)(state.dragOffset, action),\n\t\trefCount: (0, _refCount2.default)(state.refCount, action),\n\t\tdragOperation: (0, _dragOperation2.default)(state.dragOperation, action),\n\t\tstateId: (0, _stateId2.default)(state.stateId)\n\t};\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = refCount;\n\nvar _registry = require('../actions/registry');\n\nfunction refCount() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\tvar action = arguments[1];\n\n\tswitch (action.type) {\n\t\tcase _registry.ADD_SOURCE:\n\t\tcase _registry.ADD_TARGET:\n\t\t\treturn state + 1;\n\t\tcase _registry.REMOVE_SOURCE:\n\t\tcase _registry.REMOVE_TARGET:\n\t\t\treturn state - 1;\n\t\tdefault:\n\t\t\treturn state;\n\t}\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = stateId;\nfunction stateId() {\n\tvar state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n\treturn state + 1;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = getNextUniqueId;\nvar nextUniqueId = 0;\n\nfunction getNextUniqueId() {\n\treturn nextUniqueId++;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n\tvalue: true\n});\nexports.default = matchesType;\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction matchesType(targetType, draggedItemType) {\n\tif ((0, _isArray2.default)(targetType)) {\n\t\treturn targetType.some(function (t) {\n\t\t\treturn t === draggedItemType;\n\t\t});\n\t} else {\n\t\treturn targetType === draggedItemType;\n\t}\n}","/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n'use strict';\n\nvar REACT_STATICS = {\n    childContextTypes: true,\n    contextTypes: true,\n    defaultProps: true,\n    displayName: true,\n    getDefaultProps: true,\n    mixins: true,\n    propTypes: true,\n    type: true\n};\n\nvar KNOWN_STATICS = {\n    name: true,\n    length: true,\n    prototype: true,\n    caller: true,\n    arguments: true,\n    arity: true\n};\n\nvar isGetOwnPropertySymbolsAvailable = typeof Object.getOwnPropertySymbols === 'function';\n\nmodule.exports = function hoistNonReactStatics(targetComponent, sourceComponent, customStatics) {\n    if (typeof sourceComponent !== 'string') { // don't hoist over string (html) components\n        var keys = Object.getOwnPropertyNames(sourceComponent);\n\n        /* istanbul ignore else */\n        if (isGetOwnPropertySymbolsAvailable) {\n            keys = keys.concat(Object.getOwnPropertySymbols(sourceComponent));\n        }\n\n        for (var i = 0; i < keys.length; ++i) {\n            if (!REACT_STATICS[keys[i]] && !KNOWN_STATICS[keys[i]] && (!customStatics || !customStatics[keys[i]])) {\n                try {\n                    targetComponent[keys[i]] = sourceComponent[keys[i]];\n                } catch (error) {\n\n                }\n            }\n        }\n    }\n\n    return targetComponent;\n};\n","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\n/**\n * Use invariant() to assert state which your program assumes to be true.\n *\n * Provide sprintf-style format (only %s is supported) and arguments\n * to provide information about what broke and what you were\n * expecting.\n *\n * The invariant message will be stripped in production, but the invariant\n * will remain to ensure logic does not differ in production.\n */\n\nvar invariant = function(condition, format, a, b, c, d, e, f) {\n  if (process.env.NODE_ENV !== 'production') {\n    if (format === undefined) {\n      throw new Error('invariant requires an error message argument');\n    }\n  }\n\n  if (!condition) {\n    var error;\n    if (format === undefined) {\n      error = new Error(\n        'Minified exception occurred; use the non-minified dev environment ' +\n        'for the full error message and additional helpful warnings.'\n      );\n    } else {\n      var args = [a, b, c, d, e, f];\n      var argIndex = 0;\n      error = new Error(\n        format.replace(/%s/g, function() { return args[argIndex++]; })\n      );\n      error.name = 'Invariant Violation';\n    }\n\n    error.framesToPop = 1; // we don't care about invariant's own frame\n    throw error;\n  }\n};\n\nmodule.exports = invariant;\n","var hashClear = require('./_hashClear'),\n    hashDelete = require('./_hashDelete'),\n    hashGet = require('./_hashGet'),\n    hashHas = require('./_hashHas'),\n    hashSet = require('./_hashSet');\n\n/**\n * Creates a hash object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction Hash(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `Hash`.\nHash.prototype.clear = hashClear;\nHash.prototype['delete'] = hashDelete;\nHash.prototype.get = hashGet;\nHash.prototype.has = hashHas;\nHash.prototype.set = hashSet;\n\nmodule.exports = Hash;\n","var listCacheClear = require('./_listCacheClear'),\n    listCacheDelete = require('./_listCacheDelete'),\n    listCacheGet = require('./_listCacheGet'),\n    listCacheHas = require('./_listCacheHas'),\n    listCacheSet = require('./_listCacheSet');\n\n/**\n * Creates an list cache object.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction ListCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `ListCache`.\nListCache.prototype.clear = listCacheClear;\nListCache.prototype['delete'] = listCacheDelete;\nListCache.prototype.get = listCacheGet;\nListCache.prototype.has = listCacheHas;\nListCache.prototype.set = listCacheSet;\n\nmodule.exports = ListCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Map = getNative(root, 'Map');\n\nmodule.exports = Map;\n","var mapCacheClear = require('./_mapCacheClear'),\n    mapCacheDelete = require('./_mapCacheDelete'),\n    mapCacheGet = require('./_mapCacheGet'),\n    mapCacheHas = require('./_mapCacheHas'),\n    mapCacheSet = require('./_mapCacheSet');\n\n/**\n * Creates a map cache object to store key-value pairs.\n *\n * @private\n * @constructor\n * @param {Array} [entries] The key-value pairs to cache.\n */\nfunction MapCache(entries) {\n  var index = -1,\n      length = entries == null ? 0 : entries.length;\n\n  this.clear();\n  while (++index < length) {\n    var entry = entries[index];\n    this.set(entry[0], entry[1]);\n  }\n}\n\n// Add methods to `MapCache`.\nMapCache.prototype.clear = mapCacheClear;\nMapCache.prototype['delete'] = mapCacheDelete;\nMapCache.prototype.get = mapCacheGet;\nMapCache.prototype.has = mapCacheHas;\nMapCache.prototype.set = mapCacheSet;\n\nmodule.exports = MapCache;\n","var getNative = require('./_getNative'),\n    root = require('./_root');\n\n/* Built-in method references that are verified to be native. */\nvar Set = getNative(root, 'Set');\n\nmodule.exports = Set;\n","var MapCache = require('./_MapCache'),\n    setCacheAdd = require('./_setCacheAdd'),\n    setCacheHas = require('./_setCacheHas');\n\n/**\n *\n * Creates an array cache object to store unique values.\n *\n * @private\n * @constructor\n * @param {Array} [values] The values to cache.\n */\nfunction SetCache(values) {\n  var index = -1,\n      length = values == null ? 0 : values.length;\n\n  this.__data__ = new MapCache;\n  while (++index < length) {\n    this.add(values[index]);\n  }\n}\n\n// Add methods to `SetCache`.\nSetCache.prototype.add = SetCache.prototype.push = setCacheAdd;\nSetCache.prototype.has = setCacheHas;\n\nmodule.exports = SetCache;\n","var root = require('./_root');\n\n/** Built-in value references. */\nvar Symbol = root.Symbol;\n\nmodule.exports = Symbol;\n","/**\n * A faster alternative to `Function#apply`, this function invokes `func`\n * with the `this` binding of `thisArg` and the arguments of `args`.\n *\n * @private\n * @param {Function} func The function to invoke.\n * @param {*} thisArg The `this` binding of `func`.\n * @param {Array} args The arguments to invoke `func` with.\n * @returns {*} Returns the result of `func`.\n */\nfunction apply(func, thisArg, args) {\n  switch (args.length) {\n    case 0: return func.call(thisArg);\n    case 1: return func.call(thisArg, args[0]);\n    case 2: return func.call(thisArg, args[0], args[1]);\n    case 3: return func.call(thisArg, args[0], args[1], args[2]);\n  }\n  return func.apply(thisArg, args);\n}\n\nmodule.exports = apply;\n","/**\n * A specialized version of `_.filter` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} predicate The function invoked per iteration.\n * @returns {Array} Returns the new filtered array.\n */\nfunction arrayFilter(array, predicate) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      resIndex = 0,\n      result = [];\n\n  while (++index < length) {\n    var value = array[index];\n    if (predicate(value, index, array)) {\n      result[resIndex++] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = arrayFilter;\n","var baseIndexOf = require('./_baseIndexOf');\n\n/**\n * A specialized version of `_.includes` for arrays without support for\n * specifying an index to search from.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludes(array, value) {\n  var length = array == null ? 0 : array.length;\n  return !!length && baseIndexOf(array, value, 0) > -1;\n}\n\nmodule.exports = arrayIncludes;\n","/**\n * This function is like `arrayIncludes` except that it accepts a comparator.\n *\n * @private\n * @param {Array} [array] The array to inspect.\n * @param {*} target The value to search for.\n * @param {Function} comparator The comparator invoked per element.\n * @returns {boolean} Returns `true` if `target` is found, else `false`.\n */\nfunction arrayIncludesWith(array, value, comparator) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  while (++index < length) {\n    if (comparator(value, array[index])) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = arrayIncludesWith;\n","/**\n * A specialized version of `_.map` for arrays without support for iteratee\n * shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @returns {Array} Returns the new mapped array.\n */\nfunction arrayMap(array, iteratee) {\n  var index = -1,\n      length = array == null ? 0 : array.length,\n      result = Array(length);\n\n  while (++index < length) {\n    result[index] = iteratee(array[index], index, array);\n  }\n  return result;\n}\n\nmodule.exports = arrayMap;\n","/**\n * Appends the elements of `values` to `array`.\n *\n * @private\n * @param {Array} array The array to modify.\n * @param {Array} values The values to append.\n * @returns {Array} Returns `array`.\n */\nfunction arrayPush(array, values) {\n  var index = -1,\n      length = values.length,\n      offset = array.length;\n\n  while (++index < length) {\n    array[offset + index] = values[index];\n  }\n  return array;\n}\n\nmodule.exports = arrayPush;\n","var baseAssignValue = require('./_baseAssignValue'),\n    eq = require('./eq');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Assigns `value` to `key` of `object` if the existing value is not equivalent\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction assignValue(object, key, value) {\n  var objValue = object[key];\n  if (!(hasOwnProperty.call(object, key) && eq(objValue, value)) ||\n      (value === undefined && !(key in object))) {\n    baseAssignValue(object, key, value);\n  }\n}\n\nmodule.exports = assignValue;\n","var eq = require('./eq');\n\n/**\n * Gets the index at which the `key` is found in `array` of key-value pairs.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} key The key to search for.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction assocIndexOf(array, key) {\n  var length = array.length;\n  while (length--) {\n    if (eq(array[length][0], key)) {\n      return length;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = assocIndexOf;\n","var defineProperty = require('./_defineProperty');\n\n/**\n * The base implementation of `assignValue` and `assignMergeValue` without\n * value checks.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {string} key The key of the property to assign.\n * @param {*} value The value to assign.\n */\nfunction baseAssignValue(object, key, value) {\n  if (key == '__proto__' && defineProperty) {\n    defineProperty(object, key, {\n      'configurable': true,\n      'enumerable': true,\n      'value': value,\n      'writable': true\n    });\n  } else {\n    object[key] = value;\n  }\n}\n\nmodule.exports = baseAssignValue;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of methods like `_.difference` without support\n * for excluding multiple arrays or iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Array} values The values to exclude.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of filtered values.\n */\nfunction baseDifference(array, values, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      isCommon = true,\n      length = array.length,\n      result = [],\n      valuesLength = values.length;\n\n  if (!length) {\n    return result;\n  }\n  if (iteratee) {\n    values = arrayMap(values, baseUnary(iteratee));\n  }\n  if (comparator) {\n    includes = arrayIncludesWith;\n    isCommon = false;\n  }\n  else if (values.length >= LARGE_ARRAY_SIZE) {\n    includes = cacheHas;\n    isCommon = false;\n    values = new SetCache(values);\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee == null ? value : iteratee(value);\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var valuesIndex = valuesLength;\n      while (valuesIndex--) {\n        if (values[valuesIndex] === computed) {\n          continue outer;\n        }\n      }\n      result.push(value);\n    }\n    else if (!includes(values, computed, comparator)) {\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseDifference;\n","/**\n * The base implementation of `_.findIndex` and `_.findLastIndex` without\n * support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} predicate The function invoked per iteration.\n * @param {number} fromIndex The index to search from.\n * @param {boolean} [fromRight] Specify iterating from right to left.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseFindIndex(array, predicate, fromIndex, fromRight) {\n  var length = array.length,\n      index = fromIndex + (fromRight ? 1 : -1);\n\n  while ((fromRight ? index-- : ++index < length)) {\n    if (predicate(array[index], index, array)) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = baseFindIndex;\n","var arrayPush = require('./_arrayPush'),\n    isFlattenable = require('./_isFlattenable');\n\n/**\n * The base implementation of `_.flatten` with support for restricting flattening.\n *\n * @private\n * @param {Array} array The array to flatten.\n * @param {number} depth The maximum recursion depth.\n * @param {boolean} [predicate=isFlattenable] The function invoked per iteration.\n * @param {boolean} [isStrict] Restrict to values that pass `predicate` checks.\n * @param {Array} [result=[]] The initial result value.\n * @returns {Array} Returns the new flattened array.\n */\nfunction baseFlatten(array, depth, predicate, isStrict, result) {\n  var index = -1,\n      length = array.length;\n\n  predicate || (predicate = isFlattenable);\n  result || (result = []);\n\n  while (++index < length) {\n    var value = array[index];\n    if (depth > 0 && predicate(value)) {\n      if (depth > 1) {\n        // Recursively flatten arrays (susceptible to call stack limits).\n        baseFlatten(value, depth - 1, predicate, isStrict, result);\n      } else {\n        arrayPush(result, value);\n      }\n    } else if (!isStrict) {\n      result[result.length] = value;\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseFlatten;\n","var castPath = require('./_castPath'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.get` without support for default values.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @returns {*} Returns the resolved value.\n */\nfunction baseGet(object, path) {\n  path = castPath(path, object);\n\n  var index = 0,\n      length = path.length;\n\n  while (object != null && index < length) {\n    object = object[toKey(path[index++])];\n  }\n  return (index && index == length) ? object : undefined;\n}\n\nmodule.exports = baseGet;\n","var Symbol = require('./_Symbol'),\n    getRawTag = require('./_getRawTag'),\n    objectToString = require('./_objectToString');\n\n/** `Object#toString` result references. */\nvar nullTag = '[object Null]',\n    undefinedTag = '[object Undefined]';\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * The base implementation of `getTag` without fallbacks for buggy environments.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the `toStringTag`.\n */\nfunction baseGetTag(value) {\n  if (value == null) {\n    return value === undefined ? undefinedTag : nullTag;\n  }\n  return (symToStringTag && symToStringTag in Object(value))\n    ? getRawTag(value)\n    : objectToString(value);\n}\n\nmodule.exports = baseGetTag;\n","var baseFindIndex = require('./_baseFindIndex'),\n    baseIsNaN = require('./_baseIsNaN'),\n    strictIndexOf = require('./_strictIndexOf');\n\n/**\n * The base implementation of `_.indexOf` without `fromIndex` bounds checks.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction baseIndexOf(array, value, fromIndex) {\n  return value === value\n    ? strictIndexOf(array, value, fromIndex)\n    : baseFindIndex(array, baseIsNaN, fromIndex);\n}\n\nmodule.exports = baseIndexOf;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    arrayMap = require('./_arrayMap'),\n    baseUnary = require('./_baseUnary'),\n    cacheHas = require('./_cacheHas');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMin = Math.min;\n\n/**\n * The base implementation of methods like `_.intersection`, without support\n * for iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of shared values.\n */\nfunction baseIntersection(arrays, iteratee, comparator) {\n  var includes = comparator ? arrayIncludesWith : arrayIncludes,\n      length = arrays[0].length,\n      othLength = arrays.length,\n      othIndex = othLength,\n      caches = Array(othLength),\n      maxLength = Infinity,\n      result = [];\n\n  while (othIndex--) {\n    var array = arrays[othIndex];\n    if (othIndex && iteratee) {\n      array = arrayMap(array, baseUnary(iteratee));\n    }\n    maxLength = nativeMin(array.length, maxLength);\n    caches[othIndex] = !comparator && (iteratee || (length >= 120 && array.length >= 120))\n      ? new SetCache(othIndex && array)\n      : undefined;\n  }\n  array = arrays[0];\n\n  var index = -1,\n      seen = caches[0];\n\n  outer:\n  while (++index < length && result.length < maxLength) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (!(seen\n          ? cacheHas(seen, computed)\n          : includes(result, computed, comparator)\n        )) {\n      othIndex = othLength;\n      while (--othIndex) {\n        var cache = caches[othIndex];\n        if (!(cache\n              ? cacheHas(cache, computed)\n              : includes(arrays[othIndex], computed, comparator))\n            ) {\n          continue outer;\n        }\n      }\n      if (seen) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseIntersection;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar argsTag = '[object Arguments]';\n\n/**\n * The base implementation of `_.isArguments`.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n */\nfunction baseIsArguments(value) {\n  return isObjectLike(value) && baseGetTag(value) == argsTag;\n}\n\nmodule.exports = baseIsArguments;\n","/**\n * The base implementation of `_.isNaN` without support for number objects.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\n */\nfunction baseIsNaN(value) {\n  return value !== value;\n}\n\nmodule.exports = baseIsNaN;\n","var isFunction = require('./isFunction'),\n    isMasked = require('./_isMasked'),\n    isObject = require('./isObject'),\n    toSource = require('./_toSource');\n\n/**\n * Used to match `RegExp`\n * [syntax characters](http://ecma-international.org/ecma-262/7.0/#sec-patterns).\n */\nvar reRegExpChar = /[\\\\^$.*+?()[\\]{}|]/g;\n\n/** Used to detect host constructors (Safari). */\nvar reIsHostCtor = /^\\[object .+?Constructor\\]$/;\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to detect if a method is native. */\nvar reIsNative = RegExp('^' +\n  funcToString.call(hasOwnProperty).replace(reRegExpChar, '\\\\$&')\n  .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\n);\n\n/**\n * The base implementation of `_.isNative` without bad shim checks.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a native function,\n *  else `false`.\n */\nfunction baseIsNative(value) {\n  if (!isObject(value) || isMasked(value)) {\n    return false;\n  }\n  var pattern = isFunction(value) ? reIsNative : reIsHostCtor;\n  return pattern.test(toSource(value));\n}\n\nmodule.exports = baseIsNative;\n","var identity = require('./identity'),\n    overRest = require('./_overRest'),\n    setToString = require('./_setToString');\n\n/**\n * The base implementation of `_.rest` which doesn't validate or coerce arguments.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @returns {Function} Returns the new function.\n */\nfunction baseRest(func, start) {\n  return setToString(overRest(func, start, identity), func + '');\n}\n\nmodule.exports = baseRest;\n","var assignValue = require('./_assignValue'),\n    castPath = require('./_castPath'),\n    isIndex = require('./_isIndex'),\n    isObject = require('./isObject'),\n    toKey = require('./_toKey');\n\n/**\n * The base implementation of `_.set`.\n *\n * @private\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @param {Function} [customizer] The function to customize path creation.\n * @returns {Object} Returns `object`.\n */\nfunction baseSet(object, path, value, customizer) {\n  if (!isObject(object)) {\n    return object;\n  }\n  path = castPath(path, object);\n\n  var index = -1,\n      length = path.length,\n      lastIndex = length - 1,\n      nested = object;\n\n  while (nested != null && ++index < length) {\n    var key = toKey(path[index]),\n        newValue = value;\n\n    if (index != lastIndex) {\n      var objValue = nested[key];\n      newValue = customizer ? customizer(objValue, key, nested) : undefined;\n      if (newValue === undefined) {\n        newValue = isObject(objValue)\n          ? objValue\n          : (isIndex(path[index + 1]) ? [] : {});\n      }\n    }\n    assignValue(nested, key, newValue);\n    nested = nested[key];\n  }\n  return object;\n}\n\nmodule.exports = baseSet;\n","var constant = require('./constant'),\n    defineProperty = require('./_defineProperty'),\n    identity = require('./identity');\n\n/**\n * The base implementation of `setToString` without support for hot loop shorting.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar baseSetToString = !defineProperty ? identity : function(func, string) {\n  return defineProperty(func, 'toString', {\n    'configurable': true,\n    'enumerable': false,\n    'value': constant(string),\n    'writable': true\n  });\n};\n\nmodule.exports = baseSetToString;\n","var Symbol = require('./_Symbol'),\n    arrayMap = require('./_arrayMap'),\n    isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/** Used to convert symbols to primitives and strings. */\nvar symbolProto = Symbol ? Symbol.prototype : undefined,\n    symbolToString = symbolProto ? symbolProto.toString : undefined;\n\n/**\n * The base implementation of `_.toString` which doesn't convert nullish\n * values to empty strings.\n *\n * @private\n * @param {*} value The value to process.\n * @returns {string} Returns the string.\n */\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value;\n  }\n  if (isArray(value)) {\n    // Recursively convert values (susceptible to call stack limits).\n    return arrayMap(value, baseToString) + '';\n  }\n  if (isSymbol(value)) {\n    return symbolToString ? symbolToString.call(value) : '';\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = baseToString;\n","/**\n * The base implementation of `_.unary` without support for storing metadata.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @returns {Function} Returns the new capped function.\n */\nfunction baseUnary(func) {\n  return function(value) {\n    return func(value);\n  };\n}\n\nmodule.exports = baseUnary;\n","var SetCache = require('./_SetCache'),\n    arrayIncludes = require('./_arrayIncludes'),\n    arrayIncludesWith = require('./_arrayIncludesWith'),\n    cacheHas = require('./_cacheHas'),\n    createSet = require('./_createSet'),\n    setToArray = require('./_setToArray');\n\n/** Used as the size to enable large array optimizations. */\nvar LARGE_ARRAY_SIZE = 200;\n\n/**\n * The base implementation of `_.uniqBy` without support for iteratee shorthands.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new duplicate free array.\n */\nfunction baseUniq(array, iteratee, comparator) {\n  var index = -1,\n      includes = arrayIncludes,\n      length = array.length,\n      isCommon = true,\n      result = [],\n      seen = result;\n\n  if (comparator) {\n    isCommon = false;\n    includes = arrayIncludesWith;\n  }\n  else if (length >= LARGE_ARRAY_SIZE) {\n    var set = iteratee ? null : createSet(array);\n    if (set) {\n      return setToArray(set);\n    }\n    isCommon = false;\n    includes = cacheHas;\n    seen = new SetCache;\n  }\n  else {\n    seen = iteratee ? [] : result;\n  }\n  outer:\n  while (++index < length) {\n    var value = array[index],\n        computed = iteratee ? iteratee(value) : value;\n\n    value = (comparator || value !== 0) ? value : 0;\n    if (isCommon && computed === computed) {\n      var seenIndex = seen.length;\n      while (seenIndex--) {\n        if (seen[seenIndex] === computed) {\n          continue outer;\n        }\n      }\n      if (iteratee) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n    else if (!includes(seen, computed, comparator)) {\n      if (seen !== result) {\n        seen.push(computed);\n      }\n      result.push(value);\n    }\n  }\n  return result;\n}\n\nmodule.exports = baseUniq;\n","var baseDifference = require('./_baseDifference'),\n    baseFlatten = require('./_baseFlatten'),\n    baseUniq = require('./_baseUniq');\n\n/**\n * The base implementation of methods like `_.xor`, without support for\n * iteratee shorthands, that accepts an array of arrays to inspect.\n *\n * @private\n * @param {Array} arrays The arrays to inspect.\n * @param {Function} [iteratee] The iteratee invoked per element.\n * @param {Function} [comparator] The comparator invoked per element.\n * @returns {Array} Returns the new array of values.\n */\nfunction baseXor(arrays, iteratee, comparator) {\n  var length = arrays.length;\n  if (length < 2) {\n    return length ? baseUniq(arrays[0]) : [];\n  }\n  var index = -1,\n      result = Array(length);\n\n  while (++index < length) {\n    var array = arrays[index],\n        othIndex = -1;\n\n    while (++othIndex < length) {\n      if (othIndex != index) {\n        result[index] = baseDifference(result[index] || array, arrays[othIndex], iteratee, comparator);\n      }\n    }\n  }\n  return baseUniq(baseFlatten(result, 1), iteratee, comparator);\n}\n\nmodule.exports = baseXor;\n","/**\n * Checks if a `cache` value for `key` exists.\n *\n * @private\n * @param {Object} cache The cache to query.\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction cacheHas(cache, key) {\n  return cache.has(key);\n}\n\nmodule.exports = cacheHas;\n","var isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Casts `value` to an empty array if it's not an array like object.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {Array|Object} Returns the cast array-like object.\n */\nfunction castArrayLikeObject(value) {\n  return isArrayLikeObject(value) ? value : [];\n}\n\nmodule.exports = castArrayLikeObject;\n","var isArray = require('./isArray'),\n    isKey = require('./_isKey'),\n    stringToPath = require('./_stringToPath'),\n    toString = require('./toString');\n\n/**\n * Casts `value` to a path array if it's not one.\n *\n * @private\n * @param {*} value The value to inspect.\n * @param {Object} [object] The object to query keys on.\n * @returns {Array} Returns the cast property path array.\n */\nfunction castPath(value, object) {\n  if (isArray(value)) {\n    return value;\n  }\n  return isKey(value, object) ? [value] : stringToPath(toString(value));\n}\n\nmodule.exports = castPath;\n","var root = require('./_root');\n\n/** Used to detect overreaching core-js shims. */\nvar coreJsData = root['__core-js_shared__'];\n\nmodule.exports = coreJsData;\n","var Set = require('./_Set'),\n    noop = require('./noop'),\n    setToArray = require('./_setToArray');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Creates a set object of `values`.\n *\n * @private\n * @param {Array} values The values to add to the set.\n * @returns {Object} Returns the new set.\n */\nvar createSet = !(Set && (1 / setToArray(new Set([,-0]))[1]) == INFINITY) ? noop : function(values) {\n  return new Set(values);\n};\n\nmodule.exports = createSet;\n","var getNative = require('./_getNative');\n\nvar defineProperty = (function() {\n  try {\n    var func = getNative(Object, 'defineProperty');\n    func({}, '', {});\n    return func;\n  } catch (e) {}\n}());\n\nmodule.exports = defineProperty;\n","/** Detect free variable `global` from Node.js. */\nvar freeGlobal = typeof global == 'object' && global && global.Object === Object && global;\n\nmodule.exports = freeGlobal;\n","var isKeyable = require('./_isKeyable');\n\n/**\n * Gets the data for `map`.\n *\n * @private\n * @param {Object} map The map to query.\n * @param {string} key The reference key.\n * @returns {*} Returns the map data.\n */\nfunction getMapData(map, key) {\n  var data = map.__data__;\n  return isKeyable(key)\n    ? data[typeof key == 'string' ? 'string' : 'hash']\n    : data.map;\n}\n\nmodule.exports = getMapData;\n","var baseIsNative = require('./_baseIsNative'),\n    getValue = require('./_getValue');\n\n/**\n * Gets the native function at `key` of `object`.\n *\n * @private\n * @param {Object} object The object to query.\n * @param {string} key The key of the method to get.\n * @returns {*} Returns the function if it's native, else `undefined`.\n */\nfunction getNative(object, key) {\n  var value = getValue(object, key);\n  return baseIsNative(value) ? value : undefined;\n}\n\nmodule.exports = getNative;\n","var overArg = require('./_overArg');\n\n/** Built-in value references. */\nvar getPrototype = overArg(Object.getPrototypeOf, Object);\n\nmodule.exports = getPrototype;\n","var Symbol = require('./_Symbol');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/** Built-in value references. */\nvar symToStringTag = Symbol ? Symbol.toStringTag : undefined;\n\n/**\n * A specialized version of `baseGetTag` which ignores `Symbol.toStringTag` values.\n *\n * @private\n * @param {*} value The value to query.\n * @returns {string} Returns the raw `toStringTag`.\n */\nfunction getRawTag(value) {\n  var isOwn = hasOwnProperty.call(value, symToStringTag),\n      tag = value[symToStringTag];\n\n  try {\n    value[symToStringTag] = undefined;\n    var unmasked = true;\n  } catch (e) {}\n\n  var result = nativeObjectToString.call(value);\n  if (unmasked) {\n    if (isOwn) {\n      value[symToStringTag] = tag;\n    } else {\n      delete value[symToStringTag];\n    }\n  }\n  return result;\n}\n\nmodule.exports = getRawTag;\n","/**\n * Gets the value at `key` of `object`.\n *\n * @private\n * @param {Object} [object] The object to query.\n * @param {string} key The key of the property to get.\n * @returns {*} Returns the property value.\n */\nfunction getValue(object, key) {\n  return object == null ? undefined : object[key];\n}\n\nmodule.exports = getValue;\n","var nativeCreate = require('./_nativeCreate');\n\n/**\n * Removes all key-value entries from the hash.\n *\n * @private\n * @name clear\n * @memberOf Hash\n */\nfunction hashClear() {\n  this.__data__ = nativeCreate ? nativeCreate(null) : {};\n  this.size = 0;\n}\n\nmodule.exports = hashClear;\n","/**\n * Removes `key` and its value from the hash.\n *\n * @private\n * @name delete\n * @memberOf Hash\n * @param {Object} hash The hash to modify.\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction hashDelete(key) {\n  var result = this.has(key) && delete this.__data__[key];\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = hashDelete;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Gets the hash value for `key`.\n *\n * @private\n * @name get\n * @memberOf Hash\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction hashGet(key) {\n  var data = this.__data__;\n  if (nativeCreate) {\n    var result = data[key];\n    return result === HASH_UNDEFINED ? undefined : result;\n  }\n  return hasOwnProperty.call(data, key) ? data[key] : undefined;\n}\n\nmodule.exports = hashGet;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/**\n * Checks if a hash value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf Hash\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction hashHas(key) {\n  var data = this.__data__;\n  return nativeCreate ? (data[key] !== undefined) : hasOwnProperty.call(data, key);\n}\n\nmodule.exports = hashHas;\n","var nativeCreate = require('./_nativeCreate');\n\n/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Sets the hash `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf Hash\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the hash instance.\n */\nfunction hashSet(key, value) {\n  var data = this.__data__;\n  this.size += this.has(key) ? 0 : 1;\n  data[key] = (nativeCreate && value === undefined) ? HASH_UNDEFINED : value;\n  return this;\n}\n\nmodule.exports = hashSet;\n","var Symbol = require('./_Symbol'),\n    isArguments = require('./isArguments'),\n    isArray = require('./isArray');\n\n/** Built-in value references. */\nvar spreadableSymbol = Symbol ? Symbol.isConcatSpreadable : undefined;\n\n/**\n * Checks if `value` is a flattenable `arguments` object or array.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is flattenable, else `false`.\n */\nfunction isFlattenable(value) {\n  return isArray(value) || isArguments(value) ||\n    !!(spreadableSymbol && value && value[spreadableSymbol]);\n}\n\nmodule.exports = isFlattenable;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/** Used to detect unsigned integer values. */\nvar reIsUint = /^(?:0|[1-9]\\d*)$/;\n\n/**\n * Checks if `value` is a valid array-like index.\n *\n * @private\n * @param {*} value The value to check.\n * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\n * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\n */\nfunction isIndex(value, length) {\n  var type = typeof value;\n  length = length == null ? MAX_SAFE_INTEGER : length;\n\n  return !!length &&\n    (type == 'number' ||\n      (type != 'symbol' && reIsUint.test(value))) &&\n        (value > -1 && value % 1 == 0 && value < length);\n}\n\nmodule.exports = isIndex;\n","var isArray = require('./isArray'),\n    isSymbol = require('./isSymbol');\n\n/** Used to match property names within property paths. */\nvar reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,\n    reIsPlainProp = /^\\w*$/;\n\n/**\n * Checks if `value` is a property name and not a property path.\n *\n * @private\n * @param {*} value The value to check.\n * @param {Object} [object] The object to query keys on.\n * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\n */\nfunction isKey(value, object) {\n  if (isArray(value)) {\n    return false;\n  }\n  var type = typeof value;\n  if (type == 'number' || type == 'symbol' || type == 'boolean' ||\n      value == null || isSymbol(value)) {\n    return true;\n  }\n  return reIsPlainProp.test(value) || !reIsDeepProp.test(value) ||\n    (object != null && value in Object(object));\n}\n\nmodule.exports = isKey;\n","/**\n * Checks if `value` is suitable for use as unique object key.\n *\n * @private\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is suitable, else `false`.\n */\nfunction isKeyable(value) {\n  var type = typeof value;\n  return (type == 'string' || type == 'number' || type == 'symbol' || type == 'boolean')\n    ? (value !== '__proto__')\n    : (value === null);\n}\n\nmodule.exports = isKeyable;\n","var coreJsData = require('./_coreJsData');\n\n/** Used to detect methods masquerading as native. */\nvar maskSrcKey = (function() {\n  var uid = /[^.]+$/.exec(coreJsData && coreJsData.keys && coreJsData.keys.IE_PROTO || '');\n  return uid ? ('Symbol(src)_1.' + uid) : '';\n}());\n\n/**\n * Checks if `func` has its source masked.\n *\n * @private\n * @param {Function} func The function to check.\n * @returns {boolean} Returns `true` if `func` is masked, else `false`.\n */\nfunction isMasked(func) {\n  return !!maskSrcKey && (maskSrcKey in func);\n}\n\nmodule.exports = isMasked;\n","/**\n * Removes all key-value entries from the list cache.\n *\n * @private\n * @name clear\n * @memberOf ListCache\n */\nfunction listCacheClear() {\n  this.__data__ = [];\n  this.size = 0;\n}\n\nmodule.exports = listCacheClear;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/** Used for built-in method references. */\nvar arrayProto = Array.prototype;\n\n/** Built-in value references. */\nvar splice = arrayProto.splice;\n\n/**\n * Removes `key` and its value from the list cache.\n *\n * @private\n * @name delete\n * @memberOf ListCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction listCacheDelete(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    return false;\n  }\n  var lastIndex = data.length - 1;\n  if (index == lastIndex) {\n    data.pop();\n  } else {\n    splice.call(data, index, 1);\n  }\n  --this.size;\n  return true;\n}\n\nmodule.exports = listCacheDelete;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Gets the list cache value for `key`.\n *\n * @private\n * @name get\n * @memberOf ListCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction listCacheGet(key) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  return index < 0 ? undefined : data[index][1];\n}\n\nmodule.exports = listCacheGet;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Checks if a list cache value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf ListCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction listCacheHas(key) {\n  return assocIndexOf(this.__data__, key) > -1;\n}\n\nmodule.exports = listCacheHas;\n","var assocIndexOf = require('./_assocIndexOf');\n\n/**\n * Sets the list cache `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf ListCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the list cache instance.\n */\nfunction listCacheSet(key, value) {\n  var data = this.__data__,\n      index = assocIndexOf(data, key);\n\n  if (index < 0) {\n    ++this.size;\n    data.push([key, value]);\n  } else {\n    data[index][1] = value;\n  }\n  return this;\n}\n\nmodule.exports = listCacheSet;\n","var Hash = require('./_Hash'),\n    ListCache = require('./_ListCache'),\n    Map = require('./_Map');\n\n/**\n * Removes all key-value entries from the map.\n *\n * @private\n * @name clear\n * @memberOf MapCache\n */\nfunction mapCacheClear() {\n  this.size = 0;\n  this.__data__ = {\n    'hash': new Hash,\n    'map': new (Map || ListCache),\n    'string': new Hash\n  };\n}\n\nmodule.exports = mapCacheClear;\n","var getMapData = require('./_getMapData');\n\n/**\n * Removes `key` and its value from the map.\n *\n * @private\n * @name delete\n * @memberOf MapCache\n * @param {string} key The key of the value to remove.\n * @returns {boolean} Returns `true` if the entry was removed, else `false`.\n */\nfunction mapCacheDelete(key) {\n  var result = getMapData(this, key)['delete'](key);\n  this.size -= result ? 1 : 0;\n  return result;\n}\n\nmodule.exports = mapCacheDelete;\n","var getMapData = require('./_getMapData');\n\n/**\n * Gets the map value for `key`.\n *\n * @private\n * @name get\n * @memberOf MapCache\n * @param {string} key The key of the value to get.\n * @returns {*} Returns the entry value.\n */\nfunction mapCacheGet(key) {\n  return getMapData(this, key).get(key);\n}\n\nmodule.exports = mapCacheGet;\n","var getMapData = require('./_getMapData');\n\n/**\n * Checks if a map value for `key` exists.\n *\n * @private\n * @name has\n * @memberOf MapCache\n * @param {string} key The key of the entry to check.\n * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\n */\nfunction mapCacheHas(key) {\n  return getMapData(this, key).has(key);\n}\n\nmodule.exports = mapCacheHas;\n","var getMapData = require('./_getMapData');\n\n/**\n * Sets the map `key` to `value`.\n *\n * @private\n * @name set\n * @memberOf MapCache\n * @param {string} key The key of the value to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns the map cache instance.\n */\nfunction mapCacheSet(key, value) {\n  var data = getMapData(this, key),\n      size = data.size;\n\n  data.set(key, value);\n  this.size += data.size == size ? 0 : 1;\n  return this;\n}\n\nmodule.exports = mapCacheSet;\n","var memoize = require('./memoize');\n\n/** Used as the maximum memoize cache size. */\nvar MAX_MEMOIZE_SIZE = 500;\n\n/**\n * A specialized version of `_.memoize` which clears the memoized function's\n * cache when it exceeds `MAX_MEMOIZE_SIZE`.\n *\n * @private\n * @param {Function} func The function to have its output memoized.\n * @returns {Function} Returns the new memoized function.\n */\nfunction memoizeCapped(func) {\n  var result = memoize(func, function(key) {\n    if (cache.size === MAX_MEMOIZE_SIZE) {\n      cache.clear();\n    }\n    return key;\n  });\n\n  var cache = result.cache;\n  return result;\n}\n\nmodule.exports = memoizeCapped;\n","var getNative = require('./_getNative');\n\n/* Built-in method references that are verified to be native. */\nvar nativeCreate = getNative(Object, 'create');\n\nmodule.exports = nativeCreate;\n","/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/**\n * Used to resolve the\n * [`toStringTag`](http://ecma-international.org/ecma-262/7.0/#sec-object.prototype.tostring)\n * of values.\n */\nvar nativeObjectToString = objectProto.toString;\n\n/**\n * Converts `value` to a string using `Object.prototype.toString`.\n *\n * @private\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n */\nfunction objectToString(value) {\n  return nativeObjectToString.call(value);\n}\n\nmodule.exports = objectToString;\n","/**\n * Creates a unary function that invokes `func` with its argument transformed.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} transform The argument transform.\n * @returns {Function} Returns the new function.\n */\nfunction overArg(func, transform) {\n  return function(arg) {\n    return func(transform(arg));\n  };\n}\n\nmodule.exports = overArg;\n","var apply = require('./_apply');\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeMax = Math.max;\n\n/**\n * A specialized version of `baseRest` which transforms the rest array.\n *\n * @private\n * @param {Function} func The function to apply a rest parameter to.\n * @param {number} [start=func.length-1] The start position of the rest parameter.\n * @param {Function} transform The rest array transform.\n * @returns {Function} Returns the new function.\n */\nfunction overRest(func, start, transform) {\n  start = nativeMax(start === undefined ? (func.length - 1) : start, 0);\n  return function() {\n    var args = arguments,\n        index = -1,\n        length = nativeMax(args.length - start, 0),\n        array = Array(length);\n\n    while (++index < length) {\n      array[index] = args[start + index];\n    }\n    index = -1;\n    var otherArgs = Array(start + 1);\n    while (++index < start) {\n      otherArgs[index] = args[index];\n    }\n    otherArgs[start] = transform(array);\n    return apply(func, this, otherArgs);\n  };\n}\n\nmodule.exports = overRest;\n","var freeGlobal = require('./_freeGlobal');\n\n/** Detect free variable `self`. */\nvar freeSelf = typeof self == 'object' && self && self.Object === Object && self;\n\n/** Used as a reference to the global object. */\nvar root = freeGlobal || freeSelf || Function('return this')();\n\nmodule.exports = root;\n","/** Used to stand-in for `undefined` hash values. */\nvar HASH_UNDEFINED = '__lodash_hash_undefined__';\n\n/**\n * Adds `value` to the array cache.\n *\n * @private\n * @name add\n * @memberOf SetCache\n * @alias push\n * @param {*} value The value to cache.\n * @returns {Object} Returns the cache instance.\n */\nfunction setCacheAdd(value) {\n  this.__data__.set(value, HASH_UNDEFINED);\n  return this;\n}\n\nmodule.exports = setCacheAdd;\n","/**\n * Checks if `value` is in the array cache.\n *\n * @private\n * @name has\n * @memberOf SetCache\n * @param {*} value The value to search for.\n * @returns {number} Returns `true` if `value` is found, else `false`.\n */\nfunction setCacheHas(value) {\n  return this.__data__.has(value);\n}\n\nmodule.exports = setCacheHas;\n","/**\n * Converts `set` to an array of its values.\n *\n * @private\n * @param {Object} set The set to convert.\n * @returns {Array} Returns the values.\n */\nfunction setToArray(set) {\n  var index = -1,\n      result = Array(set.size);\n\n  set.forEach(function(value) {\n    result[++index] = value;\n  });\n  return result;\n}\n\nmodule.exports = setToArray;\n","var baseSetToString = require('./_baseSetToString'),\n    shortOut = require('./_shortOut');\n\n/**\n * Sets the `toString` method of `func` to return `string`.\n *\n * @private\n * @param {Function} func The function to modify.\n * @param {Function} string The `toString` result.\n * @returns {Function} Returns `func`.\n */\nvar setToString = shortOut(baseSetToString);\n\nmodule.exports = setToString;\n","/** Used to detect hot functions by number of calls within a span of milliseconds. */\nvar HOT_COUNT = 800,\n    HOT_SPAN = 16;\n\n/* Built-in method references for those with the same name as other `lodash` methods. */\nvar nativeNow = Date.now;\n\n/**\n * Creates a function that'll short out and invoke `identity` instead\n * of `func` when it's called `HOT_COUNT` or more times in `HOT_SPAN`\n * milliseconds.\n *\n * @private\n * @param {Function} func The function to restrict.\n * @returns {Function} Returns the new shortable function.\n */\nfunction shortOut(func) {\n  var count = 0,\n      lastCalled = 0;\n\n  return function() {\n    var stamp = nativeNow(),\n        remaining = HOT_SPAN - (stamp - lastCalled);\n\n    lastCalled = stamp;\n    if (remaining > 0) {\n      if (++count >= HOT_COUNT) {\n        return arguments[0];\n      }\n    } else {\n      count = 0;\n    }\n    return func.apply(undefined, arguments);\n  };\n}\n\nmodule.exports = shortOut;\n","/**\n * A specialized version of `_.indexOf` which performs strict equality\n * comparisons of values, i.e. `===`.\n *\n * @private\n * @param {Array} array The array to inspect.\n * @param {*} value The value to search for.\n * @param {number} fromIndex The index to search from.\n * @returns {number} Returns the index of the matched value, else `-1`.\n */\nfunction strictIndexOf(array, value, fromIndex) {\n  var index = fromIndex - 1,\n      length = array.length;\n\n  while (++index < length) {\n    if (array[index] === value) {\n      return index;\n    }\n  }\n  return -1;\n}\n\nmodule.exports = strictIndexOf;\n","var memoizeCapped = require('./_memoizeCapped');\n\n/** Used to match property names within property paths. */\nvar rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n\n/** Used to match backslashes in property paths. */\nvar reEscapeChar = /\\\\(\\\\)?/g;\n\n/**\n * Converts `string` to a property path array.\n *\n * @private\n * @param {string} string The string to convert.\n * @returns {Array} Returns the property path array.\n */\nvar stringToPath = memoizeCapped(function(string) {\n  var result = [];\n  if (string.charCodeAt(0) === 46 /* . */) {\n    result.push('');\n  }\n  string.replace(rePropName, function(match, number, quote, subString) {\n    result.push(quote ? subString.replace(reEscapeChar, '$1') : (number || match));\n  });\n  return result;\n});\n\nmodule.exports = stringToPath;\n","var isSymbol = require('./isSymbol');\n\n/** Used as references for various `Number` constants. */\nvar INFINITY = 1 / 0;\n\n/**\n * Converts `value` to a string key if it's not a string or symbol.\n *\n * @private\n * @param {*} value The value to inspect.\n * @returns {string|symbol} Returns the key.\n */\nfunction toKey(value) {\n  if (typeof value == 'string' || isSymbol(value)) {\n    return value;\n  }\n  var result = (value + '');\n  return (result == '0' && (1 / value) == -INFINITY) ? '-0' : result;\n}\n\nmodule.exports = toKey;\n","/** Used for built-in method references. */\nvar funcProto = Function.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/**\n * Converts `func` to its source code.\n *\n * @private\n * @param {Function} func The function to convert.\n * @returns {string} Returns the source code.\n */\nfunction toSource(func) {\n  if (func != null) {\n    try {\n      return funcToString.call(func);\n    } catch (e) {}\n    try {\n      return (func + '');\n    } catch (e) {}\n  }\n  return '';\n}\n\nmodule.exports = toSource;\n","/**\n * Creates a function that returns `value`.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Util\n * @param {*} value The value to return from the new function.\n * @returns {Function} Returns the new constant function.\n * @example\n *\n * var objects = _.times(2, _.constant({ 'a': 1 }));\n *\n * console.log(objects);\n * // => [{ 'a': 1 }, { 'a': 1 }]\n *\n * console.log(objects[0] === objects[1]);\n * // => true\n */\nfunction constant(value) {\n  return function() {\n    return value;\n  };\n}\n\nmodule.exports = constant;\n","/**\n * Performs a\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * comparison between two values to determine if they are equivalent.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to compare.\n * @param {*} other The other value to compare.\n * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\n * @example\n *\n * var object = { 'a': 1 };\n * var other = { 'a': 1 };\n *\n * _.eq(object, object);\n * // => true\n *\n * _.eq(object, other);\n * // => false\n *\n * _.eq('a', 'a');\n * // => true\n *\n * _.eq('a', Object('a'));\n * // => false\n *\n * _.eq(NaN, NaN);\n * // => true\n */\nfunction eq(value, other) {\n  return value === other || (value !== value && other !== other);\n}\n\nmodule.exports = eq;\n","var baseGet = require('./_baseGet');\n\n/**\n * Gets the value at `path` of `object`. If the resolved value is\n * `undefined`, the `defaultValue` is returned in its place.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to query.\n * @param {Array|string} path The path of the property to get.\n * @param {*} [defaultValue] The value returned for `undefined` resolved values.\n * @returns {*} Returns the resolved value.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.get(object, 'a[0].b.c');\n * // => 3\n *\n * _.get(object, ['a', '0', 'b', 'c']);\n * // => 3\n *\n * _.get(object, 'a.b.c', 'default');\n * // => 'default'\n */\nfunction get(object, path, defaultValue) {\n  var result = object == null ? undefined : baseGet(object, path);\n  return result === undefined ? defaultValue : result;\n}\n\nmodule.exports = get;\n","/**\n * This method returns the first argument it receives.\n *\n * @static\n * @since 0.1.0\n * @memberOf _\n * @category Util\n * @param {*} value Any value.\n * @returns {*} Returns `value`.\n * @example\n *\n * var object = { 'a': 1 };\n *\n * console.log(_.identity(object) === object);\n * // => true\n */\nfunction identity(value) {\n  return value;\n}\n\nmodule.exports = identity;\n","var arrayMap = require('./_arrayMap'),\n    baseIntersection = require('./_baseIntersection'),\n    baseRest = require('./_baseRest'),\n    castArrayLikeObject = require('./_castArrayLikeObject');\n\n/**\n * Creates an array of unique values that are included in all given arrays\n * using [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons. The order and references of result values are\n * determined by the first array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of intersecting values.\n * @example\n *\n * _.intersection([2, 1], [2, 3]);\n * // => [2]\n */\nvar intersection = baseRest(function(arrays) {\n  var mapped = arrayMap(arrays, castArrayLikeObject);\n  return (mapped.length && mapped[0] === arrays[0])\n    ? baseIntersection(mapped)\n    : [];\n});\n\nmodule.exports = intersection;\n","var baseIsArguments = require('./_baseIsArguments'),\n    isObjectLike = require('./isObjectLike');\n\n/** Used for built-in method references. */\nvar objectProto = Object.prototype;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Built-in value references. */\nvar propertyIsEnumerable = objectProto.propertyIsEnumerable;\n\n/**\n * Checks if `value` is likely an `arguments` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an `arguments` object,\n *  else `false`.\n * @example\n *\n * _.isArguments(function() { return arguments; }());\n * // => true\n *\n * _.isArguments([1, 2, 3]);\n * // => false\n */\nvar isArguments = baseIsArguments(function() { return arguments; }()) ? baseIsArguments : function(value) {\n  return isObjectLike(value) && hasOwnProperty.call(value, 'callee') &&\n    !propertyIsEnumerable.call(value, 'callee');\n};\n\nmodule.exports = isArguments;\n","/**\n * Checks if `value` is classified as an `Array` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array, else `false`.\n * @example\n *\n * _.isArray([1, 2, 3]);\n * // => true\n *\n * _.isArray(document.body.children);\n * // => false\n *\n * _.isArray('abc');\n * // => false\n *\n * _.isArray(_.noop);\n * // => false\n */\nvar isArray = Array.isArray;\n\nmodule.exports = isArray;\n","var isFunction = require('./isFunction'),\n    isLength = require('./isLength');\n\n/**\n * Checks if `value` is array-like. A value is considered array-like if it's\n * not a function and has a `value.length` that's an integer greater than or\n * equal to `0` and less than or equal to `Number.MAX_SAFE_INTEGER`.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\n * @example\n *\n * _.isArrayLike([1, 2, 3]);\n * // => true\n *\n * _.isArrayLike(document.body.children);\n * // => true\n *\n * _.isArrayLike('abc');\n * // => true\n *\n * _.isArrayLike(_.noop);\n * // => false\n */\nfunction isArrayLike(value) {\n  return value != null && isLength(value.length) && !isFunction(value);\n}\n\nmodule.exports = isArrayLike;\n","var isArrayLike = require('./isArrayLike'),\n    isObjectLike = require('./isObjectLike');\n\n/**\n * This method is like `_.isArrayLike` except that it also checks if `value`\n * is an object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an array-like object,\n *  else `false`.\n * @example\n *\n * _.isArrayLikeObject([1, 2, 3]);\n * // => true\n *\n * _.isArrayLikeObject(document.body.children);\n * // => true\n *\n * _.isArrayLikeObject('abc');\n * // => false\n *\n * _.isArrayLikeObject(_.noop);\n * // => false\n */\nfunction isArrayLikeObject(value) {\n  return isObjectLike(value) && isArrayLike(value);\n}\n\nmodule.exports = isArrayLikeObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObject = require('./isObject');\n\n/** `Object#toString` result references. */\nvar asyncTag = '[object AsyncFunction]',\n    funcTag = '[object Function]',\n    genTag = '[object GeneratorFunction]',\n    proxyTag = '[object Proxy]';\n\n/**\n * Checks if `value` is classified as a `Function` object.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a function, else `false`.\n * @example\n *\n * _.isFunction(_);\n * // => true\n *\n * _.isFunction(/abc/);\n * // => false\n */\nfunction isFunction(value) {\n  if (!isObject(value)) {\n    return false;\n  }\n  // The use of `Object#toString` avoids issues with the `typeof` operator\n  // in Safari 9 which returns 'object' for typed arrays and other constructors.\n  var tag = baseGetTag(value);\n  return tag == funcTag || tag == genTag || tag == asyncTag || tag == proxyTag;\n}\n\nmodule.exports = isFunction;\n","/** Used as references for various `Number` constants. */\nvar MAX_SAFE_INTEGER = 9007199254740991;\n\n/**\n * Checks if `value` is a valid array-like length.\n *\n * **Note:** This method is loosely based on\n * [`ToLength`](http://ecma-international.org/ecma-262/7.0/#sec-tolength).\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\n * @example\n *\n * _.isLength(3);\n * // => true\n *\n * _.isLength(Number.MIN_VALUE);\n * // => false\n *\n * _.isLength(Infinity);\n * // => false\n *\n * _.isLength('3');\n * // => false\n */\nfunction isLength(value) {\n  return typeof value == 'number' &&\n    value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\n}\n\nmodule.exports = isLength;\n","/**\n * Checks if `value` is the\n * [language type](http://www.ecma-international.org/ecma-262/7.0/#sec-ecmascript-language-types)\n * of `Object`. (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\n * @example\n *\n * _.isObject({});\n * // => true\n *\n * _.isObject([1, 2, 3]);\n * // => true\n *\n * _.isObject(_.noop);\n * // => true\n *\n * _.isObject(null);\n * // => false\n */\nfunction isObject(value) {\n  var type = typeof value;\n  return value != null && (type == 'object' || type == 'function');\n}\n\nmodule.exports = isObject;\n","/**\n * Checks if `value` is object-like. A value is object-like if it's not `null`\n * and has a `typeof` result of \"object\".\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\n * @example\n *\n * _.isObjectLike({});\n * // => true\n *\n * _.isObjectLike([1, 2, 3]);\n * // => true\n *\n * _.isObjectLike(_.noop);\n * // => false\n *\n * _.isObjectLike(null);\n * // => false\n */\nfunction isObjectLike(value) {\n  return value != null && typeof value == 'object';\n}\n\nmodule.exports = isObjectLike;\n","var baseGetTag = require('./_baseGetTag'),\n    getPrototype = require('./_getPrototype'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar objectTag = '[object Object]';\n\n/** Used for built-in method references. */\nvar funcProto = Function.prototype,\n    objectProto = Object.prototype;\n\n/** Used to resolve the decompiled source of functions. */\nvar funcToString = funcProto.toString;\n\n/** Used to check objects for own properties. */\nvar hasOwnProperty = objectProto.hasOwnProperty;\n\n/** Used to infer the `Object` constructor. */\nvar objectCtorString = funcToString.call(Object);\n\n/**\n * Checks if `value` is a plain object, that is, an object created by the\n * `Object` constructor or one with a `[[Prototype]]` of `null`.\n *\n * @static\n * @memberOf _\n * @since 0.8.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\n * @example\n *\n * function Foo() {\n *   this.a = 1;\n * }\n *\n * _.isPlainObject(new Foo);\n * // => false\n *\n * _.isPlainObject([1, 2, 3]);\n * // => false\n *\n * _.isPlainObject({ 'x': 0, 'y': 0 });\n * // => true\n *\n * _.isPlainObject(Object.create(null));\n * // => true\n */\nfunction isPlainObject(value) {\n  if (!isObjectLike(value) || baseGetTag(value) != objectTag) {\n    return false;\n  }\n  var proto = getPrototype(value);\n  if (proto === null) {\n    return true;\n  }\n  var Ctor = hasOwnProperty.call(proto, 'constructor') && proto.constructor;\n  return typeof Ctor == 'function' && Ctor instanceof Ctor &&\n    funcToString.call(Ctor) == objectCtorString;\n}\n\nmodule.exports = isPlainObject;\n","var baseGetTag = require('./_baseGetTag'),\n    isObjectLike = require('./isObjectLike');\n\n/** `Object#toString` result references. */\nvar symbolTag = '[object Symbol]';\n\n/**\n * Checks if `value` is classified as a `Symbol` primitive or object.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is a symbol, else `false`.\n * @example\n *\n * _.isSymbol(Symbol.iterator);\n * // => true\n *\n * _.isSymbol('abc');\n * // => false\n */\nfunction isSymbol(value) {\n  return typeof value == 'symbol' ||\n    (isObjectLike(value) && baseGetTag(value) == symbolTag);\n}\n\nmodule.exports = isSymbol;\n","var MapCache = require('./_MapCache');\n\n/** Error message constants. */\nvar FUNC_ERROR_TEXT = 'Expected a function';\n\n/**\n * Creates a function that memoizes the result of `func`. If `resolver` is\n * provided, it determines the cache key for storing the result based on the\n * arguments provided to the memoized function. By default, the first argument\n * provided to the memoized function is used as the map cache key. The `func`\n * is invoked with the `this` binding of the memoized function.\n *\n * **Note:** The cache is exposed as the `cache` property on the memoized\n * function. Its creation may be customized by replacing the `_.memoize.Cache`\n * constructor with one whose instances implement the\n * [`Map`](http://ecma-international.org/ecma-262/7.0/#sec-properties-of-the-map-prototype-object)\n * method interface of `clear`, `delete`, `get`, `has`, and `set`.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Function\n * @param {Function} func The function to have its output memoized.\n * @param {Function} [resolver] The function to resolve the cache key.\n * @returns {Function} Returns the new memoized function.\n * @example\n *\n * var object = { 'a': 1, 'b': 2 };\n * var other = { 'c': 3, 'd': 4 };\n *\n * var values = _.memoize(_.values);\n * values(object);\n * // => [1, 2]\n *\n * values(other);\n * // => [3, 4]\n *\n * object.a = 2;\n * values(object);\n * // => [1, 2]\n *\n * // Modify the result cache.\n * values.cache.set(object, ['a', 'b']);\n * values(object);\n * // => ['a', 'b']\n *\n * // Replace `_.memoize.Cache`.\n * _.memoize.Cache = WeakMap;\n */\nfunction memoize(func, resolver) {\n  if (typeof func != 'function' || (resolver != null && typeof resolver != 'function')) {\n    throw new TypeError(FUNC_ERROR_TEXT);\n  }\n  var memoized = function() {\n    var args = arguments,\n        key = resolver ? resolver.apply(this, args) : args[0],\n        cache = memoized.cache;\n\n    if (cache.has(key)) {\n      return cache.get(key);\n    }\n    var result = func.apply(this, args);\n    memoized.cache = cache.set(key, result) || cache;\n    return result;\n  };\n  memoized.cache = new (memoize.Cache || MapCache);\n  return memoized;\n}\n\n// Expose `MapCache`.\nmemoize.Cache = MapCache;\n\nmodule.exports = memoize;\n","/**\n * This method returns `undefined`.\n *\n * @static\n * @memberOf _\n * @since 2.3.0\n * @category Util\n * @example\n *\n * _.times(2, _.noop);\n * // => [undefined, undefined]\n */\nfunction noop() {\n  // No operation performed.\n}\n\nmodule.exports = noop;\n","var baseSet = require('./_baseSet');\n\n/**\n * Sets the value at `path` of `object`. If a portion of `path` doesn't exist,\n * it's created. Arrays are created for missing index properties while objects\n * are created for all other missing properties. Use `_.setWith` to customize\n * `path` creation.\n *\n * **Note:** This method mutates `object`.\n *\n * @static\n * @memberOf _\n * @since 3.7.0\n * @category Object\n * @param {Object} object The object to modify.\n * @param {Array|string} path The path of the property to set.\n * @param {*} value The value to set.\n * @returns {Object} Returns `object`.\n * @example\n *\n * var object = { 'a': [{ 'b': { 'c': 3 } }] };\n *\n * _.set(object, 'a[0].b.c', 4);\n * console.log(object.a[0].b.c);\n * // => 4\n *\n * _.set(object, ['x', '0', 'y', 'z'], 5);\n * console.log(object.x[0].y.z);\n * // => 5\n */\nfunction set(object, path, value) {\n  return object == null ? object : baseSet(object, path, value);\n}\n\nmodule.exports = set;\n","var baseToString = require('./_baseToString');\n\n/**\n * Converts `value` to a string. An empty string is returned for `null`\n * and `undefined` values. The sign of `-0` is preserved.\n *\n * @static\n * @memberOf _\n * @since 4.0.0\n * @category Lang\n * @param {*} value The value to convert.\n * @returns {string} Returns the converted string.\n * @example\n *\n * _.toString(null);\n * // => ''\n *\n * _.toString(-0);\n * // => '-0'\n *\n * _.toString([1, 2, 3]);\n * // => '1,2,3'\n */\nfunction toString(value) {\n  return value == null ? '' : baseToString(value);\n}\n\nmodule.exports = toString;\n","var baseDifference = require('./_baseDifference'),\n    baseRest = require('./_baseRest'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array excluding all given values using\n * [`SameValueZero`](http://ecma-international.org/ecma-262/7.0/#sec-samevaluezero)\n * for equality comparisons.\n *\n * **Note:** Unlike `_.pull`, this method returns a new array.\n *\n * @static\n * @memberOf _\n * @since 0.1.0\n * @category Array\n * @param {Array} array The array to inspect.\n * @param {...*} [values] The values to exclude.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.xor\n * @example\n *\n * _.without([2, 1, 2, 3], 1, 2);\n * // => [3]\n */\nvar without = baseRest(function(array, values) {\n  return isArrayLikeObject(array)\n    ? baseDifference(array, values)\n    : [];\n});\n\nmodule.exports = without;\n","var arrayFilter = require('./_arrayFilter'),\n    baseRest = require('./_baseRest'),\n    baseXor = require('./_baseXor'),\n    isArrayLikeObject = require('./isArrayLikeObject');\n\n/**\n * Creates an array of unique values that is the\n * [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\n * of the given arrays. The order of result values is determined by the order\n * they occur in the arrays.\n *\n * @static\n * @memberOf _\n * @since 2.4.0\n * @category Array\n * @param {...Array} [arrays] The arrays to inspect.\n * @returns {Array} Returns the new array of filtered values.\n * @see _.difference, _.without\n * @example\n *\n * _.xor([2, 1], [2, 3]);\n * // => [1, 3]\n */\nvar xor = baseRest(function(arrays) {\n  return baseXor(arrayFilter(arrays, isArrayLikeObject));\n});\n\nmodule.exports = xor;\n","export function fadeOut (element, cb) {\n  if (element.style.opacity && element.style.opacity > 0.05) {\n    element.style.opacity = element.style.opacity - 0.05\n  } else if (element.style.opacity && element.style.opacity <= 0.1) {\n    if (element.parentNode) {\n      element.parentNode.removeChild(element)\n      if (cb) cb()\n    }\n  } else {\n    element.style.opacity = 0.9\n  }\n  setTimeout(() => fadeOut.apply(this, [element, cb]), 1000 / 30\n  )\n}\n\nexport const LIB_NAME = 'mini-toastr'\n\nexport const ERROR = 'error'\nexport const WARN = 'warn'\nexport const SUCCESS = 'success'\nexport const INFO = 'info'\nexport const CONTAINER_CLASS = LIB_NAME\nexport const NOTIFICATION_CLASS = `${LIB_NAME}__notification`\nexport const TITLE_CLASS = `${LIB_NAME}-notification__title`\nexport const ICON_CLASS = `${LIB_NAME}-notification__icon`\nexport const MESSAGE_CLASS = `${LIB_NAME}-notification__message`\nexport const ERROR_CLASS = `-${ERROR}`\nexport const WARN_CLASS = `-${WARN}`\nexport const SUCCESS_CLASS = `-${SUCCESS}`\nexport const INFO_CLASS = `-${INFO}`\nexport const DEFAULT_TIMEOUT = 3000\n\nconst EMPTY_STRING = ''\n\nexport function flatten (obj, into, prefix) {\n  into = into || {}\n  prefix = prefix || EMPTY_STRING\n\n  for (const k in obj) {\n    if (obj.hasOwnProperty(k)) {\n      const prop = obj[k]\n      if (prop && typeof prop === 'object' && !(prop instanceof Date || prop instanceof RegExp)) {\n        flatten(prop, into, prefix + k + ' ')\n      } else {\n        if (into[prefix] && typeof into[prefix] === 'object') {\n          into[prefix][k] = prop\n        } else {\n          into[prefix] = {}\n          into[prefix][k] = prop\n        }\n      }\n    }\n  }\n\n  return into\n}\n\nexport function makeCss (obj) {\n  const flat = flatten(obj)\n  let str = JSON.stringify(flat, null, 2)\n  str = str.replace(/\"([^\"]*)\": {/g, '$1 {')\n    .replace(/\"([^\"]*)\"/g, '$1')\n    .replace(/(\\w*-?\\w*): ([\\w\\d .#]*),?/g, '$1: $2;')\n    .replace(/},/g, '}\\n')\n    .replace(/ &([.:])/g, '$1')\n\n  str = str.substr(1, str.lastIndexOf('}') - 1)\n\n  return str\n}\n\nexport function appendStyles (css) {\n  let head = document.head || document.getElementsByTagName('head')[0]\n  let styleElem = makeNode('style')\n  styleElem.id = `${LIB_NAME}-styles`\n  styleElem.type = 'text/css'\n\n  if (styleElem.styleSheet) {\n    styleElem.styleSheet.cssText = css\n  } else {\n    styleElem.appendChild(document.createTextNode(css))\n  }\n\n  head.appendChild(styleElem)\n}\n\nexport const config = {\n  types: {ERROR, WARN, SUCCESS, INFO},\n  animation: fadeOut,\n  timeout: DEFAULT_TIMEOUT,\n  icons: {},\n  appendTarget: document.body,\n  node: makeNode(),\n  allowHtml: false,\n  style: {\n    [`.${CONTAINER_CLASS}`]: {\n      position: 'fixed',\n      'z-index': 99999,\n      right: '12px',\n      top: '12px'\n    },\n    [`.${NOTIFICATION_CLASS}`]: {\n      cursor: 'pointer',\n      padding: '12px 18px',\n      margin: '0 0 6px 0',\n      'background-color': '#000',\n      opacity: 0.8,\n      color: '#fff',\n      'border-radius': '3px',\n      'box-shadow': '#3c3b3b 0 0 12px',\n      width: '300px',\n      [`&.${ERROR_CLASS}`]: {\n        'background-color': '#D5122B'\n      },\n      [`&.${WARN_CLASS}`]: {\n        'background-color': '#F5AA1E'\n      },\n      [`&.${SUCCESS_CLASS}`]: {\n        'background-color': '#7AC13E'\n      },\n      [`&.${INFO_CLASS}`]: {\n        'background-color': '#4196E1'\n      },\n      '&:hover': {\n        opacity: 1,\n        'box-shadow': '#000 0 0 12px'\n      }\n    },\n    [`.${TITLE_CLASS}`]: {\n      'font-weight': '500'\n    },\n    [`.${MESSAGE_CLASS}`]: {\n      display: 'inline-block',\n      'vertical-align': 'middle',\n      width: '240px',\n      padding: '0 12px'\n    }\n  }\n}\n\nexport function makeNode (type = 'div') {\n  return document.createElement(type)\n}\n\nexport function createIcon (node, type, config) {\n  const iconNode = makeNode(config.icons[type].nodeType)\n  const attrs = config.icons[type].attrs\n\n  for (const k in attrs) {\n    if (attrs.hasOwnProperty(k)) {\n      iconNode.setAttribute(k, attrs[k])\n    }\n  }\n\n  node.appendChild(iconNode)\n}\n\nexport function addElem (node, text, className, config) {\n  const elem = makeNode()\n  elem.className = className\n  if (config.allowHtml) {\n    elem.innerHTML = text\n  } else {\n    elem.appendChild(document.createTextNode(text))\n  }\n  node.appendChild(elem)\n}\n\nexport function getTypeClass (type) {\n  if (type === SUCCESS) return SUCCESS_CLASS\n  if (type === WARN) return WARN_CLASS\n  if (type === ERROR) return ERROR_CLASS\n  if (type === INFO) return INFO_CLASS\n\n  return EMPTY_STRING\n}\n\nconst miniToastr = {\n  config,\n  isInitialised: false,\n  showMessage (message, title, type, timeout, cb, overrideConf) {\n    const config = {}\n    Object.assign(config, this.config)\n    Object.assign(config, overrideConf)\n\n    const notificationElem = makeNode()\n    notificationElem.className = `${NOTIFICATION_CLASS} ${getTypeClass(type)}`\n\n    notificationElem.onclick = function () {\n      config.animation(notificationElem, null)\n    }\n\n    if (title) addElem(notificationElem, title, TITLE_CLASS, config)\n    if (config.icons[type]) createIcon(notificationElem, type, config)\n    if (message) addElem(notificationElem, message, MESSAGE_CLASS, config)\n\n    config.node.insertBefore(notificationElem, config.node.firstChild)\n    setTimeout(() => config.animation(notificationElem, cb), timeout || config.timeout\n    )\n\n    if (cb) cb()\n    return this\n  },\n  init (aConfig) {\n    const newConfig = {}\n    Object.assign(newConfig, config)\n    Object.assign(newConfig, aConfig)\n    this.config = newConfig\n\n    const cssStr = makeCss(newConfig.style)\n    appendStyles(cssStr)\n\n    newConfig.node.id = CONTAINER_CLASS\n    newConfig.node.className = CONTAINER_CLASS\n    newConfig.appendTarget.appendChild(newConfig.node)\n\n    Object.keys(newConfig.types).forEach(v => {\n      this[newConfig.types[v]] = function (message, title, timeout, cb, config) {\n        this.showMessage(message, title, newConfig.types[v], timeout, cb, config)\n        return this\n      }.bind(this)\n    }\n    )\n\n    this.isInitialised = true\n\n    return this\n  },\n  setIcon (type, nodeType = 'i', attrs = []) {\n    attrs.class = attrs.class ? attrs.class + ' ' + ICON_CLASS : ICON_CLASS\n\n    this.config.icons[type] = {nodeType, attrs}\n  }\n}\n\nexport default miniToastr","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = DragDropContext;\n\nvar _preact = require('preact');\n\nvar _preact2 = _interopRequireDefault(_preact);\n\nvar _dndCore = require('dnd-core');\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _checkDecoratorArguments = require('./utils/checkDecoratorArguments');\n\nvar _checkDecoratorArguments2 = _interopRequireDefault(_checkDecoratorArguments);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction DragDropContext(backendOrModule) {\n  _checkDecoratorArguments2.default.apply(undefined, ['DragDropContext', 'backend'].concat(Array.prototype.slice.call(arguments)));\n\n  // Auto-detect ES6 default export for people still using ES5\n  var backend = void 0;\n  if ((typeof backendOrModule === 'undefined' ? 'undefined' : _typeof(backendOrModule)) === 'object' && typeof backendOrModule.default === 'function') {\n    backend = backendOrModule.default;\n  } else {\n    backend = backendOrModule;\n  }\n\n  (0, _invariant2.default)(typeof backend === 'function', 'Expected the backend to be a function or an ES6 module exporting a default function. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-drop-context.html');\n\n  var childContext = {\n    dragDropManager: new _dndCore.DragDropManager(backend)\n  };\n\n  return function decorateContext(DecoratedComponent) {\n    var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n    var DragDropContextContainer = function (_Component) {\n      _inherits(DragDropContextContainer, _Component);\n\n      function DragDropContextContainer() {\n        var _ref;\n\n        var _temp, _this, _ret;\n\n        _classCallCheck(this, DragDropContextContainer);\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n          args[_key] = arguments[_key];\n        }\n\n        return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = DragDropContextContainer.__proto__ || Object.getPrototypeOf(DragDropContextContainer)).call.apply(_ref, [this].concat(args))), _this), _this.setChildRef = function (child) {\n          _this.child = child;\n        }, _temp), _possibleConstructorReturn(_this, _ret);\n      }\n\n      _createClass(DragDropContextContainer, [{\n        key: 'getDecoratedComponentInstance',\n        value: function getDecoratedComponentInstance() {\n          return this.child;\n        }\n      }, {\n        key: 'getManager',\n        value: function getManager() {\n          return childContext.dragDropManager;\n        }\n      }, {\n        key: 'getChildContext',\n        value: function getChildContext() {\n          return childContext;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return _preact2.default.h(DecoratedComponent, _extends({}, this.props, { ref: this.setChildRef }));\n        }\n      }]);\n\n      return DragDropContextContainer;\n    }(_preact.Component);\n\n    DragDropContextContainer.DecoratedComponent = DecoratedComponent;\n    DragDropContextContainer.displayName = 'DragDropContext(' + displayName + ')';\n\n\n    return (0, _hoistNonReactStatics2.default)(DragDropContextContainer, DecoratedComponent);\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = DragLayer;\n\nvar _preact = require('preact');\n\nvar _preact2 = _interopRequireDefault(_preact);\n\nvar _shallowEqual = require('./utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _shallowEqualScalar = require('./utils/shallowEqualScalar');\n\nvar _shallowEqualScalar2 = _interopRequireDefault(_shallowEqualScalar);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _checkDecoratorArguments = require('./utils/checkDecoratorArguments');\n\nvar _checkDecoratorArguments2 = _interopRequireDefault(_checkDecoratorArguments);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction DragLayer(collect) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  _checkDecoratorArguments2.default.apply(undefined, ['DragLayer', 'collect[, options]'].concat(Array.prototype.slice.call(arguments)));\n  (0, _invariant2.default)(typeof collect === 'function', 'Expected \"collect\" provided as the first argument to DragLayer ' + 'to be a function that collects props to inject into the component. ', 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html', collect);\n  (0, _invariant2.default)((0, _isPlainObject2.default)(options), 'Expected \"options\" provided as the second argument to DragLayer to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html', options);\n\n  return function decorateLayer(DecoratedComponent) {\n    var _options$arePropsEqua = options.arePropsEqual,\n        arePropsEqual = _options$arePropsEqua === undefined ? _shallowEqualScalar2.default : _options$arePropsEqua;\n\n    var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n    var DragLayerContainer = function (_Component) {\n      _inherits(DragLayerContainer, _Component);\n\n      _createClass(DragLayerContainer, [{\n        key: 'getDecoratedComponentInstance',\n        value: function getDecoratedComponentInstance() {\n          return this.child;\n        }\n      }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !arePropsEqual(nextProps, this.props) || !(0, _shallowEqual2.default)(nextState, this.state);\n        }\n      }]);\n\n      function DragLayerContainer(props, context) {\n        _classCallCheck(this, DragLayerContainer);\n\n        var _this = _possibleConstructorReturn(this, (DragLayerContainer.__proto__ || Object.getPrototypeOf(DragLayerContainer)).call(this, props));\n\n        _this.setChildRef = function (child) {\n          _this.child = child;\n        };\n\n        _this.handleChange = _this.handleChange.bind(_this);\n\n        _this.manager = context.dragDropManager;\n        (0, _invariant2.default)(_typeof(_this.manager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to wrap the top-level component of your app with DragDropContext. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n        _this.state = _this.getCurrentState();\n        return _this;\n      }\n\n      _createClass(DragLayerContainer, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.isCurrentlyMounted = true;\n\n          var monitor = this.manager.getMonitor();\n          this.unsubscribeFromOffsetChange = monitor.subscribeToOffsetChange(this.handleChange);\n          this.unsubscribeFromStateChange = monitor.subscribeToStateChange(this.handleChange);\n\n          this.handleChange();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.isCurrentlyMounted = false;\n\n          this.unsubscribeFromOffsetChange();\n          this.unsubscribeFromStateChange();\n        }\n      }, {\n        key: 'handleChange',\n        value: function handleChange() {\n          if (!this.isCurrentlyMounted) {\n            return;\n          }\n\n          var nextState = this.getCurrentState();\n          if (!(0, _shallowEqual2.default)(nextState, this.state)) {\n            this.setState(nextState);\n          }\n        }\n      }, {\n        key: 'getCurrentState',\n        value: function getCurrentState() {\n          var monitor = this.manager.getMonitor();\n          return collect(monitor);\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          return _preact2.default.h(DecoratedComponent, _extends({}, this.props, this.state, {\n            ref: this.setChildRef }));\n        }\n      }]);\n\n      return DragLayerContainer;\n    }(_preact.Component);\n\n    DragLayerContainer.DecoratedComponent = DecoratedComponent;\n    DragLayerContainer.displayName = 'DragLayer(' + displayName + ')';\n\n\n    return (0, _hoistNonReactStatics2.default)(DragLayerContainer, DecoratedComponent);\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DragSource;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _checkDecoratorArguments = require('./utils/checkDecoratorArguments');\n\nvar _checkDecoratorArguments2 = _interopRequireDefault(_checkDecoratorArguments);\n\nvar _decorateHandler = require('./decorateHandler');\n\nvar _decorateHandler2 = _interopRequireDefault(_decorateHandler);\n\nvar _registerSource = require('./registerSource');\n\nvar _registerSource2 = _interopRequireDefault(_registerSource);\n\nvar _createSourceFactory = require('./createSourceFactory');\n\nvar _createSourceFactory2 = _interopRequireDefault(_createSourceFactory);\n\nvar _createSourceMonitor = require('./createSourceMonitor');\n\nvar _createSourceMonitor2 = _interopRequireDefault(_createSourceMonitor);\n\nvar _createSourceConnector = require('./createSourceConnector');\n\nvar _createSourceConnector2 = _interopRequireDefault(_createSourceConnector);\n\nvar _isValidType = require('./utils/isValidType');\n\nvar _isValidType2 = _interopRequireDefault(_isValidType);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction DragSource(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  _checkDecoratorArguments2.default.apply(undefined, ['DragSource', 'type, spec, collect[, options]'].concat(Array.prototype.slice.call(arguments)));\n  var getType = type;\n  if (typeof type !== 'function') {\n    (0, _invariant2.default)((0, _isValidType2.default)(type), 'Expected \"type\" provided as the first argument to DragSource to be ' + 'a string, or a function that returns a string given the current props. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', type);\n    getType = function getType() {\n      return type;\n    };\n  }\n  (0, _invariant2.default)((0, _isPlainObject2.default)(spec), 'Expected \"spec\" provided as the second argument to DragSource to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', spec);\n  var createSource = (0, _createSourceFactory2.default)(spec);\n  (0, _invariant2.default)(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DragSource to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', collect);\n  (0, _invariant2.default)((0, _isPlainObject2.default)(options), 'Expected \"options\" provided as the fourth argument to DragSource to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', collect);\n\n  return function decorateSource(DecoratedComponent) {\n    return (0, _decorateHandler2.default)({\n      connectBackend: function connectBackend(backend, sourceId) {\n        return backend.connectDragSource(sourceId);\n      },\n      containerDisplayName: 'DragSource',\n      createHandler: createSource,\n      registerHandler: _registerSource2.default,\n      createMonitor: _createSourceMonitor2.default,\n      createConnector: _createSourceConnector2.default,\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = DropTarget;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _checkDecoratorArguments = require('./utils/checkDecoratorArguments');\n\nvar _checkDecoratorArguments2 = _interopRequireDefault(_checkDecoratorArguments);\n\nvar _decorateHandler = require('./decorateHandler');\n\nvar _decorateHandler2 = _interopRequireDefault(_decorateHandler);\n\nvar _registerTarget = require('./registerTarget');\n\nvar _registerTarget2 = _interopRequireDefault(_registerTarget);\n\nvar _createTargetFactory = require('./createTargetFactory');\n\nvar _createTargetFactory2 = _interopRequireDefault(_createTargetFactory);\n\nvar _createTargetMonitor = require('./createTargetMonitor');\n\nvar _createTargetMonitor2 = _interopRequireDefault(_createTargetMonitor);\n\nvar _createTargetConnector = require('./createTargetConnector');\n\nvar _createTargetConnector2 = _interopRequireDefault(_createTargetConnector);\n\nvar _isValidType = require('./utils/isValidType');\n\nvar _isValidType2 = _interopRequireDefault(_isValidType);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction DropTarget(type, spec, collect) {\n  var options = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {};\n\n  _checkDecoratorArguments2.default.apply(undefined, ['DropTarget', 'type, spec, collect[, options]'].concat(Array.prototype.slice.call(arguments)));\n  var getType = type;\n  if (typeof type !== 'function') {\n    (0, _invariant2.default)((0, _isValidType2.default)(type, true), 'Expected \"type\" provided as the first argument to DropTarget to be ' + 'a string, an array of strings, or a function that returns either given ' + 'the current props. Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', type);\n    getType = function getType() {\n      return type;\n    };\n  }\n  (0, _invariant2.default)((0, _isPlainObject2.default)(spec), 'Expected \"spec\" provided as the second argument to DropTarget to be ' + 'a plain object. Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', spec);\n  var createTarget = (0, _createTargetFactory2.default)(spec);\n  (0, _invariant2.default)(typeof collect === 'function', 'Expected \"collect\" provided as the third argument to DropTarget to be ' + 'a function that returns a plain object of props to inject. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', collect);\n  (0, _invariant2.default)((0, _isPlainObject2.default)(options), 'Expected \"options\" provided as the fourth argument to DropTarget to be ' + 'a plain object when specified. ' + 'Instead, received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', collect);\n\n  return function decorateTarget(DecoratedComponent) {\n    return (0, _decorateHandler2.default)({\n      connectBackend: function connectBackend(backend, targetId) {\n        return backend.connectDropTarget(targetId);\n      },\n      containerDisplayName: 'DropTarget',\n      createHandler: createTarget,\n      registerHandler: _registerTarget2.default,\n      createMonitor: _createTargetMonitor2.default,\n      createConnector: _createTargetConnector2.default,\n      DecoratedComponent: DecoratedComponent,\n      getType: getType,\n      collect: collect,\n      options: options\n    });\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = areOptionsEqual;\n\nvar _shallowEqual = require('./utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction areOptionsEqual(nextOptions, currentOptions) {\n  if (currentOptions === nextOptions) {\n    return true;\n  }\n\n  return currentOptions !== null && nextOptions !== null && (0, _shallowEqual2.default)(currentOptions, nextOptions);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createSourceConnector;\n\nvar _wrapConnectorHooks = require('./wrapConnectorHooks');\n\nvar _wrapConnectorHooks2 = _interopRequireDefault(_wrapConnectorHooks);\n\nvar _areOptionsEqual = require('./areOptionsEqual');\n\nvar _areOptionsEqual2 = _interopRequireDefault(_areOptionsEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createSourceConnector(backend) {\n  var currentHandlerId = void 0;\n\n  var currentDragSourceNode = void 0;\n  var currentDragSourceOptions = void 0;\n  var disconnectCurrentDragSource = void 0;\n\n  var currentDragPreviewNode = void 0;\n  var currentDragPreviewOptions = void 0;\n  var disconnectCurrentDragPreview = void 0;\n\n  function reconnectDragSource() {\n    if (disconnectCurrentDragSource) {\n      disconnectCurrentDragSource();\n      disconnectCurrentDragSource = null;\n    }\n\n    if (currentHandlerId && currentDragSourceNode) {\n      disconnectCurrentDragSource = backend.connectDragSource(currentHandlerId, currentDragSourceNode, currentDragSourceOptions);\n    }\n  }\n\n  function reconnectDragPreview() {\n    if (disconnectCurrentDragPreview) {\n      disconnectCurrentDragPreview();\n      disconnectCurrentDragPreview = null;\n    }\n\n    if (currentHandlerId && currentDragPreviewNode) {\n      disconnectCurrentDragPreview = backend.connectDragPreview(currentHandlerId, currentDragPreviewNode, currentDragPreviewOptions);\n    }\n  }\n\n  function receiveHandlerId(handlerId) {\n    if (handlerId === currentHandlerId) {\n      return;\n    }\n\n    currentHandlerId = handlerId;\n    reconnectDragSource();\n    reconnectDragPreview();\n  }\n\n  var hooks = (0, _wrapConnectorHooks2.default)({\n    dragSource: function connectDragSource(node, options) {\n      if (node === currentDragSourceNode && (0, _areOptionsEqual2.default)(options, currentDragSourceOptions)) {\n        return;\n      }\n\n      currentDragSourceNode = node;\n      currentDragSourceOptions = options;\n\n      reconnectDragSource();\n    },\n\n    dragPreview: function connectDragPreview(node, options) {\n      if (node === currentDragPreviewNode && (0, _areOptionsEqual2.default)(options, currentDragPreviewOptions)) {\n        return;\n      }\n\n      currentDragPreviewNode = node;\n      currentDragPreviewOptions = options;\n\n      reconnectDragPreview();\n    }\n  });\n\n  return {\n    receiveHandlerId: receiveHandlerId,\n    hooks: hooks\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createSourceFactory;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ALLOWED_SPEC_METHODS = ['canDrag', 'beginDrag', 'isDragging', 'endDrag'];\nvar REQUIRED_SPEC_METHODS = ['beginDrag'];\n\nfunction createSourceFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    (0, _invariant2.default)(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drag source specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', ALLOWED_SPEC_METHODS.join(', '), key);\n    (0, _invariant2.default)(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', key, key, spec[key]);\n  });\n  REQUIRED_SPEC_METHODS.forEach(function (key) {\n    (0, _invariant2.default)(typeof spec[key] === 'function', 'Expected %s in the drag source specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', key, key, spec[key]);\n  });\n\n  var Source = function () {\n    function Source(monitor) {\n      _classCallCheck(this, Source);\n\n      this.monitor = monitor;\n      this.props = null;\n      this.component = null;\n    }\n\n    _createClass(Source, [{\n      key: 'receiveProps',\n      value: function receiveProps(props) {\n        this.props = props;\n      }\n    }, {\n      key: 'receiveComponent',\n      value: function receiveComponent(component) {\n        this.component = component;\n      }\n    }, {\n      key: 'canDrag',\n      value: function canDrag() {\n        if (!spec.canDrag) {\n          return true;\n        }\n\n        return spec.canDrag(this.props, this.monitor);\n      }\n    }, {\n      key: 'isDragging',\n      value: function isDragging(globalMonitor, sourceId) {\n        if (!spec.isDragging) {\n          return sourceId === globalMonitor.getSourceId();\n        }\n\n        return spec.isDragging(this.props, this.monitor);\n      }\n    }, {\n      key: 'beginDrag',\n      value: function beginDrag() {\n        var item = spec.beginDrag(this.props, this.monitor, this.component);\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _invariant2.default)((0, _isPlainObject2.default)(item), 'beginDrag() must return a plain object that represents the dragged item. ' + 'Instead received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html', item);\n        }\n        return item;\n      }\n    }, {\n      key: 'endDrag',\n      value: function endDrag() {\n        if (!spec.endDrag) {\n          return;\n        }\n\n        spec.endDrag(this.props, this.monitor, this.component);\n      }\n    }]);\n\n    return Source;\n  }();\n\n  return function createSource(monitor) {\n    return new Source(monitor);\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createSourceMonitor;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isCallingCanDrag = false;\nvar isCallingIsDragging = false;\n\nvar SourceMonitor = function () {\n  function SourceMonitor(manager) {\n    _classCallCheck(this, SourceMonitor);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(SourceMonitor, [{\n    key: 'receiveHandlerId',\n    value: function receiveHandlerId(sourceId) {\n      this.sourceId = sourceId;\n    }\n  }, {\n    key: 'canDrag',\n    value: function canDrag() {\n      (0, _invariant2.default)(!isCallingCanDrag, 'You may not call monitor.canDrag() inside your canDrag() implementation. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html');\n\n      try {\n        isCallingCanDrag = true;\n        return this.internalMonitor.canDragSource(this.sourceId);\n      } finally {\n        isCallingCanDrag = false;\n      }\n    }\n  }, {\n    key: 'isDragging',\n    value: function isDragging() {\n      (0, _invariant2.default)(!isCallingIsDragging, 'You may not call monitor.isDragging() inside your isDragging() implementation. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html');\n\n      try {\n        isCallingIsDragging = true;\n        return this.internalMonitor.isDraggingSource(this.sourceId);\n      } finally {\n        isCallingIsDragging = false;\n      }\n    }\n  }, {\n    key: 'getItemType',\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: 'getDropResult',\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: 'didDrop',\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: 'getInitialClientOffset',\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: 'getInitialSourceClientOffset',\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: 'getSourceClientOffset',\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: 'getClientOffset',\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: 'getDifferenceFromInitialOffset',\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return SourceMonitor;\n}();\n\nfunction createSourceMonitor(manager) {\n  return new SourceMonitor(manager);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = createTargetConnector;\n\nvar _wrapConnectorHooks = require('./wrapConnectorHooks');\n\nvar _wrapConnectorHooks2 = _interopRequireDefault(_wrapConnectorHooks);\n\nvar _areOptionsEqual = require('./areOptionsEqual');\n\nvar _areOptionsEqual2 = _interopRequireDefault(_areOptionsEqual);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction createTargetConnector(backend) {\n  var currentHandlerId = void 0;\n\n  var currentDropTargetNode = void 0;\n  var currentDropTargetOptions = void 0;\n  var disconnectCurrentDropTarget = void 0;\n\n  function reconnectDropTarget() {\n    if (disconnectCurrentDropTarget) {\n      disconnectCurrentDropTarget();\n      disconnectCurrentDropTarget = null;\n    }\n\n    if (currentHandlerId && currentDropTargetNode) {\n      disconnectCurrentDropTarget = backend.connectDropTarget(currentHandlerId, currentDropTargetNode, currentDropTargetOptions);\n    }\n  }\n\n  function receiveHandlerId(handlerId) {\n    if (handlerId === currentHandlerId) {\n      return;\n    }\n\n    currentHandlerId = handlerId;\n    reconnectDropTarget();\n  }\n\n  var hooks = (0, _wrapConnectorHooks2.default)({\n    dropTarget: function connectDropTarget(node, options) {\n      if (node === currentDropTargetNode && (0, _areOptionsEqual2.default)(options, currentDropTargetOptions)) {\n        return;\n      }\n\n      currentDropTargetNode = node;\n      currentDropTargetOptions = options;\n\n      reconnectDropTarget();\n    }\n  });\n\n  return {\n    receiveHandlerId: receiveHandlerId,\n    hooks: hooks\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createTargetFactory;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar ALLOWED_SPEC_METHODS = ['canDrop', 'hover', 'drop'];\n\nfunction createTargetFactory(spec) {\n  Object.keys(spec).forEach(function (key) {\n    (0, _invariant2.default)(ALLOWED_SPEC_METHODS.indexOf(key) > -1, 'Expected the drop target specification to only have ' + 'some of the following keys: %s. ' + 'Instead received a specification with an unexpected \"%s\" key. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', ALLOWED_SPEC_METHODS.join(', '), key);\n    (0, _invariant2.default)(typeof spec[key] === 'function', 'Expected %s in the drop target specification to be a function. ' + 'Instead received a specification with %s: %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', key, key, spec[key]);\n  });\n\n  var Target = function () {\n    function Target(monitor) {\n      _classCallCheck(this, Target);\n\n      this.monitor = monitor;\n      this.props = null;\n      this.component = null;\n    }\n\n    _createClass(Target, [{\n      key: 'receiveProps',\n      value: function receiveProps(props) {\n        this.props = props;\n      }\n    }, {\n      key: 'receiveMonitor',\n      value: function receiveMonitor(monitor) {\n        this.monitor = monitor;\n      }\n    }, {\n      key: 'receiveComponent',\n      value: function receiveComponent(component) {\n        this.component = component;\n      }\n    }, {\n      key: 'canDrop',\n      value: function canDrop() {\n        if (!spec.canDrop) {\n          return true;\n        }\n\n        return spec.canDrop(this.props, this.monitor);\n      }\n    }, {\n      key: 'hover',\n      value: function hover() {\n        if (!spec.hover) {\n          return;\n        }\n\n        spec.hover(this.props, this.monitor, this.component);\n      }\n    }, {\n      key: 'drop',\n      value: function drop() {\n        if (!spec.drop) {\n          return;\n        }\n\n        var dropResult = spec.drop(this.props, this.monitor, this.component);\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _invariant2.default)(typeof dropResult === 'undefined' || (0, _isPlainObject2.default)(dropResult), 'drop() must either return undefined, or an object that represents the drop result. ' + 'Instead received %s. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html', dropResult);\n        }\n        return dropResult;\n      }\n    }]);\n\n    return Target;\n  }();\n\n  return function createTarget(monitor) {\n    return new Target(monitor);\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = createTargetMonitor;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar isCallingCanDrop = false;\n\nvar TargetMonitor = function () {\n  function TargetMonitor(manager) {\n    _classCallCheck(this, TargetMonitor);\n\n    this.internalMonitor = manager.getMonitor();\n  }\n\n  _createClass(TargetMonitor, [{\n    key: 'receiveHandlerId',\n    value: function receiveHandlerId(targetId) {\n      this.targetId = targetId;\n    }\n  }, {\n    key: 'canDrop',\n    value: function canDrop() {\n      (0, _invariant2.default)(!isCallingCanDrop, 'You may not call monitor.canDrop() inside your canDrop() implementation. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-drop-target-monitor.html');\n\n      try {\n        isCallingCanDrop = true;\n        return this.internalMonitor.canDropOnTarget(this.targetId);\n      } finally {\n        isCallingCanDrop = false;\n      }\n    }\n  }, {\n    key: 'isOver',\n    value: function isOver(options) {\n      return this.internalMonitor.isOverTarget(this.targetId, options);\n    }\n  }, {\n    key: 'getItemType',\n    value: function getItemType() {\n      return this.internalMonitor.getItemType();\n    }\n  }, {\n    key: 'getItem',\n    value: function getItem() {\n      return this.internalMonitor.getItem();\n    }\n  }, {\n    key: 'getDropResult',\n    value: function getDropResult() {\n      return this.internalMonitor.getDropResult();\n    }\n  }, {\n    key: 'didDrop',\n    value: function didDrop() {\n      return this.internalMonitor.didDrop();\n    }\n  }, {\n    key: 'getInitialClientOffset',\n    value: function getInitialClientOffset() {\n      return this.internalMonitor.getInitialClientOffset();\n    }\n  }, {\n    key: 'getInitialSourceClientOffset',\n    value: function getInitialSourceClientOffset() {\n      return this.internalMonitor.getInitialSourceClientOffset();\n    }\n  }, {\n    key: 'getSourceClientOffset',\n    value: function getSourceClientOffset() {\n      return this.internalMonitor.getSourceClientOffset();\n    }\n  }, {\n    key: 'getClientOffset',\n    value: function getClientOffset() {\n      return this.internalMonitor.getClientOffset();\n    }\n  }, {\n    key: 'getDifferenceFromInitialOffset',\n    value: function getDifferenceFromInitialOffset() {\n      return this.internalMonitor.getDifferenceFromInitialOffset();\n    }\n  }]);\n\n  return TargetMonitor;\n}();\n\nfunction createTargetMonitor(manager) {\n  return new TargetMonitor(manager);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = decorateHandler;\n\nvar _preact = require('preact');\n\nvar _preact2 = _interopRequireDefault(_preact);\n\nvar _disposables = require('disposables');\n\nvar _shallowEqual = require('./utils/shallowEqual');\n\nvar _shallowEqual2 = _interopRequireDefault(_shallowEqual);\n\nvar _shallowEqualScalar = require('./utils/shallowEqualScalar');\n\nvar _shallowEqualScalar2 = _interopRequireDefault(_shallowEqualScalar);\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nfunction decorateHandler(_ref) {\n  var DecoratedComponent = _ref.DecoratedComponent,\n      createHandler = _ref.createHandler,\n      createMonitor = _ref.createMonitor,\n      createConnector = _ref.createConnector,\n      registerHandler = _ref.registerHandler,\n      containerDisplayName = _ref.containerDisplayName,\n      getType = _ref.getType,\n      collect = _ref.collect,\n      options = _ref.options;\n  var _options$arePropsEqua = options.arePropsEqual,\n      arePropsEqual = _options$arePropsEqua === undefined ? _shallowEqualScalar2.default : _options$arePropsEqua;\n\n  var displayName = DecoratedComponent.displayName || DecoratedComponent.name || 'Component';\n\n  var DragDropContainer = function (_Component) {\n    _inherits(DragDropContainer, _Component);\n\n    _createClass(DragDropContainer, [{\n      key: 'getHandlerId',\n      value: function getHandlerId() {\n        return this.handlerId;\n      }\n    }, {\n      key: 'getDecoratedComponentInstance',\n      value: function getDecoratedComponentInstance() {\n        return this.decoratedComponentInstance;\n      }\n    }, {\n      key: 'shouldComponentUpdate',\n      value: function shouldComponentUpdate(nextProps, nextState) {\n        return !arePropsEqual(nextProps, this.props) || !(0, _shallowEqual2.default)(nextState, this.state);\n      }\n    }]);\n\n    function DragDropContainer(props, context) {\n      _classCallCheck(this, DragDropContainer);\n\n      var _this = _possibleConstructorReturn(this, (DragDropContainer.__proto__ || Object.getPrototypeOf(DragDropContainer)).call(this, props, context));\n\n      _this.handleChange = _this.handleChange.bind(_this);\n      _this.handleChildRef = _this.handleChildRef.bind(_this);\n\n      (0, _invariant2.default)(_typeof(_this.context.dragDropManager) === 'object', 'Could not find the drag and drop manager in the context of %s. ' + 'Make sure to wrap the top-level component of your app with DragDropContext. ' + 'Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context', displayName, displayName);\n\n      _this.manager = _this.context.dragDropManager;\n      _this.handlerMonitor = createMonitor(_this.manager);\n      _this.handlerConnector = createConnector(_this.manager.getBackend());\n      _this.handler = createHandler(_this.handlerMonitor);\n\n      _this.disposable = new _disposables.SerialDisposable();\n      _this.receiveProps(props);\n      _this.state = _this.getCurrentState();\n      _this.dispose();\n      return _this;\n    }\n\n    _createClass(DragDropContainer, [{\n      key: 'componentDidMount',\n      value: function componentDidMount() {\n        this.isCurrentlyMounted = true;\n        this.disposable = new _disposables.SerialDisposable();\n        this.currentType = null;\n        this.receiveProps(this.props);\n        this.handleChange();\n      }\n    }, {\n      key: 'componentWillReceiveProps',\n      value: function componentWillReceiveProps(nextProps) {\n        if (!arePropsEqual(nextProps, this.props)) {\n          this.receiveProps(nextProps);\n          this.handleChange();\n        }\n      }\n    }, {\n      key: 'componentWillUnmount',\n      value: function componentWillUnmount() {\n        this.dispose();\n        this.isCurrentlyMounted = false;\n      }\n    }, {\n      key: 'receiveProps',\n      value: function receiveProps(props) {\n        this.handler.receiveProps(props);\n        this.receiveType(getType(props));\n      }\n    }, {\n      key: 'receiveType',\n      value: function receiveType(type) {\n        if (type === this.currentType) {\n          return;\n        }\n\n        this.currentType = type;\n\n        var _registerHandler = registerHandler(type, this.handler, this.manager),\n            handlerId = _registerHandler.handlerId,\n            unregister = _registerHandler.unregister;\n\n        this.handlerId = handlerId;\n        this.handlerMonitor.receiveHandlerId(handlerId);\n        this.handlerConnector.receiveHandlerId(handlerId);\n\n        var globalMonitor = this.manager.getMonitor();\n        var unsubscribe = globalMonitor.subscribeToStateChange(this.handleChange, { handlerIds: [handlerId] });\n\n        this.disposable.setDisposable(new _disposables.CompositeDisposable(new _disposables.Disposable(unsubscribe), new _disposables.Disposable(unregister)));\n      }\n    }, {\n      key: 'handleChange',\n      value: function handleChange() {\n        if (!this.isCurrentlyMounted) {\n          return;\n        }\n\n        var nextState = this.getCurrentState();\n        if (!(0, _shallowEqual2.default)(nextState, this.state)) {\n          this.setState(nextState);\n        }\n      }\n    }, {\n      key: 'dispose',\n      value: function dispose() {\n        this.disposable.dispose();\n        this.handlerConnector.receiveHandlerId(null);\n      }\n    }, {\n      key: 'handleChildRef',\n      value: function handleChildRef(component) {\n        this.decoratedComponentInstance = component;\n        this.handler.receiveComponent(component);\n      }\n    }, {\n      key: 'getCurrentState',\n      value: function getCurrentState() {\n        var nextState = collect(this.handlerConnector.hooks, this.handlerMonitor);\n\n        if (process.env.NODE_ENV !== 'production') {\n          (0, _invariant2.default)((0, _isPlainObject2.default)(nextState), 'Expected `collect` specified as the second argument to ' + '%s for %s to return a plain object of props to inject. ' + 'Instead, received %s.', containerDisplayName, displayName, nextState);\n        }\n\n        return nextState;\n      }\n    }, {\n      key: 'render',\n      value: function render() {\n        return _preact2.default.h(DecoratedComponent, _extends({}, this.props, this.state, {\n          ref: this.handleChildRef }));\n      }\n    }]);\n\n    return DragDropContainer;\n  }(_preact.Component);\n\n  DragDropContainer.DecoratedComponent = DecoratedComponent;\n  DragDropContainer.displayName = containerDisplayName + '(' + displayName + ')';\n\n\n  return (0, _hoistNonReactStatics2.default)(DragDropContainer, DecoratedComponent);\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _DragDropContext = require('./DragDropContext');\n\nObject.defineProperty(exports, 'DragDropContext', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragDropContext).default;\n  }\n});\n\nvar _DragLayer = require('./DragLayer');\n\nObject.defineProperty(exports, 'DragLayer', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragLayer).default;\n  }\n});\n\nvar _DragSource = require('./DragSource');\n\nObject.defineProperty(exports, 'DragSource', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DragSource).default;\n  }\n});\n\nvar _DropTarget = require('./DropTarget');\n\nObject.defineProperty(exports, 'DropTarget', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_DropTarget).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = registerSource;\nfunction registerSource(type, source, manager) {\n  var registry = manager.getRegistry();\n  var sourceId = registry.addSource(type, source);\n\n  function unregisterSource() {\n    registry.removeSource(sourceId);\n  }\n\n  return {\n    handlerId: sourceId,\n    unregister: unregisterSource\n  };\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = registerTarget;\nfunction registerTarget(type, target, manager) {\n  var registry = manager.getRegistry();\n  var targetId = registry.addTarget(type, target);\n\n  function unregisterTarget() {\n    registry.removeTarget(targetId);\n  }\n\n  return {\n    handlerId: targetId,\n    unregister: unregisterTarget\n  };\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = checkDecoratorArguments;\nfunction checkDecoratorArguments(functionName, signature) {\n  if (process.env.NODE_ENV !== 'production') {\n    for (var _len = arguments.length, args = Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n      args[_key - 2] = arguments[_key];\n    }\n\n    for (var i = 0; i < args.length; i++) {\n      var arg = args[i];\n      if (arg && arg.prototype && arg.prototype.render) {\n        console.error( // eslint-disable-line no-console\n        'You seem to be applying the arguments in the wrong order. ' + ('It should be ' + functionName + '(' + signature + ')(Component), not the other way around. ') + 'Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order');\n        return;\n      }\n    }\n  }\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = cloneWithRef;\n\nvar _invariant = require('invariant');\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _preact = require('preact');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction cloneWithRef(element, newRef) {\n  var previousRef = element.attributes.ref;\n  (0, _invariant2.default)(typeof previousRef !== 'string', 'Cannot connect React DnD to an element with an existing string ref. ' + 'Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. ' + 'Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute');\n\n  if (!previousRef) {\n    // When there is no ref on the element, use the new ref directly\n    return (0, _preact.cloneElement)(element, {\n      ref: newRef\n    });\n  }\n\n  return (0, _preact.cloneElement)(element, {\n    ref: function ref(node) {\n      newRef(node);\n\n      if (previousRef) {\n        previousRef(node);\n      }\n    }\n  });\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n       value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = isValidType;\n\nvar _isArray = require('lodash/isArray');\n\nvar _isArray2 = _interopRequireDefault(_isArray);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction isValidType(type, allowArray) {\n       return typeof type === 'string' || (typeof type === 'undefined' ? 'undefined' : _typeof(type)) === 'symbol' || allowArray && (0, _isArray2.default)(type) && type.every(function (t) {\n              return isValidType(t, false);\n       });\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = shallowEqual;\nfunction shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i]) || objA[keysA[i]] !== objB[keysA[i]]) {\n      return false;\n    }\n\n    var valA = objA[keysA[i]];\n    var valB = objB[keysA[i]];\n\n    if (valA !== valB) {\n      return false;\n    }\n  }\n\n  return true;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.default = shallowEqualScalar;\nfunction shallowEqualScalar(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n\n  if ((typeof objA === 'undefined' ? 'undefined' : _typeof(objA)) !== 'object' || objA === null || (typeof objB === 'undefined' ? 'undefined' : _typeof(objB)) !== 'object' || objB === null) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  // Test for A's keys different from B.\n  var hasOwn = Object.prototype.hasOwnProperty;\n  for (var i = 0; i < keysA.length; i++) {\n    if (!hasOwn.call(objB, keysA[i])) {\n      return false;\n    }\n\n    var valA = objA[keysA[i]];\n    var valB = objB[keysA[i]];\n\n    if (valA !== valB || (typeof valA === 'undefined' ? 'undefined' : _typeof(valA)) === 'object' || (typeof valB === 'undefined' ? 'undefined' : _typeof(valB)) === 'object') {\n      return false;\n    }\n  }\n\n  return true;\n}","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = wrapConnectorHooks;\n\nvar _cloneWithRef = require('./utils/cloneWithRef');\n\nvar _cloneWithRef2 = _interopRequireDefault(_cloneWithRef);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// import { isValidElement } from 'react';\n\nfunction isValidElement(object) {\n  if (!object) return false;\n\n  return 'nodeName' in object && 'attributes' in object && 'children' in object && 'key' in object;\n}\n\nfunction throwIfCompositeComponentElement(element) {\n  // Custom components can no longer be wrapped directly in React DnD 2.0\n  // so that we don't need to depend on findDOMNode() from react-dom.\n  if (typeof element.nodeName === 'string') {\n    return;\n  }\n\n  var displayName = element.nodeName.displayName || element.nodeName.name || 'the component';\n\n  throw new Error('Only native element nodes can now be passed to React DnD connectors. ' + ('You can either wrap ' + displayName + ' into a <div>, or turn it into a ') + 'drag source or a drop target itself.');\n}\n\nfunction wrapHookToRecognizeElement(hook) {\n  return function () {\n    var elementOrNode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n\n    // When passed a node, call the hook straight away.\n    if (!isValidElement(elementOrNode)) {\n      var node = elementOrNode;\n      hook(node, options);\n      return;\n    }\n\n    // If passed a ReactElement, clone it and attach this function as a ref.\n    // This helps us achieve a neat API where user doesn't even know that refs\n    // are being used under the hood.\n    var element = elementOrNode;\n    throwIfCompositeComponentElement(element);\n\n    // When no options are passed, use the hook directly\n    var ref = options ? function (node) {\n      return hook(node, options);\n    } : hook;\n\n    return (0, _cloneWithRef2.default)(element, ref);\n  };\n}\n\nfunction wrapConnectorHooks(hooks) {\n  var wrappedHooks = {};\n\n  Object.keys(hooks).forEach(function (key) {\n    var hook = hooks[key];\n    var wrappedHook = wrapHookToRecognizeElement(hook);\n    wrappedHooks[key] = function () {\n      return wrappedHook;\n    };\n  });\n\n  return wrappedHooks;\n}","var VNode = function VNode() {};\n\nvar options = {};\n\nvar stack = [];\n\nvar EMPTY_CHILDREN = [];\n\nfunction h(nodeName, attributes) {\n\tvar children = EMPTY_CHILDREN,\n\t    lastSimple,\n\t    child,\n\t    simple,\n\t    i;\n\tfor (i = arguments.length; i-- > 2;) {\n\t\tstack.push(arguments[i]);\n\t}\n\tif (attributes && attributes.children != null) {\n\t\tif (!stack.length) stack.push(attributes.children);\n\t\tdelete attributes.children;\n\t}\n\twhile (stack.length) {\n\t\tif ((child = stack.pop()) && child.pop !== undefined) {\n\t\t\tfor (i = child.length; i--;) {\n\t\t\t\tstack.push(child[i]);\n\t\t\t}\n\t\t} else {\n\t\t\tif (typeof child === 'boolean') child = null;\n\n\t\t\tif (simple = typeof nodeName !== 'function') {\n\t\t\t\tif (child == null) child = '';else if (typeof child === 'number') child = String(child);else if (typeof child !== 'string') simple = false;\n\t\t\t}\n\n\t\t\tif (simple && lastSimple) {\n\t\t\t\tchildren[children.length - 1] += child;\n\t\t\t} else if (children === EMPTY_CHILDREN) {\n\t\t\t\tchildren = [child];\n\t\t\t} else {\n\t\t\t\tchildren.push(child);\n\t\t\t}\n\n\t\t\tlastSimple = simple;\n\t\t}\n\t}\n\n\tvar p = new VNode();\n\tp.nodeName = nodeName;\n\tp.children = children;\n\tp.attributes = attributes == null ? undefined : attributes;\n\tp.key = attributes == null ? undefined : attributes.key;\n\n\tif (options.vnode !== undefined) options.vnode(p);\n\n\treturn p;\n}\n\nfunction extend(obj, props) {\n  for (var i in props) {\n    obj[i] = props[i];\n  }return obj;\n}\n\nfunction applyRef(ref, value) {\n  if (ref != null) {\n    if (typeof ref == 'function') ref(value);else ref.current = value;\n  }\n}\n\nvar defer = typeof Promise == 'function' ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout;\n\nfunction cloneElement(vnode, props) {\n  return h(vnode.nodeName, extend(extend({}, vnode.attributes), props), arguments.length > 2 ? [].slice.call(arguments, 2) : vnode.children);\n}\n\nvar IS_NON_DIMENSIONAL = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i;\n\nvar items = [];\n\nfunction enqueueRender(component) {\n\tif (!component._dirty && (component._dirty = true) && items.push(component) == 1) {\n\t\t(options.debounceRendering || defer)(rerender);\n\t}\n}\n\nfunction rerender() {\n\tvar p;\n\twhile (p = items.pop()) {\n\t\tif (p._dirty) renderComponent(p);\n\t}\n}\n\nfunction isSameNodeType(node, vnode, hydrating) {\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\treturn node.splitText !== undefined;\n\t}\n\tif (typeof vnode.nodeName === 'string') {\n\t\treturn !node._componentConstructor && isNamedNode(node, vnode.nodeName);\n\t}\n\treturn hydrating || node._componentConstructor === vnode.nodeName;\n}\n\nfunction isNamedNode(node, nodeName) {\n\treturn node.normalizedNodeName === nodeName || node.nodeName.toLowerCase() === nodeName.toLowerCase();\n}\n\nfunction getNodeProps(vnode) {\n\tvar props = extend({}, vnode.attributes);\n\tprops.children = vnode.children;\n\n\tvar defaultProps = vnode.nodeName.defaultProps;\n\tif (defaultProps !== undefined) {\n\t\tfor (var i in defaultProps) {\n\t\t\tif (props[i] === undefined) {\n\t\t\t\tprops[i] = defaultProps[i];\n\t\t\t}\n\t\t}\n\t}\n\n\treturn props;\n}\n\nfunction createNode(nodeName, isSvg) {\n\tvar node = isSvg ? document.createElementNS('http://www.w3.org/2000/svg', nodeName) : document.createElement(nodeName);\n\tnode.normalizedNodeName = nodeName;\n\treturn node;\n}\n\nfunction removeNode(node) {\n\tvar parentNode = node.parentNode;\n\tif (parentNode) parentNode.removeChild(node);\n}\n\nfunction setAccessor(node, name, old, value, isSvg) {\n\tif (name === 'className') name = 'class';\n\n\tif (name === 'key') {} else if (name === 'ref') {\n\t\tapplyRef(old, null);\n\t\tapplyRef(value, node);\n\t} else if (name === 'class' && !isSvg) {\n\t\tnode.className = value || '';\n\t} else if (name === 'style') {\n\t\tif (!value || typeof value === 'string' || typeof old === 'string') {\n\t\t\tnode.style.cssText = value || '';\n\t\t}\n\t\tif (value && typeof value === 'object') {\n\t\t\tif (typeof old !== 'string') {\n\t\t\t\tfor (var i in old) {\n\t\t\t\t\tif (!(i in value)) node.style[i] = '';\n\t\t\t\t}\n\t\t\t}\n\t\t\tfor (var i in value) {\n\t\t\t\tnode.style[i] = typeof value[i] === 'number' && IS_NON_DIMENSIONAL.test(i) === false ? value[i] + 'px' : value[i];\n\t\t\t}\n\t\t}\n\t} else if (name === 'dangerouslySetInnerHTML') {\n\t\tif (value) node.innerHTML = value.__html || '';\n\t} else if (name[0] == 'o' && name[1] == 'n') {\n\t\tvar useCapture = name !== (name = name.replace(/Capture$/, ''));\n\t\tname = name.toLowerCase().substring(2);\n\t\tif (value) {\n\t\t\tif (!old) node.addEventListener(name, eventProxy, useCapture);\n\t\t} else {\n\t\t\tnode.removeEventListener(name, eventProxy, useCapture);\n\t\t}\n\t\t(node._listeners || (node._listeners = {}))[name] = value;\n\t} else if (name !== 'list' && name !== 'type' && !isSvg && name in node) {\n\t\ttry {\n\t\t\tnode[name] = value == null ? '' : value;\n\t\t} catch (e) {}\n\t\tif ((value == null || value === false) && name != 'spellcheck') node.removeAttribute(name);\n\t} else {\n\t\tvar ns = isSvg && name !== (name = name.replace(/^xlink:?/, ''));\n\n\t\tif (value == null || value === false) {\n\t\t\tif (ns) node.removeAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase());else node.removeAttribute(name);\n\t\t} else if (typeof value !== 'function') {\n\t\t\tif (ns) node.setAttributeNS('http://www.w3.org/1999/xlink', name.toLowerCase(), value);else node.setAttribute(name, value);\n\t\t}\n\t}\n}\n\nfunction eventProxy(e) {\n\treturn this._listeners[e.type](options.event && options.event(e) || e);\n}\n\nvar mounts = [];\n\nvar diffLevel = 0;\n\nvar isSvgMode = false;\n\nvar hydrating = false;\n\nfunction flushMounts() {\n\tvar c;\n\twhile (c = mounts.shift()) {\n\t\tif (options.afterMount) options.afterMount(c);\n\t\tif (c.componentDidMount) c.componentDidMount();\n\t}\n}\n\nfunction diff(dom, vnode, context, mountAll, parent, componentRoot) {\n\tif (!diffLevel++) {\n\t\tisSvgMode = parent != null && parent.ownerSVGElement !== undefined;\n\n\t\thydrating = dom != null && !('__preactattr_' in dom);\n\t}\n\n\tvar ret = idiff(dom, vnode, context, mountAll, componentRoot);\n\n\tif (parent && ret.parentNode !== parent) parent.appendChild(ret);\n\n\tif (! --diffLevel) {\n\t\thydrating = false;\n\n\t\tif (!componentRoot) flushMounts();\n\t}\n\n\treturn ret;\n}\n\nfunction idiff(dom, vnode, context, mountAll, componentRoot) {\n\tvar out = dom,\n\t    prevSvgMode = isSvgMode;\n\n\tif (vnode == null || typeof vnode === 'boolean') vnode = '';\n\n\tif (typeof vnode === 'string' || typeof vnode === 'number') {\n\t\tif (dom && dom.splitText !== undefined && dom.parentNode && (!dom._component || componentRoot)) {\n\t\t\tif (dom.nodeValue != vnode) {\n\t\t\t\tdom.nodeValue = vnode;\n\t\t\t}\n\t\t} else {\n\t\t\tout = document.createTextNode(vnode);\n\t\t\tif (dom) {\n\t\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\t\t\t\trecollectNodeTree(dom, true);\n\t\t\t}\n\t\t}\n\n\t\tout['__preactattr_'] = true;\n\n\t\treturn out;\n\t}\n\n\tvar vnodeName = vnode.nodeName;\n\tif (typeof vnodeName === 'function') {\n\t\treturn buildComponentFromVNode(dom, vnode, context, mountAll);\n\t}\n\n\tisSvgMode = vnodeName === 'svg' ? true : vnodeName === 'foreignObject' ? false : isSvgMode;\n\n\tvnodeName = String(vnodeName);\n\tif (!dom || !isNamedNode(dom, vnodeName)) {\n\t\tout = createNode(vnodeName, isSvgMode);\n\n\t\tif (dom) {\n\t\t\twhile (dom.firstChild) {\n\t\t\t\tout.appendChild(dom.firstChild);\n\t\t\t}\n\t\t\tif (dom.parentNode) dom.parentNode.replaceChild(out, dom);\n\n\t\t\trecollectNodeTree(dom, true);\n\t\t}\n\t}\n\n\tvar fc = out.firstChild,\n\t    props = out['__preactattr_'],\n\t    vchildren = vnode.children;\n\n\tif (props == null) {\n\t\tprops = out['__preactattr_'] = {};\n\t\tfor (var a = out.attributes, i = a.length; i--;) {\n\t\t\tprops[a[i].name] = a[i].value;\n\t\t}\n\t}\n\n\tif (!hydrating && vchildren && vchildren.length === 1 && typeof vchildren[0] === 'string' && fc != null && fc.splitText !== undefined && fc.nextSibling == null) {\n\t\tif (fc.nodeValue != vchildren[0]) {\n\t\t\tfc.nodeValue = vchildren[0];\n\t\t}\n\t} else if (vchildren && vchildren.length || fc != null) {\n\t\t\tinnerDiffNode(out, vchildren, context, mountAll, hydrating || props.dangerouslySetInnerHTML != null);\n\t\t}\n\n\tdiffAttributes(out, vnode.attributes, props);\n\n\tisSvgMode = prevSvgMode;\n\n\treturn out;\n}\n\nfunction innerDiffNode(dom, vchildren, context, mountAll, isHydrating) {\n\tvar originalChildren = dom.childNodes,\n\t    children = [],\n\t    keyed = {},\n\t    keyedLen = 0,\n\t    min = 0,\n\t    len = originalChildren.length,\n\t    childrenLen = 0,\n\t    vlen = vchildren ? vchildren.length : 0,\n\t    j,\n\t    c,\n\t    f,\n\t    vchild,\n\t    child;\n\n\tif (len !== 0) {\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tvar _child = originalChildren[i],\n\t\t\t    props = _child['__preactattr_'],\n\t\t\t    key = vlen && props ? _child._component ? _child._component.__key : props.key : null;\n\t\t\tif (key != null) {\n\t\t\t\tkeyedLen++;\n\t\t\t\tkeyed[key] = _child;\n\t\t\t} else if (props || (_child.splitText !== undefined ? isHydrating ? _child.nodeValue.trim() : true : isHydrating)) {\n\t\t\t\tchildren[childrenLen++] = _child;\n\t\t\t}\n\t\t}\n\t}\n\n\tif (vlen !== 0) {\n\t\tfor (var i = 0; i < vlen; i++) {\n\t\t\tvchild = vchildren[i];\n\t\t\tchild = null;\n\n\t\t\tvar key = vchild.key;\n\t\t\tif (key != null) {\n\t\t\t\tif (keyedLen && keyed[key] !== undefined) {\n\t\t\t\t\tchild = keyed[key];\n\t\t\t\t\tkeyed[key] = undefined;\n\t\t\t\t\tkeyedLen--;\n\t\t\t\t}\n\t\t\t} else if (min < childrenLen) {\n\t\t\t\t\tfor (j = min; j < childrenLen; j++) {\n\t\t\t\t\t\tif (children[j] !== undefined && isSameNodeType(c = children[j], vchild, isHydrating)) {\n\t\t\t\t\t\t\tchild = c;\n\t\t\t\t\t\t\tchildren[j] = undefined;\n\t\t\t\t\t\t\tif (j === childrenLen - 1) childrenLen--;\n\t\t\t\t\t\t\tif (j === min) min++;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\tchild = idiff(child, vchild, context, mountAll);\n\n\t\t\tf = originalChildren[i];\n\t\t\tif (child && child !== dom && child !== f) {\n\t\t\t\tif (f == null) {\n\t\t\t\t\tdom.appendChild(child);\n\t\t\t\t} else if (child === f.nextSibling) {\n\t\t\t\t\tremoveNode(f);\n\t\t\t\t} else {\n\t\t\t\t\tdom.insertBefore(child, f);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tif (keyedLen) {\n\t\tfor (var i in keyed) {\n\t\t\tif (keyed[i] !== undefined) recollectNodeTree(keyed[i], false);\n\t\t}\n\t}\n\n\twhile (min <= childrenLen) {\n\t\tif ((child = children[childrenLen--]) !== undefined) recollectNodeTree(child, false);\n\t}\n}\n\nfunction recollectNodeTree(node, unmountOnly) {\n\tvar component = node._component;\n\tif (component) {\n\t\tunmountComponent(component);\n\t} else {\n\t\tif (node['__preactattr_'] != null) applyRef(node['__preactattr_'].ref, null);\n\n\t\tif (unmountOnly === false || node['__preactattr_'] == null) {\n\t\t\tremoveNode(node);\n\t\t}\n\n\t\tremoveChildren(node);\n\t}\n}\n\nfunction removeChildren(node) {\n\tnode = node.lastChild;\n\twhile (node) {\n\t\tvar next = node.previousSibling;\n\t\trecollectNodeTree(node, true);\n\t\tnode = next;\n\t}\n}\n\nfunction diffAttributes(dom, attrs, old) {\n\tvar name;\n\n\tfor (name in old) {\n\t\tif (!(attrs && attrs[name] != null) && old[name] != null) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = undefined, isSvgMode);\n\t\t}\n\t}\n\n\tfor (name in attrs) {\n\t\tif (name !== 'children' && name !== 'innerHTML' && (!(name in old) || attrs[name] !== (name === 'value' || name === 'checked' ? dom[name] : old[name]))) {\n\t\t\tsetAccessor(dom, name, old[name], old[name] = attrs[name], isSvgMode);\n\t\t}\n\t}\n}\n\nvar recyclerComponents = [];\n\nfunction createComponent(Ctor, props, context) {\n\tvar inst,\n\t    i = recyclerComponents.length;\n\n\tif (Ctor.prototype && Ctor.prototype.render) {\n\t\tinst = new Ctor(props, context);\n\t\tComponent.call(inst, props, context);\n\t} else {\n\t\tinst = new Component(props, context);\n\t\tinst.constructor = Ctor;\n\t\tinst.render = doRender;\n\t}\n\n\twhile (i--) {\n\t\tif (recyclerComponents[i].constructor === Ctor) {\n\t\t\tinst.nextBase = recyclerComponents[i].nextBase;\n\t\t\trecyclerComponents.splice(i, 1);\n\t\t\treturn inst;\n\t\t}\n\t}\n\n\treturn inst;\n}\n\nfunction doRender(props, state, context) {\n\treturn this.constructor(props, context);\n}\n\nfunction setComponentProps(component, props, renderMode, context, mountAll) {\n\tif (component._disable) return;\n\tcomponent._disable = true;\n\n\tcomponent.__ref = props.ref;\n\tcomponent.__key = props.key;\n\tdelete props.ref;\n\tdelete props.key;\n\n\tif (typeof component.constructor.getDerivedStateFromProps === 'undefined') {\n\t\tif (!component.base || mountAll) {\n\t\t\tif (component.componentWillMount) component.componentWillMount();\n\t\t} else if (component.componentWillReceiveProps) {\n\t\t\tcomponent.componentWillReceiveProps(props, context);\n\t\t}\n\t}\n\n\tif (context && context !== component.context) {\n\t\tif (!component.prevContext) component.prevContext = component.context;\n\t\tcomponent.context = context;\n\t}\n\n\tif (!component.prevProps) component.prevProps = component.props;\n\tcomponent.props = props;\n\n\tcomponent._disable = false;\n\n\tif (renderMode !== 0) {\n\t\tif (renderMode === 1 || options.syncComponentUpdates !== false || !component.base) {\n\t\t\trenderComponent(component, 1, mountAll);\n\t\t} else {\n\t\t\tenqueueRender(component);\n\t\t}\n\t}\n\n\tapplyRef(component.__ref, component);\n}\n\nfunction renderComponent(component, renderMode, mountAll, isChild) {\n\tif (component._disable) return;\n\n\tvar props = component.props,\n\t    state = component.state,\n\t    context = component.context,\n\t    previousProps = component.prevProps || props,\n\t    previousState = component.prevState || state,\n\t    previousContext = component.prevContext || context,\n\t    isUpdate = component.base,\n\t    nextBase = component.nextBase,\n\t    initialBase = isUpdate || nextBase,\n\t    initialChildComponent = component._component,\n\t    skip = false,\n\t    snapshot = previousContext,\n\t    rendered,\n\t    inst,\n\t    cbase;\n\n\tif (component.constructor.getDerivedStateFromProps) {\n\t\tstate = extend(extend({}, state), component.constructor.getDerivedStateFromProps(props, state));\n\t\tcomponent.state = state;\n\t}\n\n\tif (isUpdate) {\n\t\tcomponent.props = previousProps;\n\t\tcomponent.state = previousState;\n\t\tcomponent.context = previousContext;\n\t\tif (renderMode !== 2 && component.shouldComponentUpdate && component.shouldComponentUpdate(props, state, context) === false) {\n\t\t\tskip = true;\n\t\t} else if (component.componentWillUpdate) {\n\t\t\tcomponent.componentWillUpdate(props, state, context);\n\t\t}\n\t\tcomponent.props = props;\n\t\tcomponent.state = state;\n\t\tcomponent.context = context;\n\t}\n\n\tcomponent.prevProps = component.prevState = component.prevContext = component.nextBase = null;\n\tcomponent._dirty = false;\n\n\tif (!skip) {\n\t\trendered = component.render(props, state, context);\n\n\t\tif (component.getChildContext) {\n\t\t\tcontext = extend(extend({}, context), component.getChildContext());\n\t\t}\n\n\t\tif (isUpdate && component.getSnapshotBeforeUpdate) {\n\t\t\tsnapshot = component.getSnapshotBeforeUpdate(previousProps, previousState);\n\t\t}\n\n\t\tvar childComponent = rendered && rendered.nodeName,\n\t\t    toUnmount,\n\t\t    base;\n\n\t\tif (typeof childComponent === 'function') {\n\n\t\t\tvar childProps = getNodeProps(rendered);\n\t\t\tinst = initialChildComponent;\n\n\t\t\tif (inst && inst.constructor === childComponent && childProps.key == inst.__key) {\n\t\t\t\tsetComponentProps(inst, childProps, 1, context, false);\n\t\t\t} else {\n\t\t\t\ttoUnmount = inst;\n\n\t\t\t\tcomponent._component = inst = createComponent(childComponent, childProps, context);\n\t\t\t\tinst.nextBase = inst.nextBase || nextBase;\n\t\t\t\tinst._parentComponent = component;\n\t\t\t\tsetComponentProps(inst, childProps, 0, context, false);\n\t\t\t\trenderComponent(inst, 1, mountAll, true);\n\t\t\t}\n\n\t\t\tbase = inst.base;\n\t\t} else {\n\t\t\tcbase = initialBase;\n\n\t\t\ttoUnmount = initialChildComponent;\n\t\t\tif (toUnmount) {\n\t\t\t\tcbase = component._component = null;\n\t\t\t}\n\n\t\t\tif (initialBase || renderMode === 1) {\n\t\t\t\tif (cbase) cbase._component = null;\n\t\t\t\tbase = diff(cbase, rendered, context, mountAll || !isUpdate, initialBase && initialBase.parentNode, true);\n\t\t\t}\n\t\t}\n\n\t\tif (initialBase && base !== initialBase && inst !== initialChildComponent) {\n\t\t\tvar baseParent = initialBase.parentNode;\n\t\t\tif (baseParent && base !== baseParent) {\n\t\t\t\tbaseParent.replaceChild(base, initialBase);\n\n\t\t\t\tif (!toUnmount) {\n\t\t\t\t\tinitialBase._component = null;\n\t\t\t\t\trecollectNodeTree(initialBase, false);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tif (toUnmount) {\n\t\t\tunmountComponent(toUnmount);\n\t\t}\n\n\t\tcomponent.base = base;\n\t\tif (base && !isChild) {\n\t\t\tvar componentRef = component,\n\t\t\t    t = component;\n\t\t\twhile (t = t._parentComponent) {\n\t\t\t\t(componentRef = t).base = base;\n\t\t\t}\n\t\t\tbase._component = componentRef;\n\t\t\tbase._componentConstructor = componentRef.constructor;\n\t\t}\n\t}\n\n\tif (!isUpdate || mountAll) {\n\t\tmounts.push(component);\n\t} else if (!skip) {\n\n\t\tif (component.componentDidUpdate) {\n\t\t\tcomponent.componentDidUpdate(previousProps, previousState, snapshot);\n\t\t}\n\t\tif (options.afterUpdate) options.afterUpdate(component);\n\t}\n\n\twhile (component._renderCallbacks.length) {\n\t\tcomponent._renderCallbacks.pop().call(component);\n\t}if (!diffLevel && !isChild) flushMounts();\n}\n\nfunction buildComponentFromVNode(dom, vnode, context, mountAll) {\n\tvar c = dom && dom._component,\n\t    originalComponent = c,\n\t    oldDom = dom,\n\t    isDirectOwner = c && dom._componentConstructor === vnode.nodeName,\n\t    isOwner = isDirectOwner,\n\t    props = getNodeProps(vnode);\n\twhile (c && !isOwner && (c = c._parentComponent)) {\n\t\tisOwner = c.constructor === vnode.nodeName;\n\t}\n\n\tif (c && isOwner && (!mountAll || c._component)) {\n\t\tsetComponentProps(c, props, 3, context, mountAll);\n\t\tdom = c.base;\n\t} else {\n\t\tif (originalComponent && !isDirectOwner) {\n\t\t\tunmountComponent(originalComponent);\n\t\t\tdom = oldDom = null;\n\t\t}\n\n\t\tc = createComponent(vnode.nodeName, props, context);\n\t\tif (dom && !c.nextBase) {\n\t\t\tc.nextBase = dom;\n\n\t\t\toldDom = null;\n\t\t}\n\t\tsetComponentProps(c, props, 1, context, mountAll);\n\t\tdom = c.base;\n\n\t\tif (oldDom && dom !== oldDom) {\n\t\t\toldDom._component = null;\n\t\t\trecollectNodeTree(oldDom, false);\n\t\t}\n\t}\n\n\treturn dom;\n}\n\nfunction unmountComponent(component) {\n\tif (options.beforeUnmount) options.beforeUnmount(component);\n\n\tvar base = component.base;\n\n\tcomponent._disable = true;\n\n\tif (component.componentWillUnmount) component.componentWillUnmount();\n\n\tcomponent.base = null;\n\n\tvar inner = component._component;\n\tif (inner) {\n\t\tunmountComponent(inner);\n\t} else if (base) {\n\t\tif (base['__preactattr_'] != null) applyRef(base['__preactattr_'].ref, null);\n\n\t\tcomponent.nextBase = base;\n\n\t\tremoveNode(base);\n\t\trecyclerComponents.push(component);\n\n\t\tremoveChildren(base);\n\t}\n\n\tapplyRef(component.__ref, null);\n}\n\nfunction Component(props, context) {\n\tthis._dirty = true;\n\n\tthis.context = context;\n\n\tthis.props = props;\n\n\tthis.state = this.state || {};\n\n\tthis._renderCallbacks = [];\n}\n\nextend(Component.prototype, {\n\tsetState: function setState(state, callback) {\n\t\tif (!this.prevState) this.prevState = this.state;\n\t\tthis.state = extend(extend({}, this.state), typeof state === 'function' ? state(this.state, this.props) : state);\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\tenqueueRender(this);\n\t},\n\tforceUpdate: function forceUpdate(callback) {\n\t\tif (callback) this._renderCallbacks.push(callback);\n\t\trenderComponent(this, 2);\n\t},\n\trender: function render() {}\n});\n\nfunction render(vnode, parent, merge) {\n  return diff(merge, vnode, {}, false, parent, false);\n}\n\nfunction createRef() {\n\treturn {};\n}\n\nvar preact = {\n\th: h,\n\tcreateElement: h,\n\tcloneElement: cloneElement,\n\tcreateRef: createRef,\n\tComponent: Component,\n\trender: render,\n\trerender: rerender,\n\toptions: options\n};\n\nexport default preact;\nexport { h, h as createElement, cloneElement, createRef, Component, render, rerender, options };\n//# sourceMappingURL=preact.mjs.map\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar discount_lodash_1 = require(\"./utils/discount_lodash\");\nexports.isFirefox = discount_lodash_1.memoize(function () {\n    return /firefox/i.test(navigator.userAgent);\n});\nexports.isSafari = discount_lodash_1.memoize(function () { return Boolean(window.safari); });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar discount_lodash_1 = require(\"./utils/discount_lodash\");\nvar EnterLeaveCounter = /** @class */ (function () {\n    function EnterLeaveCounter(isNodeInDocument) {\n        this.entered = [];\n        this.isNodeInDocument = isNodeInDocument;\n    }\n    EnterLeaveCounter.prototype.enter = function (enteringNode) {\n        var _this = this;\n        var previousLength = this.entered.length;\n        var isNodeEntered = function (node) {\n            return _this.isNodeInDocument(node) &&\n                (!node.contains || node.contains(enteringNode));\n        };\n        this.entered = discount_lodash_1.union(this.entered.filter(isNodeEntered), [enteringNode]);\n        return previousLength === 0 && this.entered.length > 0;\n    };\n    EnterLeaveCounter.prototype.leave = function (leavingNode) {\n        var previousLength = this.entered.length;\n        this.entered = discount_lodash_1.without(this.entered.filter(this.isNodeInDocument), leavingNode);\n        return previousLength > 0 && this.entered.length === 0;\n    };\n    EnterLeaveCounter.prototype.reset = function () {\n        this.entered = [];\n    };\n    return EnterLeaveCounter;\n}());\nexports.default = EnterLeaveCounter;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar EnterLeaveCounter_1 = require(\"./EnterLeaveCounter\");\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\nvar OffsetUtils_1 = require(\"./OffsetUtils\");\nvar NativeDragSources_1 = require(\"./NativeDragSources\");\nvar NativeTypes = require(\"./NativeTypes\");\nvar HTML5Backend = /** @class */ (function () {\n    function HTML5Backend(manager) {\n        var _this = this;\n        this.sourcePreviewNodes = new Map();\n        this.sourcePreviewNodeOptions = new Map();\n        this.sourceNodes = new Map();\n        this.sourceNodeOptions = new Map();\n        this.dragStartSourceIds = null;\n        this.dropTargetIds = [];\n        this.dragEnterTargetIds = [];\n        this.currentNativeSource = null;\n        this.currentNativeHandle = null;\n        this.currentDragSourceNode = null;\n        this.altKeyPressed = false;\n        this.mouseMoveTimeoutTimer = null;\n        this.asyncEndDragFrameId = null;\n        this.dragOverTargetIds = null;\n        this.getSourceClientOffset = function (sourceId) {\n            return OffsetUtils_1.getNodeClientOffset(_this.sourceNodes.get(sourceId));\n        };\n        this.endDragNativeItem = function () {\n            if (!_this.isDraggingNativeItem()) {\n                return;\n            }\n            _this.actions.endDrag();\n            _this.registry.removeSource(_this.currentNativeHandle);\n            _this.currentNativeHandle = null;\n            _this.currentNativeSource = null;\n        };\n        this.isNodeInDocument = function (node) {\n            // Check the node either in the main document or in the current context\n            return ((!!document && document.body.contains(node)) ||\n                (!!_this.window && _this.window.document.body.contains(node)));\n        };\n        this.endDragIfSourceWasRemovedFromDOM = function () {\n            var node = _this.currentDragSourceNode;\n            if (_this.isNodeInDocument(node)) {\n                return;\n            }\n            if (_this.clearCurrentDragSourceNode()) {\n                _this.actions.endDrag();\n            }\n        };\n        this.handleTopDragStartCapture = function () {\n            _this.clearCurrentDragSourceNode();\n            _this.dragStartSourceIds = [];\n        };\n        this.handleTopDragStart = function (e) {\n            var dragStartSourceIds = _this.dragStartSourceIds;\n            _this.dragStartSourceIds = null;\n            var clientOffset = OffsetUtils_1.getEventClientOffset(e);\n            // Avoid crashing if we missed a drop event or our previous drag died\n            if (_this.monitor.isDragging()) {\n                _this.actions.endDrag();\n            }\n            // Don't publish the source just yet (see why below)\n            _this.actions.beginDrag(dragStartSourceIds || [], {\n                publishSource: false,\n                getSourceClientOffset: _this.getSourceClientOffset,\n                clientOffset: clientOffset,\n            });\n            var dataTransfer = e.dataTransfer;\n            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);\n            if (_this.monitor.isDragging()) {\n                if (dataTransfer && typeof dataTransfer.setDragImage === 'function') {\n                    // Use custom drag image if user specifies it.\n                    // If child drag source refuses drag but parent agrees,\n                    // use parent's node as drag image. Neither works in IE though.\n                    var sourceId = _this.monitor.getSourceId();\n                    var sourceNode = _this.sourceNodes.get(sourceId);\n                    var dragPreview = _this.sourcePreviewNodes.get(sourceId) || sourceNode;\n                    if (dragPreview) {\n                        var _a = _this.getCurrentSourcePreviewNodeOptions(), anchorX = _a.anchorX, anchorY = _a.anchorY, offsetX = _a.offsetX, offsetY = _a.offsetY;\n                        var anchorPoint = { anchorX: anchorX, anchorY: anchorY };\n                        var offsetPoint = { offsetX: offsetX, offsetY: offsetY };\n                        var dragPreviewOffset = OffsetUtils_1.getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint);\n                        dataTransfer.setDragImage(dragPreview, dragPreviewOffset.x, dragPreviewOffset.y);\n                    }\n                }\n                try {\n                    // Firefox won't drag without setting data\n                    dataTransfer.setData('application/json', {});\n                }\n                catch (err) {\n                    // IE doesn't support MIME types in setData\n                }\n                // Store drag source node so we can check whether\n                // it is removed from DOM and trigger endDrag manually.\n                _this.setCurrentDragSourceNode(e.target);\n                // Now we are ready to publish the drag source.. or are we not?\n                var captureDraggingState = _this.getCurrentSourcePreviewNodeOptions().captureDraggingState;\n                if (!captureDraggingState) {\n                    // Usually we want to publish it in the next tick so that browser\n                    // is able to screenshot the current (not yet dragging) state.\n                    //\n                    // It also neatly avoids a situation where render() returns null\n                    // in the same tick for the source element, and browser freaks out.\n                    setTimeout(function () { return _this.actions.publishDragSource(); }, 0);\n                }\n                else {\n                    // In some cases the user may want to override this behavior, e.g.\n                    // to work around IE not supporting custom drag previews.\n                    //\n                    // When using a custom drag layer, the only way to prevent\n                    // the default drag preview from drawing in IE is to screenshot\n                    // the dragging state in which the node itself has zero opacity\n                    // and height. In this case, though, returning null from render()\n                    // will abruptly end the dragging, which is not obvious.\n                    //\n                    // This is the reason such behavior is strictly opt-in.\n                    _this.actions.publishDragSource();\n                }\n            }\n            else if (nativeType) {\n                // A native item (such as URL) dragged from inside the document\n                _this.beginDragNativeItem(nativeType);\n            }\n            else if (dataTransfer &&\n                !dataTransfer.types &&\n                ((e.target && !e.target.hasAttribute) ||\n                    !e.target.hasAttribute('draggable'))) {\n                // Looks like a Safari bug: dataTransfer.types is null, but there was no draggable.\n                // Just let it drag. It's a native type (URL or text) and will be picked up in\n                // dragenter handler.\n                return;\n            }\n            else {\n                // If by this time no drag source reacted, tell browser not to drag.\n                e.preventDefault();\n            }\n        };\n        this.handleTopDragEndCapture = function () {\n            if (_this.clearCurrentDragSourceNode()) {\n                // Firefox can dispatch this event in an infinite loop\n                // if dragend handler does something like showing an alert.\n                // Only proceed if we have not handled it already.\n                _this.actions.endDrag();\n            }\n        };\n        this.handleTopDragEnterCapture = function (e) {\n            _this.dragEnterTargetIds = [];\n            var isFirstEnter = _this.enterLeaveCounter.enter(e.target);\n            if (!isFirstEnter || _this.monitor.isDragging()) {\n                return;\n            }\n            var dataTransfer = e.dataTransfer;\n            var nativeType = NativeDragSources_1.matchNativeItemType(dataTransfer);\n            if (nativeType) {\n                // A native item (such as file or URL) dragged from outside the document\n                _this.beginDragNativeItem(nativeType);\n            }\n        };\n        this.handleTopDragEnter = function (e) {\n            var dragEnterTargetIds = _this.dragEnterTargetIds;\n            _this.dragEnterTargetIds = [];\n            if (!_this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                return;\n            }\n            _this.altKeyPressed = e.altKey;\n            if (!BrowserDetector_1.isFirefox()) {\n                // Don't emit hover in `dragenter` on Firefox due to an edge case.\n                // If the target changes position as the result of `dragenter`, Firefox\n                // will still happily dispatch `dragover` despite target being no longer\n                // there. The easy solution is to only fire `hover` in `dragover` on FF.\n                _this.actions.hover(dragEnterTargetIds, {\n                    clientOffset: OffsetUtils_1.getEventClientOffset(e),\n                });\n            }\n            var canDrop = dragEnterTargetIds.some(function (targetId) {\n                return _this.monitor.canDropOnTarget(targetId);\n            });\n            if (canDrop) {\n                // IE requires this to fire dragover events\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n                }\n            }\n        };\n        this.handleTopDragOverCapture = function () {\n            _this.dragOverTargetIds = [];\n        };\n        this.handleTopDragOver = function (e) {\n            var dragOverTargetIds = _this.dragOverTargetIds;\n            _this.dragOverTargetIds = [];\n            if (!_this.monitor.isDragging()) {\n                // This is probably a native item type we don't understand.\n                // Prevent default \"drop and blow away the whole document\" action.\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = 'none';\n                }\n                return;\n            }\n            _this.altKeyPressed = e.altKey;\n            _this.actions.hover(dragOverTargetIds || [], {\n                clientOffset: OffsetUtils_1.getEventClientOffset(e),\n            });\n            var canDrop = (dragOverTargetIds || []).some(function (targetId) {\n                return _this.monitor.canDropOnTarget(targetId);\n            });\n            if (canDrop) {\n                // Show user-specified drop effect.\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = _this.getCurrentDropEffect();\n                }\n            }\n            else if (_this.isDraggingNativeItem()) {\n                // Don't show a nice cursor but still prevent default\n                // \"drop and blow away the whole document\" action.\n                e.preventDefault();\n            }\n            else {\n                e.preventDefault();\n                if (e.dataTransfer) {\n                    e.dataTransfer.dropEffect = 'none';\n                }\n            }\n        };\n        this.handleTopDragLeaveCapture = function (e) {\n            if (_this.isDraggingNativeItem()) {\n                e.preventDefault();\n            }\n            var isLastLeave = _this.enterLeaveCounter.leave(e.target);\n            if (!isLastLeave) {\n                return;\n            }\n            if (_this.isDraggingNativeItem()) {\n                _this.endDragNativeItem();\n            }\n        };\n        this.handleTopDropCapture = function (e) {\n            _this.dropTargetIds = [];\n            e.preventDefault();\n            if (_this.isDraggingNativeItem()) {\n                _this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer);\n            }\n            _this.enterLeaveCounter.reset();\n        };\n        this.handleTopDrop = function (e) {\n            var dropTargetIds = _this.dropTargetIds;\n            _this.dropTargetIds = [];\n            _this.actions.hover(dropTargetIds, {\n                clientOffset: OffsetUtils_1.getEventClientOffset(e),\n            });\n            _this.actions.drop({ dropEffect: _this.getCurrentDropEffect() });\n            if (_this.isDraggingNativeItem()) {\n                _this.endDragNativeItem();\n            }\n            else {\n                _this.endDragIfSourceWasRemovedFromDOM();\n            }\n        };\n        this.handleSelectStart = function (e) {\n            var target = e.target;\n            // Only IE requires us to explicitly say\n            // we want drag drop operation to start\n            if (typeof target.dragDrop !== 'function') {\n                return;\n            }\n            // Inputs and textareas should be selectable\n            if (target.tagName === 'INPUT' ||\n                target.tagName === 'SELECT' ||\n                target.tagName === 'TEXTAREA' ||\n                target.isContentEditable) {\n                return;\n            }\n            // For other targets, ask IE\n            // to enable drag and drop\n            e.preventDefault();\n            target.dragDrop();\n        };\n        this.actions = manager.getActions();\n        this.monitor = manager.getMonitor();\n        this.registry = manager.getRegistry();\n        this.context = manager.getContext();\n        this.enterLeaveCounter = new EnterLeaveCounter_1.default(this.isNodeInDocument);\n    }\n    Object.defineProperty(HTML5Backend.prototype, \"window\", {\n        // public for test\n        get: function () {\n            if (this.context && this.context.window) {\n                return this.context.window;\n            }\n            else if (typeof window !== 'undefined') {\n                return window;\n            }\n            return undefined;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    HTML5Backend.prototype.setup = function () {\n        if (this.window === undefined) {\n            return;\n        }\n        if (this.window.__isReactDndBackendSetUp) {\n            throw new Error('Cannot have two HTML5 backends at the same time.');\n        }\n        this.window.__isReactDndBackendSetUp = true;\n        this.addEventListeners(this.window);\n    };\n    HTML5Backend.prototype.teardown = function () {\n        if (this.window === undefined) {\n            return;\n        }\n        this.window.__isReactDndBackendSetUp = false;\n        this.removeEventListeners(this.window);\n        this.clearCurrentDragSourceNode();\n        if (this.asyncEndDragFrameId) {\n            this.window.cancelAnimationFrame(this.asyncEndDragFrameId);\n        }\n    };\n    HTML5Backend.prototype.connectDragPreview = function (sourceId, node, options) {\n        var _this = this;\n        this.sourcePreviewNodeOptions.set(sourceId, options);\n        this.sourcePreviewNodes.set(sourceId, node);\n        return function () {\n            _this.sourcePreviewNodes.delete(sourceId);\n            _this.sourcePreviewNodeOptions.delete(sourceId);\n        };\n    };\n    HTML5Backend.prototype.connectDragSource = function (sourceId, node, options) {\n        var _this = this;\n        this.sourceNodes.set(sourceId, node);\n        this.sourceNodeOptions.set(sourceId, options);\n        var handleDragStart = function (e) { return _this.handleDragStart(e, sourceId); };\n        var handleSelectStart = function (e) { return _this.handleSelectStart(e); };\n        node.setAttribute('draggable', 'true');\n        node.addEventListener('dragstart', handleDragStart);\n        node.addEventListener('selectstart', handleSelectStart);\n        return function () {\n            _this.sourceNodes.delete(sourceId);\n            _this.sourceNodeOptions.delete(sourceId);\n            node.removeEventListener('dragstart', handleDragStart);\n            node.removeEventListener('selectstart', handleSelectStart);\n            node.setAttribute('draggable', 'false');\n        };\n    };\n    HTML5Backend.prototype.connectDropTarget = function (targetId, node) {\n        var _this = this;\n        var handleDragEnter = function (e) { return _this.handleDragEnter(e, targetId); };\n        var handleDragOver = function (e) { return _this.handleDragOver(e, targetId); };\n        var handleDrop = function (e) { return _this.handleDrop(e, targetId); };\n        node.addEventListener('dragenter', handleDragEnter);\n        node.addEventListener('dragover', handleDragOver);\n        node.addEventListener('drop', handleDrop);\n        return function () {\n            node.removeEventListener('dragenter', handleDragEnter);\n            node.removeEventListener('dragover', handleDragOver);\n            node.removeEventListener('drop', handleDrop);\n        };\n    };\n    HTML5Backend.prototype.addEventListeners = function (target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.addEventListener) {\n            return;\n        }\n        target.addEventListener('dragstart', this\n            .handleTopDragStart);\n        target.addEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.addEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.addEventListener('dragenter', this\n            .handleTopDragEnter);\n        target.addEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.addEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.addEventListener('dragover', this.handleTopDragOver);\n        target.addEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.addEventListener('drop', this.handleTopDrop);\n        target.addEventListener('drop', this.handleTopDropCapture, true);\n    };\n    HTML5Backend.prototype.removeEventListeners = function (target) {\n        // SSR Fix (https://github.com/react-dnd/react-dnd/pull/813\n        if (!target.removeEventListener) {\n            return;\n        }\n        target.removeEventListener('dragstart', this.handleTopDragStart);\n        target.removeEventListener('dragstart', this.handleTopDragStartCapture, true);\n        target.removeEventListener('dragend', this.handleTopDragEndCapture, true);\n        target.removeEventListener('dragenter', this\n            .handleTopDragEnter);\n        target.removeEventListener('dragenter', this.handleTopDragEnterCapture, true);\n        target.removeEventListener('dragleave', this.handleTopDragLeaveCapture, true);\n        target.removeEventListener('dragover', this\n            .handleTopDragOver);\n        target.removeEventListener('dragover', this.handleTopDragOverCapture, true);\n        target.removeEventListener('drop', this.handleTopDrop);\n        target.removeEventListener('drop', this.handleTopDropCapture, true);\n    };\n    HTML5Backend.prototype.getCurrentSourceNodeOptions = function () {\n        var sourceId = this.monitor.getSourceId();\n        var sourceNodeOptions = this.sourceNodeOptions.get(sourceId);\n        return __assign({ dropEffect: this.altKeyPressed ? 'copy' : 'move' }, (sourceNodeOptions || {}));\n    };\n    HTML5Backend.prototype.getCurrentDropEffect = function () {\n        if (this.isDraggingNativeItem()) {\n            // It makes more sense to default to 'copy' for native resources\n            return 'copy';\n        }\n        return this.getCurrentSourceNodeOptions().dropEffect;\n    };\n    HTML5Backend.prototype.getCurrentSourcePreviewNodeOptions = function () {\n        var sourceId = this.monitor.getSourceId();\n        var sourcePreviewNodeOptions = this.sourcePreviewNodeOptions.get(sourceId);\n        return __assign({ anchorX: 0.5, anchorY: 0.5, captureDraggingState: false }, (sourcePreviewNodeOptions || {}));\n    };\n    HTML5Backend.prototype.isDraggingNativeItem = function () {\n        var itemType = this.monitor.getItemType();\n        return Object.keys(NativeTypes).some(function (key) { return NativeTypes[key] === itemType; });\n    };\n    HTML5Backend.prototype.beginDragNativeItem = function (type) {\n        this.clearCurrentDragSourceNode();\n        this.currentNativeSource = NativeDragSources_1.createNativeDragSource(type);\n        this.currentNativeHandle = this.registry.addSource(type, this.currentNativeSource);\n        this.actions.beginDrag([this.currentNativeHandle]);\n    };\n    HTML5Backend.prototype.setCurrentDragSourceNode = function (node) {\n        var _this = this;\n        this.clearCurrentDragSourceNode();\n        this.currentDragSourceNode = node;\n        // A timeout of > 0 is necessary to resolve Firefox issue referenced\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        var MOUSE_MOVE_TIMEOUT = 1000;\n        // Receiving a mouse event in the middle of a dragging operation\n        // means it has ended and the drag source node disappeared from DOM,\n        // so the browser didn't dispatch the dragend event.\n        //\n        // We need to wait before we start listening for mousemove events.\n        // This is needed because the drag preview needs to be drawn or else it fires an 'mousemove' event\n        // immediately in some browsers.\n        //\n        // See:\n        //   * https://github.com/react-dnd/react-dnd/pull/928\n        //   * https://github.com/react-dnd/react-dnd/issues/869\n        //\n        this.mouseMoveTimeoutTimer = setTimeout(function () {\n            return (_this.window &&\n                _this.window.addEventListener('mousemove', _this.endDragIfSourceWasRemovedFromDOM, true));\n        }, MOUSE_MOVE_TIMEOUT);\n    };\n    HTML5Backend.prototype.clearCurrentDragSourceNode = function () {\n        if (this.currentDragSourceNode) {\n            this.currentDragSourceNode = null;\n            if (this.window) {\n                this.window.clearTimeout(this.mouseMoveTimeoutTimer || undefined);\n                this.window.removeEventListener('mousemove', this.endDragIfSourceWasRemovedFromDOM, true);\n            }\n            this.mouseMoveTimeoutTimer = null;\n            return true;\n        }\n        return false;\n    };\n    HTML5Backend.prototype.handleDragStart = function (e, sourceId) {\n        if (!this.dragStartSourceIds) {\n            this.dragStartSourceIds = [];\n        }\n        this.dragStartSourceIds.unshift(sourceId);\n    };\n    HTML5Backend.prototype.handleDragEnter = function (e, targetId) {\n        this.dragEnterTargetIds.unshift(targetId);\n    };\n    HTML5Backend.prototype.handleDragOver = function (e, targetId) {\n        if (this.dragOverTargetIds === null) {\n            this.dragOverTargetIds = [];\n        }\n        this.dragOverTargetIds.unshift(targetId);\n    };\n    HTML5Backend.prototype.handleDrop = function (e, targetId) {\n        this.dropTargetIds.unshift(targetId);\n    };\n    return HTML5Backend;\n}());\nexports.default = HTML5Backend;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MonotonicInterpolant = /** @class */ (function () {\n    function MonotonicInterpolant(xs, ys) {\n        var length = xs.length;\n        // Rearrange xs and ys so that xs is sorted\n        var indexes = [];\n        for (var i = 0; i < length; i++) {\n            indexes.push(i);\n        }\n        indexes.sort(function (a, b) { return (xs[a] < xs[b] ? -1 : 1); });\n        // Get consecutive differences and slopes\n        var dys = [];\n        var dxs = [];\n        var ms = [];\n        var dx;\n        var dy;\n        for (var i = 0; i < length - 1; i++) {\n            dx = xs[i + 1] - xs[i];\n            dy = ys[i + 1] - ys[i];\n            dxs.push(dx);\n            dys.push(dy);\n            ms.push(dy / dx);\n        }\n        // Get degree-1 coefficients\n        var c1s = [ms[0]];\n        for (var i = 0; i < dxs.length - 1; i++) {\n            var m2 = ms[i];\n            var mNext = ms[i + 1];\n            if (m2 * mNext <= 0) {\n                c1s.push(0);\n            }\n            else {\n                dx = dxs[i];\n                var dxNext = dxs[i + 1];\n                var common = dx + dxNext;\n                c1s.push(3 * common / ((common + dxNext) / m2 + (common + dx) / mNext));\n            }\n        }\n        c1s.push(ms[ms.length - 1]);\n        // Get degree-2 and degree-3 coefficients\n        var c2s = [];\n        var c3s = [];\n        var m;\n        for (var i = 0; i < c1s.length - 1; i++) {\n            m = ms[i];\n            var c1 = c1s[i];\n            var invDx = 1 / dxs[i];\n            var common = c1 + c1s[i + 1] - m - m;\n            c2s.push((m - c1 - common) * invDx);\n            c3s.push(common * invDx * invDx);\n        }\n        this.xs = xs;\n        this.ys = ys;\n        this.c1s = c1s;\n        this.c2s = c2s;\n        this.c3s = c3s;\n    }\n    MonotonicInterpolant.prototype.interpolate = function (x) {\n        var _a = this, xs = _a.xs, ys = _a.ys, c1s = _a.c1s, c2s = _a.c2s, c3s = _a.c3s;\n        // The rightmost point in the dataset should give an exact result\n        var i = xs.length - 1;\n        if (x === xs[i]) {\n            return ys[i];\n        }\n        // Search for the interval x is in, returning the corresponding y if x is one of the original xs\n        var low = 0;\n        var high = c3s.length - 1;\n        var mid;\n        while (low <= high) {\n            mid = Math.floor(0.5 * (low + high));\n            var xHere = xs[mid];\n            if (xHere < x) {\n                low = mid + 1;\n            }\n            else if (xHere > x) {\n                high = mid - 1;\n            }\n            else {\n                return ys[mid];\n            }\n        }\n        i = Math.max(0, high);\n        // Interpolate\n        var diff = x - xs[i];\n        var diffSq = diff * diff;\n        return ys[i] + c1s[i] * diff + c2s[i] * diffSq + c3s[i] * diff * diffSq;\n    };\n    return MonotonicInterpolant;\n}());\nexports.default = MonotonicInterpolant;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar NativeDragSource = /** @class */ (function () {\n    function NativeDragSource(config) {\n        var _this = this;\n        this.config = config;\n        this.item = {};\n        Object.keys(this.config.exposeProperties).forEach(function (property) {\n            Object.defineProperty(_this.item, property, {\n                configurable: true,\n                enumerable: true,\n                get: function () {\n                    // tslint:disable-next-line no-console\n                    console.warn(\"Browser doesn't allow reading \\\"\" + property + \"\\\" until the drop event.\");\n                    return null;\n                },\n            });\n        });\n    }\n    NativeDragSource.prototype.mutateItemByReadingDataTransfer = function (dataTransfer) {\n        var _this = this;\n        var newProperties = {};\n        if (dataTransfer) {\n            Object.keys(this.config.exposeProperties).forEach(function (property) {\n                newProperties[property] = {\n                    value: _this.config.exposeProperties[property](dataTransfer, _this.config.matchesTypes),\n                };\n            });\n        }\n        Object.defineProperties(this.item, newProperties);\n    };\n    NativeDragSource.prototype.canDrag = function () {\n        return true;\n    };\n    NativeDragSource.prototype.beginDrag = function () {\n        return this.item;\n    };\n    NativeDragSource.prototype.isDragging = function (monitor, handle) {\n        return handle === monitor.getSourceId();\n    };\n    NativeDragSource.prototype.endDrag = function () {\n        // empty\n    };\n    return NativeDragSource;\n}());\nexports.NativeDragSource = NativeDragSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getDataFromDataTransfer(dataTransfer, typesToTry, defaultValue) {\n    var result = typesToTry.reduce(function (resultSoFar, typeToTry) { return resultSoFar || dataTransfer.getData(typeToTry); }, '');\n    return result != null ? result : defaultValue;\n}\nexports.getDataFromDataTransfer = getDataFromDataTransfer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nativeTypesConfig_1 = require(\"./nativeTypesConfig\");\nvar NativeDragSource_1 = require(\"./NativeDragSource\");\nfunction createNativeDragSource(type) {\n    return new NativeDragSource_1.NativeDragSource(nativeTypesConfig_1.nativeTypesConfig[type]);\n}\nexports.createNativeDragSource = createNativeDragSource;\nfunction matchNativeItemType(dataTransfer) {\n    if (!dataTransfer) {\n        return null;\n    }\n    var dataTransferTypes = Array.prototype.slice.call(dataTransfer.types || []);\n    return (Object.keys(nativeTypesConfig_1.nativeTypesConfig).filter(function (nativeItemType) {\n        var matchesTypes = nativeTypesConfig_1.nativeTypesConfig[nativeItemType].matchesTypes;\n        return matchesTypes.some(function (t) { return dataTransferTypes.indexOf(t) > -1; });\n    })[0] || null);\n}\nexports.matchNativeItemType = matchNativeItemType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar _a;\nvar NativeTypes = require(\"../NativeTypes\");\nvar getDataFromDataTransfer_1 = require(\"./getDataFromDataTransfer\");\nexports.nativeTypesConfig = (_a = {},\n    _a[NativeTypes.FILE] = {\n        exposeProperties: {\n            files: function (dataTransfer) {\n                return Array.prototype.slice.call(dataTransfer.files);\n            },\n            items: function (dataTransfer) { return dataTransfer.items; },\n        },\n        matchesTypes: ['Files'],\n    },\n    _a[NativeTypes.URL] = {\n        exposeProperties: {\n            urls: function (dataTransfer, matchesTypes) {\n                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '').split('\\n');\n            },\n        },\n        matchesTypes: ['Url', 'text/uri-list'],\n    },\n    _a[NativeTypes.TEXT] = {\n        exposeProperties: {\n            text: function (dataTransfer, matchesTypes) {\n                return getDataFromDataTransfer_1.getDataFromDataTransfer(dataTransfer, matchesTypes, '');\n            },\n        },\n        matchesTypes: ['Text', 'text/plain'],\n    },\n    _a);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FILE = '__NATIVE_FILE__';\nexports.URL = '__NATIVE_URL__';\nexports.TEXT = '__NATIVE_TEXT__';\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar BrowserDetector_1 = require(\"./BrowserDetector\");\nvar MonotonicInterpolant_1 = require(\"./MonotonicInterpolant\");\nvar ELEMENT_NODE = 1;\nfunction getNodeClientOffset(node) {\n    var el = node.nodeType === ELEMENT_NODE ? node : node.parentElement;\n    if (!el) {\n        return null;\n    }\n    var _a = el.getBoundingClientRect(), top = _a.top, left = _a.left;\n    return { x: left, y: top };\n}\nexports.getNodeClientOffset = getNodeClientOffset;\nfunction getEventClientOffset(e) {\n    return {\n        x: e.clientX,\n        y: e.clientY,\n    };\n}\nexports.getEventClientOffset = getEventClientOffset;\nfunction isImageNode(node) {\n    return (node.nodeName === 'IMG' &&\n        (BrowserDetector_1.isFirefox() || !document.documentElement.contains(node)));\n}\nfunction getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight) {\n    var dragPreviewWidth = isImage ? dragPreview.width : sourceWidth;\n    var dragPreviewHeight = isImage ? dragPreview.height : sourceHeight;\n    // Work around @2x coordinate discrepancies in browsers\n    if (BrowserDetector_1.isSafari() && isImage) {\n        dragPreviewHeight /= window.devicePixelRatio;\n        dragPreviewWidth /= window.devicePixelRatio;\n    }\n    return { dragPreviewWidth: dragPreviewWidth, dragPreviewHeight: dragPreviewHeight };\n}\nfunction getDragPreviewOffset(sourceNode, dragPreview, clientOffset, anchorPoint, offsetPoint) {\n    // The browsers will use the image intrinsic size under different conditions.\n    // Firefox only cares if it's an image, but WebKit also wants it to be detached.\n    var isImage = isImageNode(dragPreview);\n    var dragPreviewNode = isImage ? sourceNode : dragPreview;\n    var dragPreviewNodeOffsetFromClient = getNodeClientOffset(dragPreviewNode);\n    var offsetFromDragPreview = {\n        x: clientOffset.x - dragPreviewNodeOffsetFromClient.x,\n        y: clientOffset.y - dragPreviewNodeOffsetFromClient.y,\n    };\n    var sourceWidth = sourceNode.offsetWidth, sourceHeight = sourceNode.offsetHeight;\n    var anchorX = anchorPoint.anchorX, anchorY = anchorPoint.anchorY;\n    var _a = getDragPreviewSize(isImage, dragPreview, sourceWidth, sourceHeight), dragPreviewWidth = _a.dragPreviewWidth, dragPreviewHeight = _a.dragPreviewHeight;\n    var calculateYOffset = function () {\n        var interpolantY = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the top\n            offsetFromDragPreview.y,\n            // Align at the center\n            (offsetFromDragPreview.y / sourceHeight) * dragPreviewHeight,\n            // Dock to the bottom\n            offsetFromDragPreview.y + dragPreviewHeight - sourceHeight,\n        ]);\n        var y = interpolantY.interpolate(anchorY);\n        // Work around Safari 8 positioning bug\n        if (BrowserDetector_1.isSafari() && isImage) {\n            // We'll have to wait for @3x to see if this is entirely correct\n            y += (window.devicePixelRatio - 1) * dragPreviewHeight;\n        }\n        return y;\n    };\n    var calculateXOffset = function () {\n        // Interpolate coordinates depending on anchor point\n        // If you know a simpler way to do this, let me know\n        var interpolantX = new MonotonicInterpolant_1.default([0, 0.5, 1], [\n            // Dock to the left\n            offsetFromDragPreview.x,\n            // Align at the center\n            (offsetFromDragPreview.x / sourceWidth) * dragPreviewWidth,\n            // Dock to the right\n            offsetFromDragPreview.x + dragPreviewWidth - sourceWidth,\n        ]);\n        return interpolantX.interpolate(anchorX);\n    };\n    // Force offsets if specified in the options.\n    var offsetX = offsetPoint.offsetX, offsetY = offsetPoint.offsetY;\n    var isManualOffsetX = offsetX === 0 || offsetX;\n    var isManualOffsetY = offsetY === 0 || offsetY;\n    return {\n        x: isManualOffsetX ? offsetX : calculateXOffset(),\n        y: isManualOffsetY ? offsetY : calculateYOffset(),\n    };\n}\nexports.getDragPreviewOffset = getDragPreviewOffset;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar emptyImage;\nfunction getEmptyImage() {\n    if (!emptyImage) {\n        emptyImage = new Image();\n        emptyImage.src =\n            'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==';\n    }\n    return emptyImage;\n}\nexports.default = getEmptyImage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar HTML5Backend_1 = require(\"./HTML5Backend\");\nvar getEmptyImage_1 = require(\"./getEmptyImage\");\nexports.getEmptyImage = getEmptyImage_1.default;\nvar NativeTypes = require(\"./NativeTypes\");\nexports.NativeTypes = NativeTypes;\nfunction createHTML5Backend(manager) {\n    return new HTML5Backend_1.default(manager);\n}\nexports.default = createHTML5Backend;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction memoize(fn) {\n    var result = null;\n    var memoized = function () {\n        if (result == null) {\n            result = fn();\n        }\n        return result;\n    };\n    return memoized;\n}\nexports.memoize = memoize;\n/**\n * drop-in replacement for _.without\n */\nfunction without(items, item) {\n    return items.filter(function (i) { return i !== item; });\n}\nexports.without = without;\nfunction union(itemsA, itemsB) {\n    var set = new Set();\n    var insertItem = function (item) { return set.add(item); };\n    itemsA.forEach(insertItem);\n    itemsB.forEach(insertItem);\n    var result = [];\n    set.forEach(function (key) { return result.push(key); });\n    return result;\n}\nexports.union = union;\n","'use strict';\n\nexports.__esModule = true;\nexports.ActionTypes = undefined;\nexports['default'] = createStore;\n\nvar _isPlainObject = require('lodash/isPlainObject');\n\nvar _isPlainObject2 = _interopRequireDefault(_isPlainObject);\n\nvar _symbolObservable = require('symbol-observable');\n\nvar _symbolObservable2 = _interopRequireDefault(_symbolObservable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\n/**\n * These are private action types reserved by Redux.\n * For any unknown actions, you must return the current state.\n * If the current state is undefined, you must return the initial state.\n * Do not reference these action types directly in your code.\n */\nvar ActionTypes = exports.ActionTypes = {\n  INIT: '@@redux/INIT'\n\n  /**\n   * Creates a Redux store that holds the state tree.\n   * The only way to change the data in the store is to call `dispatch()` on it.\n   *\n   * There should only be a single store in your app. To specify how different\n   * parts of the state tree respond to actions, you may combine several reducers\n   * into a single reducer function by using `combineReducers`.\n   *\n   * @param {Function} reducer A function that returns the next state tree, given\n   * the current state tree and the action to handle.\n   *\n   * @param {any} [preloadedState] The initial state. You may optionally specify it\n   * to hydrate the state from the server in universal apps, or to restore a\n   * previously serialized user session.\n   * If you use `combineReducers` to produce the root reducer function, this must be\n   * an object with the same shape as `combineReducers` keys.\n   *\n   * @param {Function} [enhancer] The store enhancer. You may optionally specify it\n   * to enhance the store with third-party capabilities such as middleware,\n   * time travel, persistence, etc. The only store enhancer that ships with Redux\n   * is `applyMiddleware()`.\n   *\n   * @returns {Store} A Redux store that lets you read the state, dispatch actions\n   * and subscribe to changes.\n   */\n};function createStore(reducer, preloadedState, enhancer) {\n  var _ref2;\n\n  if (typeof preloadedState === 'function' && typeof enhancer === 'undefined') {\n    enhancer = preloadedState;\n    preloadedState = undefined;\n  }\n\n  if (typeof enhancer !== 'undefined') {\n    if (typeof enhancer !== 'function') {\n      throw new Error('Expected the enhancer to be a function.');\n    }\n\n    return enhancer(createStore)(reducer, preloadedState);\n  }\n\n  if (typeof reducer !== 'function') {\n    throw new Error('Expected the reducer to be a function.');\n  }\n\n  var currentReducer = reducer;\n  var currentState = preloadedState;\n  var currentListeners = [];\n  var nextListeners = currentListeners;\n  var isDispatching = false;\n\n  function ensureCanMutateNextListeners() {\n    if (nextListeners === currentListeners) {\n      nextListeners = currentListeners.slice();\n    }\n  }\n\n  /**\n   * Reads the state tree managed by the store.\n   *\n   * @returns {any} The current state tree of your application.\n   */\n  function getState() {\n    return currentState;\n  }\n\n  /**\n   * Adds a change listener. It will be called any time an action is dispatched,\n   * and some part of the state tree may potentially have changed. You may then\n   * call `getState()` to read the current state tree inside the callback.\n   *\n   * You may call `dispatch()` from a change listener, with the following\n   * caveats:\n   *\n   * 1. The subscriptions are snapshotted just before every `dispatch()` call.\n   * If you subscribe or unsubscribe while the listeners are being invoked, this\n   * will not have any effect on the `dispatch()` that is currently in progress.\n   * However, the next `dispatch()` call, whether nested or not, will use a more\n   * recent snapshot of the subscription list.\n   *\n   * 2. The listener should not expect to see all state changes, as the state\n   * might have been updated multiple times during a nested `dispatch()` before\n   * the listener is called. It is, however, guaranteed that all subscribers\n   * registered before the `dispatch()` started will be called with the latest\n   * state by the time it exits.\n   *\n   * @param {Function} listener A callback to be invoked on every dispatch.\n   * @returns {Function} A function to remove this change listener.\n   */\n  function subscribe(listener) {\n    if (typeof listener !== 'function') {\n      throw new Error('Expected listener to be a function.');\n    }\n\n    var isSubscribed = true;\n\n    ensureCanMutateNextListeners();\n    nextListeners.push(listener);\n\n    return function unsubscribe() {\n      if (!isSubscribed) {\n        return;\n      }\n\n      isSubscribed = false;\n\n      ensureCanMutateNextListeners();\n      var index = nextListeners.indexOf(listener);\n      nextListeners.splice(index, 1);\n    };\n  }\n\n  /**\n   * Dispatches an action. It is the only way to trigger a state change.\n   *\n   * The `reducer` function, used to create the store, will be called with the\n   * current state tree and the given `action`. Its return value will\n   * be considered the **next** state of the tree, and the change listeners\n   * will be notified.\n   *\n   * The base implementation only supports plain object actions. If you want to\n   * dispatch a Promise, an Observable, a thunk, or something else, you need to\n   * wrap your store creating function into the corresponding middleware. For\n   * example, see the documentation for the `redux-thunk` package. Even the\n   * middleware will eventually dispatch plain object actions using this method.\n   *\n   * @param {Object} action A plain object representing “what changed”. It is\n   * a good idea to keep actions serializable so you can record and replay user\n   * sessions, or use the time travelling `redux-devtools`. An action must have\n   * a `type` property which may not be `undefined`. It is a good idea to use\n   * string constants for action types.\n   *\n   * @returns {Object} For convenience, the same action object you dispatched.\n   *\n   * Note that, if you use a custom middleware, it may wrap `dispatch()` to\n   * return something else (for example, a Promise you can await).\n   */\n  function dispatch(action) {\n    if (!(0, _isPlainObject2['default'])(action)) {\n      throw new Error('Actions must be plain objects. ' + 'Use custom middleware for async actions.');\n    }\n\n    if (typeof action.type === 'undefined') {\n      throw new Error('Actions may not have an undefined \"type\" property. ' + 'Have you misspelled a constant?');\n    }\n\n    if (isDispatching) {\n      throw new Error('Reducers may not dispatch actions.');\n    }\n\n    try {\n      isDispatching = true;\n      currentState = currentReducer(currentState, action);\n    } finally {\n      isDispatching = false;\n    }\n\n    var listeners = currentListeners = nextListeners;\n    for (var i = 0; i < listeners.length; i++) {\n      var listener = listeners[i];\n      listener();\n    }\n\n    return action;\n  }\n\n  /**\n   * Replaces the reducer currently used by the store to calculate the state.\n   *\n   * You might need this if your app implements code splitting and you want to\n   * load some of the reducers dynamically. You might also need this if you\n   * implement a hot reloading mechanism for Redux.\n   *\n   * @param {Function} nextReducer The reducer for the store to use instead.\n   * @returns {void}\n   */\n  function replaceReducer(nextReducer) {\n    if (typeof nextReducer !== 'function') {\n      throw new Error('Expected the nextReducer to be a function.');\n    }\n\n    currentReducer = nextReducer;\n    dispatch({ type: ActionTypes.INIT });\n  }\n\n  /**\n   * Interoperability point for observable/reactive libraries.\n   * @returns {observable} A minimal observable of state changes.\n   * For more information, see the observable proposal:\n   * https://github.com/tc39/proposal-observable\n   */\n  function observable() {\n    var _ref;\n\n    var outerSubscribe = subscribe;\n    return _ref = {\n      /**\n       * The minimal observable subscription method.\n       * @param {Object} observer Any object that can be used as an observer.\n       * The observer object should have a `next` method.\n       * @returns {subscription} An object with an `unsubscribe` method that can\n       * be used to unsubscribe the observable from the store, and prevent further\n       * emission of values from the observable.\n       */\n      subscribe: function subscribe(observer) {\n        if (typeof observer !== 'object') {\n          throw new TypeError('Expected the observer to be an object.');\n        }\n\n        function observeState() {\n          if (observer.next) {\n            observer.next(getState());\n          }\n        }\n\n        observeState();\n        var unsubscribe = outerSubscribe(observeState);\n        return { unsubscribe: unsubscribe };\n      }\n    }, _ref[_symbolObservable2['default']] = function () {\n      return this;\n    }, _ref;\n  }\n\n  // When a store is created, an \"INIT\" action is dispatched so that every\n  // reducer returns their initial state. This effectively populates\n  // the initial state tree.\n  dispatch({ type: ActionTypes.INIT });\n\n  return _ref2 = {\n    dispatch: dispatch,\n    subscribe: subscribe,\n    getState: getState,\n    replaceReducer: replaceReducer\n  }, _ref2[_symbolObservable2['default']] = observable, _ref2;\n}","/* global window */\nimport ponyfill from './ponyfill.js';\n\nvar root;\n\nif (typeof self !== 'undefined') {\n  root = self;\n} else if (typeof window !== 'undefined') {\n  root = window;\n} else if (typeof global !== 'undefined') {\n  root = global;\n} else if (typeof module !== 'undefined') {\n  root = module;\n} else {\n  root = Function('return this')();\n}\n\nvar result = ponyfill(root);\nexport default result;\n","export default function symbolObservablePonyfill(root) {\n\tvar result;\n\tvar Symbol = root.Symbol;\n\n\tif (typeof Symbol === 'function') {\n\t\tif (Symbol.observable) {\n\t\t\tresult = Symbol.observable;\n\t\t} else {\n\t\t\tresult = Symbol('observable');\n\t\t\tSymbol.observable = result;\n\t\t}\n\t} else {\n\t\tresult = '@@observable';\n\t}\n\n\treturn result;\n};\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","module.exports = function(originalModule) {\n\tif (!originalModule.webpackPolyfill) {\n\t\tvar module = Object.create(originalModule);\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"exports\", {\n\t\t\tenumerable: true\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import { h, render, Component } from 'preact';\nimport miniToastr from 'mini-toastr';\nimport { pins } from './lib/pins';\nimport { Menu } from './components/menu';\nimport { Page } from './components/page';\nimport { loadConfig } from './lib/config';\nimport { settings } from './lib/settings';\nimport { loader } from './lib/loader';\nimport { loadPlugins, firePageLoad } from './lib/plugins';\nimport { menu } from './lib/menu';\n\nminiToastr.init({})\n\nconst clearSlashes = path => {\n    return path.toString().replace(/\\/$/, '').replace(/^\\//, '');\n};\n\nconst getFragment = () => {\n    const match = window.location.href.match(/#(.*)$/);\n    const fragment = match ? match[1] : '';\n    return clearSlashes(fragment);\n};\n\nclass App extends Component {\n    constructor() {\n        super();\n        this.state = {\n            menuActive: false,\n            menu: menu.menus[0],\n            page:  menu.menus[0],\n            changed: false,\n        }\n\n        this.menuToggle = () => {\n            this.setState({ menuActive: !this.state.menuActive });\n        }\n    }\n\n    getBreadcrumbs(page) {\n        if (!page) return (null);\n\n        return (<li><a href={`#${page.href}`}>{page.pagetitle == null ? page.title : page.pagetitle}</a></li>)\n    }\n\n    render(props, state) {\n        \n        const params = getFragment().split('/').slice(2);\n        const active = this.state.menuActive ? 'active' : '';\n        return (\n            <div id=\"layout1\" class={active}>\n                <nav class=\"navbar is-link is-fixed-top\" role=\"navigation\" aria-label=\"main navigation\">\n                    <div class=\"navbar-brand\" style=\"width: 250px;\">\n                        <a class=\"navbar-item\" href=\"https://bulma.io\">\n                            <b>SH</b>TECH-<b>R</b>\n                        </a>\n                        <div class=\"navbar-burger burger\" data-target=\"navbarExampleTransparentExample\">\n                        <span></span>\n                        <span></span>\n                        <span></span>\n                        </div>\n                    </div>\n                    <div id=\"navbarBasicExample\" class=\"navbar-menu\">\n                        <div class=\"navbar-start\">\n                            <nav class=\"breadcrumb has-succeeds-separator navbar-item\" aria-label=\"breadcrumbs\">\n                                >&nbsp; <ul>\n                                    {this.getBreadcrumbs(state.page.parent)}\n                                    {this.getBreadcrumbs(state.page)}\n                                </ul>\n                            </nav>\n                        </div>\n                        <div class=\"navbar-end\">\n                        { state.changed ? (\n                            <a class=\"navbar-item\" href=\"#tools/diff\">CHANGED! Click here to SAVE</a>\n                        ) : (null) }\n                        </div>\n                    </div>\n                </nav>\n                \n                <section style=\"display: flex; margin-top: 52px;\">\n                    <div style=\"flex: 0 0 250px\">\n                        <Menu menus={menu.menus} selected={state.menu} />\n                    </div>\n                    <div style=\"flex: 1\">\n                    <Page page={state.page} params={params} changed={this.state.changed} />\n                    </div>\n                </section>\n                \n\n            </div>\n        );\n    }\n\n    componentDidUpdate() {\n        this.onPageLoad();\n    }\n\n    componentDidMount() {\n        loader.hide();\n\n        let current = '';\n        const fn = () => {\n            const newFragment = getFragment();\n            const diff = settings.diff();\n            const editorDiff = settings.editor.diff();\n            if(this.state.changed !== (!!diff.length || !!editorDiff.length)) {\n                this.setState({changed: !this.state.changed})\n            }\n            if(current !== newFragment) {\n                current = newFragment;\n                const parts = current.split('/');\n                const m = menu.menus.find(menu => menu.href === parts[0]);\n                const page = parts.length > 1 ? menu.routes.find(route => route.href === `${parts[0]}/${parts[1]}`) : m;\n                if (page) {\n                    this.setState({ page, menu: m, menuActive: false });\n                }\n            }\n        }\n        this.interval = setInterval(fn, 100);\n\n        this.onPageLoad();\n    }\n\n    onPageLoad() {\n        window.requestAnimationFrame(() => {\n            firePageLoad(); \n        });\n    }\n\n    componentWillUnmount() {}\n}\n\nconst load = async () => {\n    await loadConfig();\n    await loadPlugins();\n    render(<App />, document.body);\n}\n\nload();\n\nconsole.log(document.location);","import { h, Component } from 'preact';\nimport { get, set, getKeys } from '../../lib/helpers';\nimport { settings } from '../../lib/settings';\n\nconst longToByteArray = function(/*long*/long) {\n    // we want to represent the input as a 8-bytes array\n    var byteArray = [0, 0, 0, 0, 0, 0, 0, 0];\n\n    for ( var index = 0; index < byteArray.length; index ++ ) {\n        var byte = long & 0xff;\n        byteArray [ index ] = byte;\n        long = (long - byte) / 256 ;\n    }\n\n    return byteArray;\n};\n\nconst byteArrayToLong = function(/*byte[]*/byteArray) {\n    var value = 0;\n    for ( var i = byteArray.length - 1; i >= 0; i--) {\n        value = (value * 256) + byteArray[i];\n    }\n\n    return value;\n};\n\nexport class Form extends Component {\n    constructor(props) {\n        super(props);\n\n        this.setProp = (prop, val) => {\n            if (prop.startsWith('ROOT')) {\n                settings.set(prop.replace('ROOT.', ''), val);\n            } else {\n                set(this.props.selected, prop, val);\n            }\n        }\n\n        this.getProp = (prop) => {\n            let currentValue;\n            if (prop.startsWith('ROOT')) {\n                currentValue = settings.get(prop.replace('ROOT.', ''));\n            } else {\n                currentValue = get(this.props.selected, prop);\n            }\n            return currentValue;\n        }\n        this.onChange = (id, prop, config = {}) => {\n            return (e) => {\n                let val = this.form.elements[id].value;\n                if (config.type === 'checkbox') {\n                    val =  this.form.elements[id].checked ? 1 : 0;\n                } else if (config.type === 'number') {\n                    val = parseFloat(val);\n                } else if (config.type === 'select' || config.type === 'gpio') {\n                    val = isNaN(val) ? val : parseInt(val);\n                } else if (config.type === 'ip') {\n                    const part = parseInt(id.split('.').pop());\n                    const arr = longToByteArray(this.getProp(prop));\n                    arr[part] = val;\n                    val = byteArrayToLong(arr); \n                }\n                this.setProp(prop, val);\n                if (config.onChange) {\n                    config.onChange(e, this, id, prop, val, config);\n                }\n\n                this.forceUpdate();\n            }\n        }\n    }\n\n    renderConfig(id, config, value, varName) {\n        let options;\n        switch (config.type) {\n            case 'string':\n                return (\n                    <input class=\"input\" id={id} type=\"text\" value={value} onChange={this.onChange(id, varName, config)} {...config.extra}/>\n                );\n            case 'number':\n                return (\n                    <input id={id} type=\"number\" value={value} step={config.step} min={config.min} max={config.max} onChange={this.onChange(id, varName, config)}/>\n                ) ;\n            case 'ip':\n                const ip = value ? longToByteArray(value): [0,0,0,0];\n                return [\n                    (<input id={`${id}.0`} type=\"number\" min=\"0\" max=\"255\" onChange={this.onChange(`${id}.0`, varName, config)} style=\"width: 80px\" value={ip ? ip[0] : 0} />),\n                    (<input id={`${id}.1`} type=\"number\" min=\"0\" max=\"255\" onChange={this.onChange(`${id}.1`, varName, config)} style=\"width: 80px\" value={ip ? ip[1] : 0} />),\n                    (<input id={`${id}.2`} type=\"number\" min=\"0\" max=\"255\" onChange={this.onChange(`${id}.2`, varName, config)} style=\"width: 80px\" value={ip ? ip[2] : 0} />),\n                    (<input id={`${id}.3`} type=\"number\" min=\"0\" max=\"255\" onChange={this.onChange(`${id}.3`, varName, config)} style=\"width: 80px\" value={ip ? ip[3] : 0} />)\n                ]\n            case 'password':\n                return (\n                    <input id={id} type=\"password\" onChange={this.onChange(id, varName, config)} />\n                ) ;\n            case 'checkbox':\n                return (\n                    <input id={id} type=\"checkbox\" defaultChecked={value} onChange={this.onChange(id, varName, config)} />\n                ) ;\n            case 'select':\n                options = (typeof config.options === 'function') ? config.options(this.props.selected) : config.options;\n                return (\n                    <div class=\"select\"><select id={id} value={value} onChange={this.onChange(id, varName, config )}>\n                        {options.map(option => {\n                            const name = option instanceof Object ? option.name : option;\n                            const val = option instanceof Object ? option.value : option;\n                            return (<option value={val} disabled={option.disabled ? true : null}>{name}{option.disabled ? ` [${option.disabled}]` : ''}</option>);\n                        })}\n                    </select></div>\n                ) ;\n            case 'gpio':\n                options = config.pins || window.pins();\n                if (typeof(options) == 'function') options = options();\n                const selectPin = (val, name, form) => {\n                    const selectedPin = options.find(pin => pin.value == val);\n                    if (form.props.config.groups[name]) {\n                        form.props.config.groups[name].configs = { ...selectedPin.configs }\n                        form.forceUpdate();\n                    }\n                }\n                return (\n                    <div class=\"select\"><select id={id} onChange={this.onChange(id, varName, { ...config, onChange: (e, form, id, prop, val, config) => {\n                        selectPin(val, config.name.toLowerCase(), form);\n                    }})}>\n                        {options.map(option => {\n                            const name = option instanceof Object ? option.name : option;\n                            const val = option instanceof Object ? option.value : option;\n                            if (val === value) {\n                                return (<option value={val} selected>{name}</option>)\n                            } else {\n                                return (<option value={val} disabled={option.disabled ? true : null}>{name}{option.disabled ? ` [${option.disabled}]` : ''}</option>);\n                            }\n                        })}\n                    </select></div>\n                )\n            case 'file':\n                return (\n                    <input id={id} type=\"file\" />\n                )\n            case 'button':\n                const clickEvent = () => {\n                    if (!config.click) return;\n                    config.click(this.props.selected, this, config);\n                }\n                return (\n                    <button type=\"button\" onClick={clickEvent}>{config.value}</button>\n                );\n        }\n    }\n\n    renderConfigGroup(id, configs, values) {\n        const configArray = Array.isArray(configs) ? configs : [configs];\n        const classes = `field is-grouped is-horizontal ${configArray.length === 3 ? 'group-3': ''}`\n\n        return (\n            <div className={classes}>\n                {configArray.map((conf, i) => {\n                    const varId = configArray.length > 1 ? `${id}.${i}` : id;\n                    const varName = conf.var ? conf.var : varId;\n                    const val = varName.startsWith('ROOT') ? settings.get(varName.replace('ROOT.', '')) : get(values, varName, null);\n\n                    if (conf.if) {\n                        let val;\n                        if (typeof conf.if === 'function') {\n                            if (!conf.if(values)) return (null);\n                        }\n                        else {\n                            if (conf.if.startsWith('ROOT')) {\n                                val = settings.get(conf.if.replace('ROOT.', ''));\n                            } else {\n                                val = get(this.props.selected, conf.if, false);\n                            }\n                            if (conf.ifval === undefined && !val) {\n                                return (null);\n                            }\n                            if (conf.ifval != val) return (null);\n                        }\n                    }\n                    if (conf.type === 'custom') {\n                        const CustomComponent = conf.component;\n                        return (<CustomComponent conf={conf} values={values} />);\n                    }\n\n                    const name = typeof conf.name === 'function' ? conf.name(values) : conf.name;\n                    return [\n                        (<div class=\"field-label\"><label for={varId} class=\"label\">{name} {conf.help ? (<span class='fa fa-info-circle'></span>) : ''}</label></div>),\n                        (<div class=\"field-body\"><div class=\"control is-expanded\">{this.renderConfig(varId, conf, val, varName)}</div></div>),\n                    ];\n                })}\n            </div>\n        )\n    }\n\n    renderGroup(id, group, values) {\n        if (!group.configs || !Object.keys(group.configs).length) return (null);\n        const keys = getKeys(group.configs);\n        return (\n            <fieldset name={id}>\n                <label>{group.name} {group.help ? (<span class='tooltip fa fa-info-circle'><tooltip>{group.help}</tooltip></span>) : ''}</label>\n                {keys.map(key => {\n                    const conf = group.configs[key];\n                    if (conf.adminOnly && settings.userName !== 'admin') return (null);\n                    return this.renderConfigGroup(`${id}.${key}`, conf, values);\n                })}\n            </fieldset>\n        )\n    }\n\n    render(props) {\n        const keys = getKeys(props.config.groups);\n        return (<form class=\"pure-form pure-form-aligned\" ref={ref => this.form = ref}>\n            {keys.map(key => this.renderGroup(key, props.config.groups[key], props.selected))}\n        </form>)\n    }\n}","import { h, Component } from 'preact';\nimport { settings } from '../../lib/settings';\n\nexport class Menu extends Component {\n    renderMenuChildren(menu) {\n        if (!menu.children.length) return (null);\n        return (<ul>{[...menu.children.map(child => {\n            if (child.action) {\n                return (\n                <li>\n                    <a href={`#${child.href}`} onClick={child.action}>{child.title}</a>\n                </li>  \n                )\n            }\n            return (<li>\n                <a href={`#${child.href}`}>{child.title}</a>\n            </li>);\n        })]}</ul>);\n    }\n    renderMenuItem(menu) {\n        if (menu.adminOnly && settings.userName !== 'admin') return (null);\n        if (menu.action) {\n            return (\n            <li>\n                <a href={`#${menu.href}`} onClick={menu.action}>{menu.title}</a>\n            </li>  \n            )\n        }\n        if (menu.href === this.props.selected.href) {\n            return [\n                (<li>\n                    <a href={`#${menu.href}`} class=\"is-active\">{menu.title}</a>\n                    {this.renderMenuChildren(menu)}\n                </li>),\n            ]\n        }\n        return (<li class=\"pure-menu-item\">\n            <a href={`#${menu.href}`} class=\"pure-menu-link\">{menu.title}</a>\n        </li>);\n    }\n\n    render(props) {\n        if (props.open === false) return;\n    \n        return (\n        <aside class=\"menu\">\n            <ul class=\"menu-list\">\n                {props.menus.map(menu => (this.renderMenuItem(menu)))}\n            </ul>\n        </aside>\n        );\n    }\n}","import { h, Component } from 'preact';\n\nexport class Page extends Component {\n    render(props) {\n        const PageComponent = props.page.component;\n\n        return (\n        <div id=\"main\">\n\n            <div class={`content ${props.page.class}`}>\n                <PageComponent params={props.params} />\n            </div>\n        </div>\n        );\n    }\n}","import {Device} from './_defs';\n\nconst i2cAddr = \n    [...new Array(64)].map((x, i) => {\n        return { name: `0x${(i+64).toString(16)}`, value: i+64 };\n    })\n;\n\nclass PCA9685 extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Sensor',\n                configs: {\n                addr: { name: 'Address', type: 'select', options: i2cAddr },\n                freq: { name: 'Frequency', type: 'number', min: 24, max: 1526 },\n            }\n        };\n    }\n\n    defaults = () => ({\n        'params.addr': 56,\n        'params.freq': 500,\n    });\n\n    getDevicePins = (conf) => {\n       return [...new Array(16)].map((x,i) => ({\n           name: `${conf.name} GPIO${i}`,\n           value: i,\n           capabilities: ['analog_out', 'digital_out'],\n       }));\n    };\n}\n\nexport const pca9685 = new PCA9685();","import {Device} from './_defs';\n\nconst mqttTypes = [\n    { name: 'OpenHAB', value: 0 },\n    { name: 'Domoticz', value: 1 },\n    { name: 'PIDome', value: 2 },\n    { name: 'Home Assistant', value: 3 },\n]\n\nclass MQTT extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Config',\n            configs: {\n                uri: { name: 'URI', type: 'string' },\n                type: { name: 'Type', type: 'select', options: mqttTypes, onChange: (e, form, id, prop, val, config) => {\n                    switch (val) {\n                        case 0: // Open HAB\n                            form.setProp('params.subscribe_topic', '/%sysname%/#');\n                            form.setProp('params.subscribe_data', '{ \"val\": %d }');\n                            form.setProp('params.publish_topic', '/%sysname%/%tskname%/%valname%');\n                            form.setProp('params.pubish_data', '{ \"idx\": %idx%, \"nvalue\": 0, \"svalue\": %value% }');\n                            break;\n                        case 1: // Domoticz\n                            form.setProp('params.subscribe_topic', 'domoticz/out');\n                            form.setProp('params.subscribe_data', '{ \"idx\": %idx%, \"nvalue\": 0, \"svalue\": %value% }');\n                            form.setProp('params.publish_topic', 'domoticz/in');\n                            form.setProp('params.pubish_data', '{ \"idx\": %idx%, \"nvalue\": 0, \"svalue\": %value% }');\n                            break;\n                        case 2: // PiDome\n                            break;\n                        case 3: // Home Assistant\n                            form.setProp('params.subscribe_topic', 'homeassistant/%unit_id%/%device_name%/%value_name%');\n                            form.setProp('params.subscribe_data', '%value%');\n                            form.setProp('params.publish_topic', 'homeassistant/%unit_id%/%device_name%/%value_name%/status');\n                            form.setProp('params.pubish_data', '%value%');\n                            form.setProp('params.value_field', 'value');\n                            form.setProp('params.device_as_id', 1);\n                            form.setProp('params.value_as_id', 1);\n                            break;\n                    }\n                } },\n                user: { name: 'Username', type: 'string' },\n                pass: { name: 'Password', type: 'string' },\n                lwt_topic: { name: 'LWT Topic', type: 'string' },\n                lwt_msg: { name: 'LWT Message', type: 'string' },\n                subscribe_topic: { name: 'Subscribe Topic', type: 'string', onChange: (e, form, id, prop, val, config) => {\n                    if (val.includes('%device_id%')) {\n                        form.props.config.groups.params.configs.subscribe_data_device_id.if = true;\n                        form.setProp('params.device_as_id', 0);\n                        form.forceUpdate();\n                    }\n                    if (val.includes('%device_name%')) {\n                        form.setProp('params.device_as_id', 1);\n                        form.props.config.groups.params.configs.subscribe_data_device_id.if = true;\n                        form.forceUpdate();\n                    }\n                    if (val.includes('%value_id%')) {\n                        form.setProp('params.value_as_id', 0);\n                        form.props.config.groups.params.configs.subscribe_data_value_id.if = true;\n                        form.forceUpdate();\n                    }\n                    if (val.includes('%value_name%')) {\n                        form.setProp('params.value_as_id', 1);\n                        form.props.config.groups.params.configs.subscribe_data_value_id.if = true;\n                        form.forceUpdate();\n                    }\n                    if (val.includes('%value%')) {\n                        form.props.config.groups.params.configs.subscribe_data_value.if = true;\n                        form.forceUpdate();\n                    }\n                } },\n                device_as_id: { name: 'Device Identifier', type: 'select', options: [{ name: 'id', value: 0 }, { name: 'name', value: 1 }]},\n                subscribe_data_device_id: { name: 'Device Identifier Field', type: 'string' },\n                value_as_id: { name: 'Value Identifier', type: 'select', options: [{ name: 'id', value: 0 }, { name: 'name', value: 1 }]},\n                subscribe_data_value_id: { name: 'Value Identifier Field', type: 'string' },\n                subscribe_data_value: { name: 'Value Field', type: 'string' },\n                publish_topic: { name: 'Publish Topic', type: 'string' },\n                publish_data: { name: 'Publish Data', type: 'string' },\n                ad_topic: { name: 'AutoDiscover Topic', type: 'string' },\n                ad_data: { name: 'AutoDiscover Data', type: 'string' },\n            }\n        };\n    }\n\n    defaults = () => ({\n        'params.uri': 'mqtt://iot.eclipse.org',\n        'params.type': 0\n    });\n}\n\nexport const mqtt = new MQTT();","import { Device } from './_defs';\n\nclass RotaryEncoder extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                gpio1: { name: 'GPIO1', type: 'gpio' },\n                gpio2: { name: 'GPIO2', type: 'gpio' },\n                invert: { name: 'Invert', type: 'checkbox' },\n                interval: { name: 'Interval', type: 'number' },\n            }\n        };\n\n        this.gpio1 = {\n            name: 'GPIO1 Settings (global)',\n            configs: {}\n        };\n\n        this.gpio2 = {\n            name: 'GPIO2 Settings (global)',\n            configs: {}\n        };\n\n        this.vals = 1;\n    }\n\n    defaults = () => {\n        return {\n            'params.gpio1': 255,\n            'params.gpio2': 255,\n            'params.invert': false,\n            interval: 60,\n            'state.values[0].name': 'State',\n            'state.values[0].type': '2',\n        }\n    }\n}\n\nexport const rotaryEncoder = new RotaryEncoder();","import {Device} from './_defs';\n\nclass HTTP extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Config',\n            configs: {\n                uri: { name: 'URI', type: 'string' },\n                method: { name: 'Method', type: 'select', options: [\n                    { name: 'GET', value: 0 },\n                    { name: 'POST', value: 1 },\n                ]},\n                data: { name: 'Data', type: 'string' },\n            }\n        };\n    }\n\n    defaults = () => ({\n        'params.uri': 'http://iot.eclipse.org/%device_name%/%value_name%/%value%',\n        'params.type': 0,\n        'params.data': '',\n    });\n}\n\nexport const http = new HTTP();","import {Device} from './_defs';\n\nconst valueTypes = [\n    { name: 'Bit', value: 4 },\n    { name: 'Byte', value: 0 },\n    { name: 'Integer', value: 1 },\n    { name: 'Decimal', value: 2 },\n    { name: 'String', value: 3 },\n]\n\nclass Dummy extends Device {\n    constructor() {\n        super();\n        this.vals = 0;\n    }\n\n    getConfigProps = (vals) => {\n        const result = {};\n        vals.forEach((val, i) => {\n            if (!val) return;\n            result['config_' + i] = [\n                { name: `Var ${i} name`, type: 'string', var: `params.values[${i}].name` },\n                { name: 'Type', type: 'select', options: valueTypes, var: `params.values[${i}].type` },\n                { name: 'String', if: `params.values[${i}].type`, ifval:3, type: 'string', var: `params.values[${i}].val` },\n                { name: 'Decimal', if: `params.values[${i}].type`, ifval:2, type: 'number', step:.01, var: `params.values[${i}].val` },\n                { name: 'Byte', if: `params.values[${i}].type`, ifval:0, type: 'number', min: 0, max: 255, var: `params.values[${i}].val` },\n                { name: 'Bit', if: `params.values[${i}].type`, ifval:4, type: 'checkbox', var: `params.values[${i}].val` },\n                { name: 'Int', if: `params.values[${i}].type`, ifval:1, type: 'number', min: 0, max: 65535, var: `params.values[${i}].val` },\n                { type: 'button', value: 'X', click: (event, form) => {\n                    const conf = form.props.selected;\n                    conf.params.values[i] = null;\n                    form.props.config.groups.params = this.getFields(conf).params;\n                    form.forceUpdate();\n                }}\n            ];\n        });\n        return result;\n    }\n\n    getValueProps = (vals) => {\n        const result = {};\n        vals.forEach((val, i) => {\n            if (!val) return;\n            result['value_' + i] = [\n                { name: `Var ${i} name`, type: 'string', var: `state.values[${i}].name` },\n                { name: 'Type', type: 'select', options: valueTypes, var: `state.values[${i}].type` },\n                { type: 'button', value: 'X', click: (event, form) => {\n                    const conf = form.props.selected;\n                    conf.state.values[i] = null;\n                    form.props.config.groups.params = this.getFields(conf).params;\n                    form.forceUpdate();\n                }}\n            ];\n        });\n        return result;\n    }\n\n    getFields = (conf) => {\n        const values = conf.state ? conf.state.values || [] : [];\n        const configs = conf.params ? conf.params.values || [] : [];\n        return {\n            params: {\n                name: 'Config',\n                configs: {\n                    ...this.getConfigProps(configs),\n                    add_config: { value: 'Add Config', type: 'button', click: (event, form) => {\n                        const empty = conf.params.values.findIndex(e => e === null);\n                        const defaultVarConf = { name: 'Dummy', type: 0, value: 0 };\n                        if (empty !== -1) conf.params.values[empty] = defaultVarConf;\n                        else conf.params.values.push(defaultVarConf);\n                        form.props.config.groups.params = this.getFields(conf).params;\n                        form.forceUpdate();\n                    }},\n                    ...this.getValueProps(values),\n                    add_state: { value: 'Add State', type: 'button', click: (event, form) => {\n                        const empty = conf.state.values.findIndex(e => e === null);\n                        const defaultVarConf = { name: 'Dummy', type: 0, value: 0 };\n                        if (empty !== -1) conf.state.values[empty] = defaultVarConf;\n                        else conf.state.values.push(defaultVarConf);\n                        form.props.config.groups.params = this.getFields(conf).params;\n                        form.forceUpdate();\n                    }}\n                }\n            }\n        }\n    }\n\n    defaults = () => ({\n        'params.values[0].name': 'Dummy',\n        'params.values[0].type': 0,\n        'params.values[0].value': 0,\n        'state.values[0].name': 'Dummy',\n        'state.values[0].type': 0,\n        'state.values[0].value': 0,\n    });\n}\n\nexport const dummy = new Dummy();","import {Device} from './_defs';\n\nclass Dimmer extends Device {\n    constructor() {\n        super();\n        this.vals = 0;\n    }\n\n    getValueProps = (vals) => {\n        const result = {};\n        vals.forEach((val, i) => {\n            if (!val) return;\n            result['output_' + i] = [\n                { name: `Output ${i}`, type: 'gpio', var: `params.outputs[${i}]` },\n                { type: 'button', value: 'X', click: (event, form) => {\n                    const conf = form.props.selected;\n                    conf.params.outputs.splice(i, 1);\n                    conf.state.values.splice(i, 1);\n                    this.vals--;\n                    form.props.config.groups.params = this.getFields(conf).params;\n                    form.forceUpdate();\n                }}\n            ];\n        });\n        return result;\n    }\n\n    getFields = (conf) => {\n        const outputs = conf.params ? conf.params.outputs || [] : [];\n        return {\n            params: {\n                name: 'Config',\n                configs: {\n                    gpio_zc: { name: 'GPIO ZC', type: 'gpio' },\n                    ...this.getValueProps(outputs),\n                    add: { value: 'Add Output', type: 'button', click: (event, form) => {\n                        conf.params.outputs.push(255);\n                        conf.state.values.push({ name: `SW${conf.state.values.length + 1}`})\n                        form.props.config.groups.params = this.getFields(conf).params;\n                        this.vals++;\n                        form.forceUpdate();\n                    }}\n                }\n            }\n        }\n    }\n\n    defaults = () => ({\n        'params.outputs[0]': 255,\n        'params.gpio_zc': 255,\n        'state.values[0].name': 'SW1',\n        'state.values[1].name': 'SW2',\n    });\n}\n\nexport const dimmer = new Dimmer();","import {Device} from './_defs';\n\nclass UdpServer extends Device {\n    constructor() {\n        super();\n        this.vals = 0;\n    }\n\n    getValueProps = (vals) => {\n        const result = {};\n        vals.forEach((val, i) => {\n            if (!val) return;\n            result['output_' + i] = [\n                { name: `Var ${i}`, type: 'select', options: [{ name: 'Byte', value: 1 }, { name: 'Int16', value: 2 }], var: `params.packet[${i}]` },\n                { name: 'Name', type: 'string', var: `state.values[${i}].name` }, \n                { type: 'button', value: 'X', click: (event, form) => {\n                    const conf = form.props.selected;\n                    conf.params.packet.splice(i, 1);\n                    conf.state.values.splice(i, 1);\n                    this.vals--;\n                    const { params, packet } = this.getFields(conf);\n                    form.props.config.groups.params = params;\n                    form.props.config.groups.packet = packet;\n\n                    form.forceUpdate();\n                }}\n            ];\n        });\n        return result;\n    }\n\n    getFields = (conf) => {\n        const packet = conf.params ? conf.params.packet || [] : [];\n        return {\n            params: {\n                name: 'Config',\n                configs: {\n                    port: { name: 'Port', type: 'number' },\n                }\n            },\n            packet: {\n                name: 'Packet',\n                configs: {\n                    ...this.getValueProps(packet),\n                    add: { value: 'Add Variable', type: 'button', click: (event, form) => {\n                        conf.params.packet.push(1);\n                        conf.state.values.push({ name: `Var${conf.state.values.length + 1}`})\n                        const { params, packet } = this.getFields(conf);\n                        form.props.config.groups.params = params;\n                        form.props.config.groups.packet = packet;\n                        this.vals++;\n                        form.forceUpdate();\n                    }}\n                }\n            }\n        }\n    }\n\n    defaults = () => ({\n        'params.packet[0]': 1,\n        'params.port': 5000,\n        'state.values[0].name': 'Var1',\n    });\n}\n\nexport const udp_server = new UdpServer();","import { Device } from './_defs';\n\nclass DigitalInput extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                gpio: { name: 'GPIO', type: 'gpio' },\n                invert: { name: 'Invert', type: 'checkbox' },\n                interval: { name: 'Interval', type: 'number' },\n            }\n        };\n\n        this.gpio = {\n            name: 'GPIO Settings (global)',\n            configs: {}\n        };\n\n        this.vals = 1;\n    }\n\n    defaults = () => {\n        return {\n            'params.gpio': 255,\n            'params.invert': false,\n            interval: 60,\n\n            'state.values[0].name': 'Switch',\n            'state.values[0].type': '0',\n        }\n    }\n}\n\nexport const digital_input = new DigitalInput();","import { Device } from './_defs';\n\nclass PWMOutput extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                gpio: { name: 'GPIO', type: 'gpio', pins: () => window.io_pins.getPins('analog_out') },\n            }\n        };\n\n        this.gpio = {\n            name: 'GPIO Settings (global)',\n            configs: {}\n        };\n\n        this.vals = 1;\n    }\n\n    defaults = () => {\n        return {\n            'params.gpio': 255,\n\n            'state.values[0].name': 'Output',\n            'state.values[0].type': '1',\n        }\n    }\n}\n\nexport const pwmOutput = new PWMOutput();","import { Device } from './_defs';\n\nclass InputSwitch extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                gpio: { name: 'GPIO', type: 'gpio', pins: () => window.io_pins.getPins('digital_out') },\n                invert: { name: 'Invert', type: 'checkbox' },\n            }\n        };\n\n        this.gpio = {\n            name: 'GPIO Settings (global)',\n            configs: {}\n        };\n\n        this.vals = 1;\n    }\n\n    defaults = () => {\n        return {\n            'params.gpio': 255,\n            'params.invert': false,\n            interval: 60,\n\n            'state.values[0].name': 'Switch',\n            'state.values[0].type': '0',\n        }\n    }\n}\n\nexport const inputSwitch = new InputSwitch();","import { Device } from './_defs';\n\nclass Max31855 extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                cs: { name: 'CS', type: 'gpio' },\n                clk: { name: 'CLK', type: 'gpio' },\n                data: { name: 'DATA', type: 'gpio' },\n                interval: { name: 'Interval', type: 'number' },\n            }\n        };\n\n        this.vals = 1;\n    }\n\n    defaults = () => {\n        return {\n            'params.cs': 255,\n            'params.clk': 255,\n            'params.data': 255,\n            interval: 60,\n\n            'state.values[0].name': 'Temperature',\n            'state.values[0].type': '2',\n            // 'state.values[1].name': 'TempRJ',\n            // 'state.values[1].type': '0',\n            // 'state.values[2].name': 'TempTherm',\n            // 'state.values[2].type': '0',\n        }\n    }\n}\n\nexport const max31855 = new Max31855();","import { Device } from './_defs';\n\nconst addr = [\n    { name: '0x5A', value: 0x5A }\n]\n\nclass Mlx90614 extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Configuration',\n            configs: {\n                addr: { name: 'Address', type: 'select', options: addr },\n                interval: { name: 'Interval', type: 'number' },\n            }\n        };\n\n        this.vals = 2;\n    }\n\n    defaults = () => {\n        return {\n            'addr': 0x5A,\n            interval: 60,\n\n            'state.values[0].name': 'Temperature',\n            'state.values[0].type': '0',\n            'state.values[1].name': 'TempAmbient',\n            'state.values[1].type': '0',\n            // 'state.values[2].name': 'TempTherm',\n            // 'state.values[2].type': '0',\n        }\n    }\n}\n\nexport const mlx90614 = new Mlx90614();","const sensorModel = [\n    { value: 0, name: 'DHT11' }, \n    { value: 1, name: 'DHT22' }, \n    { value: 12, name: 'DHT12' }, \n    { value: 23, name: 'Sonoff am2301' }, \n    { value: 70, name: 'Sonoff si7021' },\n]\n\nexport const dht = {\n    defaults: () => ({\n        'params.gpio': 255,\n        'params.type': 0,\n        'state.values[0].name': 'Temperature',\n        'state.values[0].type': '2',\n        'state.values[1].name': 'Humidity',\n        'state.values[1].type': '2',\n    }),\n    params: {\n        name: 'Configuration',\n        configs: {\n            gpio: { name: 'GPIO Data', type: 'gpio' },\n            type: { name: 'Sensor model', type: 'select', options: sensorModel },\n            interval: { name: 'Interval', type: 'number' },\n        }\n    },\n    data: false,\n    vals: 2,\n}","\nconst i2c_address = [\n    { value: 118, name: '0x76 (118) - (default)' }, \n    { value: 119, name: '0x77 (119)' }, \n]\n\nexport const bmx280 = {\n    defaults: () => ({\n        'state.values[0].name': 'Temperature',\n        'state.values[0].type': '2',\n        'state.values[1].name': 'Humidity',\n        'state.values[1].type': '2',\n        'state.values[2].name': 'Pressure',\n        'state.values[2].type': '2',\n    }),\n    sensor: {\n        name: 'Sensor',\n        configs: {\n            i2c_address: { name: 'I2C Address', type: 'select', options: i2c_address },\n            altitude: { name: 'Altitude', type: 'number' },\n            offset: { name: 'Temperature Offset', type: 'number' },\n        }\n    },\n    vals: 3,\n}","export const ds18b20 = {\n    defaults: () => ({\n        gpio: 255,\n        'state.values[0].name': 'Temperature',\n        'state.values[0].type': '2',\n    }),\n    params: {\n        name: 'Sensor',\n        configs: {\n            gpio: { name: 'GPIO', type: 'gpio' },\n            interval: { name: 'Interval', type: 'number' },\n        }\n    },\n    vals: 1,\n}","import { getTasks, getTaskValues } from '../lib/utils';\n\nexport const levelControl = {\n    defaults: () => ({\n        'state.values[0].name': 'Output',\n        'state.values[0].type': '1',\n    }),\n    params: {\n        name: 'Configuration',\n        configs: {\n            device: { name: 'Check Device', type: 'select', options: getTasks },\n            value: { name: 'Check Value', type: 'select', options: getTaskValues('params.device') },\n            level: { name: 'Set Level', type: 'number' },\n            hysteresis: { name: 'Hysteresis', type: 'number' },\n            interval: { name: 'Interval', type: 'number' },\n        }\n    },\n    vals: 1,\n}","\nexport const analog = {\n    defaults: () => ({\n        'params.gpio': 255,\n        'params.interval': 60,\n        'state.values[0].name': 'Analog',\n        'state.values[0].type': '2',\n    }),\n    params: {\n        name: 'Settings',\n        configs: {\n            gpio: { name: 'GPIO', type: 'select', options: () => (window.io_pins.getPins('analog_in')) },\n            interval: { name: 'Interval', type: 'number', min: 0, max: 3600*24 }\n        }\n    },\n    data: false,\n    vals: 1,\n}","const i2cAddr = [\n    { value: 72, name: '0x48' },\n    { value: 73, name: '0x49' },\n    { value: 74, name: '0x4A' },\n    { value: 75, name: '0x4B' },\n];\n\nconst adsMode = [\n    { value: 0, name: 'continious' },\n    { value: 1, name: 'single' },\n]\n\nconst adsRate = [\n    { value: 0, name: '8' },\n    { value: 1, name: '16' },\n    { value: 2, name: '32' },\n    { value: 3, name: '64' },\n    { value: 4, name: '128' },\n    { value: 5, name: '250' },\n    { value: 6, name: '475' },\n    { value: 7, name: '860' },\n]\n\nconst adsGain = [\n    { value: 0, name: '+- 6.144V' },\n    { value: 1, name: '+- 4.096V' },\n    { value: 2, name: '+- 2.048V' },\n    { value: 3, name: '+- 1.024V' },\n    { value: 4, name: '+- 0.512V' },\n    { value: 5, name: '+- 0.256V' },\n]\n\n\nexport const ads1115 = {\n    defaults: () => ({\n        'params.addr': 72,\n        'params.mode': 1,\n        'params.rate': 4,\n        'params.gain': 2,\n    }),\n    getDevicePins: (conf) => {\n        return [...new Array(4)].map((x,i) => ({\n            name: `${conf.name} GPIO${i}`,\n            value: i,\n            capabilities: ['analog_in'],\n        }));\n    },\n    params: {\n        name: 'Sensor',\n        configs: {\n            addr: { name: 'Address', type: 'select', options: i2cAddr },\n            mode: { name: 'Mode', type: 'select', options: adsMode },\n            rate: { name: 'Rate', type: 'select', options: adsRate },\n            gain: { name: 'Gain', type: 'select', options: adsGain },\n        }\n    },\n}","const i2cAddr = [\n    { value: 0, name: 'Disabled' },\n    { value: 1, name: 'Active on LOW' },\n]\n\nexport const mcp23017 = {\n    defaults: () => ({\n        gpio1: 255,\n        gpio2: 255,\n        'settings.values[0].name': 'Tag',\n    }),\n    params: {\n        name: 'Sensor',\n        configs: {\n            addr: { name: 'Address', type: 'select', options: i2cAddr }\n        }\n    },\n    data: true,\n}","import {Device} from './_defs';\n\nconst i2cAddr = [\n    { value: 32, name: '0x20' },\n    { value: 33, name: '0x21' },\n    { value: 34, name: '0x22' },\n    { value: 35, name: '0x23' },\n];\n\nconst typeOptions = [\n    { value: 0, name: 'pcf8574' },\n    { value: 1, name: 'pcf8575' },\n]\n\nconst pinBootStates = [\n    { value: 0, name: 'LOW' },\n    { value: 1, name: 'HIGH' },\n]\nclass PCF8574 extends Device {\n    constructor() {\n        super();\n\n        this.params = {\n            name: 'Sensor',\n            configs: {\n                addr: { name: 'Address', type: 'select', options: i2cAddr },\n                type: { name: 'Type', type: 'select', options: typeOptions }\n            }\n        };\n\n        this.pins = {\n            name: 'Pin Configuration',\n            configs: {\n\n            }\n        }\n\n        for (let i = 0; i < 16; i++) {\n            if (i < 8) this.pins.configs[i] = { name: `Pin ${i} boot state`, type: 'select', options: pinBootStates };\n            else this.pins.configs[i] = { name: `Pin ${i} boot state`, type: 'select', if: 'params.type', ifval: 1, options: pinBootStates };\n        }\n    }\n\n    defaults = () => ({\n        'params.addr': 56,\n    });\n\n    getDevicePins = (conf, plugin) => {\n        const n = conf.params.type ? 16 : 8;\n       return [...new Array(n)].map((x,i) => ({\n           name: `${conf.name} GPIO${i}`,\n           value: i,\n           capabilities: ['digital_in', 'digital_out'],\n           configs: {\n               boot_state: { name: `Pin ${i} boot state`, type: 'select', options: pinBootStates, var: `ROOT.plugins[${plugin}].pins.${i}` }\n           }\n       }));\n    };\n}\n\nexport const pcf8574 = new PCF8574();","import { settings } from '../lib/settings';\n\nexport class Device {\n    constructor() {\n        this.vals = 0;\n        this.data = false;\n        this.params = {};\n    }\n\n    defaults() {\n        return [];\n    };\n\n    getDevicePins() {\n        return [];\n    };\n\n    getDeviceUsedPins(plugin) {\n        const pins = [];\n        if (plugin.params.gpio) pins.push(plugin.params.gpio);\n        if (plugin.params.gpio1) pins.push(plugin.params.gpio1);\n        if (plugin.params.gpio2) pins.push(plugin.params.gpio2);\n        if (plugin.params.gpio3) pins.push(plugin.params.gpio3);\n        if (plugin.params.gpio4) pins.push(plugin.params.gpio4);\n        return pins;\n    }\n}","import { inputSwitch } from './1_switch';\nimport { dht } from './2_dht';\nimport { bmx280 } from './3_bmx280';\nimport { ds18b20 } from './4_ds18b20';\nimport { levelControl } from './5_level_control';\nimport { pcf8574 } from \"./9_pcf8574\";\nimport { mcp23017 } from \"./8_mcp23017\";\nimport { ads1115 } from \"./7_ads1115\";\nimport { analog } from \"./6_analog\";\nimport { pca9685 } from './10_pca9685';\nimport { mqtt } from './11_mqtt';\nimport { rotaryEncoder } from './12_rotary_encoder';\nimport { http } from './13_http';\nimport { dummy } from './14_dummy';\nimport { dimmer } from './15_dimmer';\nimport { udp_server } from './16_udp_server';\nimport { digital_input } from './18_digital_input';\nimport { pwmOutput } from './19_pwm_output';\nimport { max31855 } from './20_max31855';\nimport { mlx90614 } from './21_mlx90614';\n\n// import { bmp085 } from './6_bmp085';\n// import { pcf8591 } from './7_pcf8591';\n// import { rfidWeigand } from './8_rfid';\n// import { inputMcp } from './9_io_mcp';\n// import { bh1750 } from './10_light_lux';\n// import { pme } from './11_pme';\n// import { lcd2004 } from './12_lcd';\n// import { hcsr04 } from './13_hcsr04';\n// import { si7021 } from './14_si7021';\n// import { tls2561 } from './15_tls2561';\n// import { pn532 } from './17_pn532';\n// import { dust } from './18_dust';\n// import { pcf8574 } from './19_pcf8574';\n// import { ser2net } from './20_ser2net';\n// import { levelControl } from './21_level_control';\n// import { pca9685 } from './22_pca9685';\n// import { oled1306 } from './23_oled1306';\n// import { mlx90614 } from './24_mlx90614';\n// import { ads1115 } from './25_ads1115';\n// import { systemInfo } from './26_system_info';\n// import { ina219 } from './27_ina219';\n// import { bmx280 } from './28_bmx280';\n// import { mqttDomoticz } from './29_mqtt_domoticz';\n// import { bmp280 } from './30_bmp280';\n// import { sht1x } from './31_sht1x';\n// import { ms5611 } from './32_ms5611';\n// import { dummyDevice } from './33_dummy_device';\n// import { dht12 } from './34_dht12';\n// import { sh1106 } from './36_sh1106';\n// import { mqttImport } from './37_mqtt_import';\n// import { neopixelBasic } from './38_neopixel_basic';\n// import { thermocouple } from './39_thermocouple';\n// import { neopixelClock } from './41_neopixel_clock';\n// import { neopixelCandle } from './42_neopixel_candle';\n// import { clock } from './43_output_clock';\n// import { wifiGateway } from './44_wifi_gateway';\n// import { mhz19 } from './49_mhz19';\n// import { senseAir } from './52_senseair';\n// import { sds011 } from './56_sds011';\n// import { rotaryEncoder } from './59_rotary_encoder';\n// import { ttp229 } from './63_ttp229';\n\nexport const devices = [\n    { name: '- None -', value: 0, fields: [] },\n    { name: 'Generic - Digital Output', value: 1, fields: inputSwitch },\n    { name: 'Environment - DHT11/12/22  SONOFF2301/7021', value: 2, fields: dht },\n    { name: 'Environment - BME280/BMP280', value: 3, fields: bmx280 },\n    { name: 'Environment - DS18b20', value: 4, fields: ds18b20 },\n    { name: 'Generic - Level Control', value: 5, fields: levelControl },\n    { name: 'Generic - Analog Input', value: 6, fields: analog },\n    { name: 'IO - ADS1115', value: 7, fields: ads1115 },\n    { name: 'IO - MCP23017', value: 8, fields: mcp23017 },\n    { name: 'IO - PCF8574', value: 9, fields: pcf8574 },\n    { name: 'IO - PCA9685', value: 10, fields: pca9685 },\n    { name: 'Generic - MQTT', value: 11, fields: mqtt },\n    { name: 'Generic - Rotary Encoder', value: 12, fields: rotaryEncoder },\n    { name: 'Generic - HTTP', value: 13, fields: http },\n    { name: 'Generic - Dummy Device', value: 14, fields: dummy },\n    { name: 'Generic - Dimmer', value: 15, fields: dimmer },\n    { name: 'Generic - UDP Server', value: 16, fields: udp_server },\n    { name: 'Generic - Digital Input', value: 18, fields: digital_input },\n    { name: 'Generic - PWM Output', value: 19, fields: pwmOutput },\n    { name: 'Environment - MAX31855 Thermocouple', value: 20, fields: max31855 },\n    { name: 'Environment - MLX90614 IR Temperature', value: 21, fields: mlx90614 },\n    //{ name: 'Light/Lux - BH1750', value: 10, fields: bh1750 },\n    // { name: 'Extra IO - ProMini Extender', value: 11, fields: pme },\n    // { name: 'Display - LCD2004', value: 12, fields: lcd2004 },\n    // { name: 'Position - HC-SR04, RCW-0001, etc.', value: 13, fields: hcsr04 },\n    // { name: 'Environment - SI7021/HTU21D', value: 14, fields: si7021 },\n    // { name: 'Light/Lux - TSL2561', value: 15, fields: tls2561 },\n    // //{ name: 'Communication - IR', value: 16, fields: bh1750 },\n    // { name: 'RFID - PN532', value: 17, fields: pn532 },\n    // { name: 'Dust - Sharp GP2Y10', value: 18, fields: dust },\n    // { name: 'Switch input - PCF8574', value: 19, fields: pcf8574 },\n    // { name: 'Communication - Serial Server', value: 20, fields: ser2net },\n    // { name: 'Regulator - Level Control', value: 21, fields: levelControl },\n    // { name: 'Extra IO - PCA9685', value: 22, fields: pca9685 },\n    // { name: 'Display - OLED SSD1306', value: 23, fields: oled1306 },\n    // { name: 'Environment - MLX90614', value: 24, fields: mlx90614 },\n    // { name: 'Analog input - ADS1115', value: 25, fields: ads1115 },\n    // { name: 'Generic - System Info', value: 26, fields: systemInfo },\n    // { name: 'Energy (DC) - INA219', value: 27, fields: ina219 },\n    // { name: 'Environment - BMx280', value: 28, fields: bmx280 },\n    // { name: 'Output - Domoticz MQTT Helper', value: 29, fields: mqttDomoticz },\n    // { name: 'Environment - BMP280', value: 30, fields: bmp280 },\n    // { name: 'Environment - SHT1X', value: 31, fields: sht1x },\n    // { name: 'Environment - MS5611 (GY-63)', value: 32, fields: ms5611 },\n    // { name: 'Generic - Dummy Device', value: 33, fields: dummyDevice },\n    // { name: 'Environment - DHT12 (I2C)', value: 34, fields: dht12 },\n    // { name: 'Display - OLED SSD1306/SH1106 Framed', value: 36, fields: sh1106 },\n    // { name: 'Generic - MQTT Import', value: 37, fields: mqttImport },\n    // { name: 'Output - NeoPixel (Basic)', value: 38, fields: neopixelBasic },\n    // { name: 'Environment - Thermocouple', value: 39, fields: thermocouple },\n    // { name: 'Output - NeoPixel (Word Clock)', value: 41, fields: neopixelClock },\n    // { name: 'Output - NeoPixel (Candle)', value: 42, fields: neopixelCandle },\n    // { name: 'Output - Clock', value: 43, fields: clock },\n    // { name: 'Communication - P1 Wifi Gateway', value: 44, fields: wifiGateway },\n    // { name: 'Gases - CO2 MH-Z19', value: 49, fields: mhz19 },\n    // { name: 'Gases - CO2 Senseair', value: 52, fields: senseAir },\n    // { name: 'Dust - SDS011/018/198', value: 56, fields: sds011 },\n    // { name: 'Switch Input - Rotary Encoder', value: 59, fields: rotaryEncoder },\n    // { name: 'Keypad - TTP229 Touc', value: 63, fields: ttp229 },\n].sort((a, b) => a.name.localeCompare(b.name));","import { settings } from './settings';\nimport { storeFile } from './esp';\nimport { getNodes } from '../pages/floweditor/nodes';\nimport { stringToAsciiByteArray } from './utils';\n\nconst prepareAlerts = () => {\n    const alerting = settings.get('alerting');\n    if (!alerting || !alerting.enabled) return;\n\n    const alerts = alerting.alerts.map(alert => {\n        const trigger = `\\xFF\\xFE\\x00\\xFF\\x00${String.fromCharCode(alert.triggers.length)}`;\n        alert.triggers.forEach(t => {\n            trigger += `${String.fromCharCode(t.device)}${String.fromCharCode(t.value_id)}${String.fromCharCode(t.compare)})}\\x01`;\n            trigger += String.fromCharCode(t.value);\n        });\n        return trigger;\n    }).join('\\xFF') + '\\xFF';\n\n    return storeFile('alerts.bin', alerts);\n}\n\n\n\nconst prepareRules = async () => {\n    const rules = settings.editor.get('rules[0]', {});\n    const renderedNodes = rules.nodes || [];\n    const { connections } = rules;\n    // find initial nodes (triggers);\n    const triggers = renderedNodes.filter(node => {\n        console.log(node);\n        return node.group === 'TRIGGERS' || node.group === 'TRIGGER';\n    });\n\n    const eventMap = {\n        'init': 0,\n    };\n    const events = renderedNodes.filter(node => node.name === 'event').map((event, i) => ({ value: i, name: event.params.event }));\n    events.forEach(event => {\n        eventMap[event.name] = event.value;\n    });\n\n    const nodes = getNodes();\n    let result = '';\n    // for each initial node walk the tree and produce one 'rule'\n    triggers.map(trigger => {\n        \n        const walkRule = (rn) => {\n            const r = nodes.find(n => n.name == rn.name);\n            const rules = r.toDsl ? r.toDsl(rn, { events }) : [];\n            if (rules === null) return null;\n            let ruleset = '';\n            \n            [...new Array(r.outputs)].map((x, outI) => {\n                let rule = rules[outI] || r.type;\n                let subrule = '';\n                let out = connections.find(c => c.from == `node-${rn.id}-o-${outI}`);\n                if (out) {\n                    let match = out.to.match(/node-(.*)-i-.*/);\n                    let outNode = renderedNodes.find(n => n.id == match[1]);\n                    if (outNode) subrule += walkRule(outNode);\n                } \n                if (rule.includes('%%output%%')) {\n                    rule = rule.replace('%%output%%', subrule);\n                } else {\n                    rule += subrule;\n                }\n                ruleset += rule;\n            });\n            \n            return ruleset;\n        }\n\n        const rule = walkRule(trigger);\n        if (rule === null) return;\n        result += rule + \"\\xFF\";\n    });\n\n    const bytes = stringToAsciiByteArray(result);\n\n    await storeFile('events.json', JSON.stringify(eventMap));\n    await storeFile('rules.dat', new Uint8Array(bytes));\n}\n\nexport const loadConfig = async () => {\n    const cfg = await fetch('/config.json').then(r => {\n        const header = r.headers.get('user');\n        if (header) {\n            settings.user(header.replace(',','').trim());\n        } \n        // todo: remove\n        settings.user('admin');\n        return r.json();\n    })\n\n    settings.init(cfg);\n\n    settings.events = await fetch('/events.json').then(r => r.json()).catch(r => []);\n    settings.r1pins = pins;\n\n    const editor_cfg = await fetch('/editor_config.json').then(r => r.ok ? r.json() : {});\n    settings.editor.init(editor_cfg);\n};\n\nexport const saveConfig = async (config = true, editor = true, rules = true, alerts = true) => {\n    if (config) await storeFile('config.json', JSON.stringify(settings.get()));\n    if (editor) await storeFile('editor_config.json', JSON.stringify(settings.editor.get()));\n    if (rules) await prepareRules();\n    if (alerts) await prepareAlerts();\n}","import miniToastr from 'mini-toastr';\nimport { loader } from './loader';\n\n\nexport const fetchProgress = (url, opts={}) => {\n    return new Promise( (res, rej)=>{\n        var xhr = new XMLHttpRequest();\n        xhr.open(opts.method || 'get', url);\n        for (var k in opts.headers||{})\n            xhr.setRequestHeader(k, opts.headers[k]);\n        xhr.onload = e => res(e.target.responseText);\n        xhr.onerror = rej;\n        if (xhr.upload && opts.onProgress)\n            xhr.upload.onprogress = opts.onProgress; // event.loaded / event.total * 100 ; //event.lengthComputable\n        xhr.send(opts.body);\n    });\n}\n\nexport const storeFile = async (filename, data, onProgress) => {\n    loader.show();\n    const file = data ? new File([new Blob([data])], filename) : filename;\n    const fileName = data ? filename : file.name;\n    \n    return await fetchProgress(`/upload/${fileName}`, {\n        method: 'post',\n        body: file,\n    }, onProgress).then(() => {\n        loader.hide();\n        miniToastr.success('Successfully saved to flash!', '', 5000);\n    }, e => {\n        loader.hide();\n        miniToastr.error(e.message, '', 5000);\n    });\n}\n\nexport const deleteFile = async (filename) => {    \n    return await fetch('/delete/'+filename, { method: 'POST' }).then(() => {\n        miniToastr.success('Successfully saved to flash!', '', 5000);\n    }, e => {\n        miniToastr.error(e.message, '', 5000);\n    });\n}\n\nexport const loadDevices = async (url) => {\n    return fetch(`${url || ''}/plugin_state/`).then(response => response.json()); //.then(response => response.Sensors);\n}\n\nexport default { fetchProgress, storeFile, deleteFile, loadDevices };","import get from 'lodash/get';\nimport set from 'lodash/set';\n\n// const get = (obj, path, defaultValue) => path.replace(/\\[/g, '.').replace(/\\]/g, '').split(\".\")\n// .reduce((a, c) => (a && a[c] ? a[c] : (defaultValue || null)), obj)\n\n// const set = (obj, path, value) => {\n//     path.replace(/\\[/g, '.').replace(/\\]/g, '').split('.').reduce((a, c, i, src) => {\n//         if (!a[c]) a[c] = {};\n//         if (i === src.length - 1) a[c] = value;\n//     }, obj)\n// }\n\nconst getKeys = object => {\n    const keys = [];\n    for (let key in object) {\n        if (object.hasOwnProperty(key)) {\n            keys.push(key);\n        }\n    }\n    return keys;\n}\n\nexport { get, set, getKeys }","class Loader {\n    constructor() {\n        this.loader = document.querySelector('.loading');\n    }\n\n    show() {\n        this.loader.classList.add('show');\n    }\n\n    hide() {\n        this.loader.classList.add('hide');\n        setTimeout(() => {\n            this.loader.classList.remove('hide');\n            this.loader.classList.remove('show');\n        }, 1000);\n    }\n}\n\nexport const loader = new Loader();","import { \n    ConfigPage, \n    DashboardPage,\n    DevicesPage, \n    DevicesEditPage, \n    ConfigAdvancedPage, \n    ConfigHardwarePage, \n    RebootPage, \n    LoadPage, \n    UpdatePage, \n    ToolsPage, \n    FSPage, \n    FactoryResetPage, \n    DiscoverPage, \n    DiffPage, \n    RulesEditorPage, \n    SetupPage,\n    SysVarsPage,\n    ControllerAlexaPage,\n    ControllerAlertsPage,\n    AlertsPage,\n    AlertsEditPage,\n    ConfigPluginsPage,\n    ConfigBluetoothPage,\n    ConfigLCDPage,\n    ConfigLCDScreenPage,\n    ConfigLCDWidgetPage,\n    ProfilesPage,\n    ProfilesEditPage,\n} from '../pages';\n\n\nconst saveConfig = () => {\n    window.location.href='/config.json';\n}\nclass Menus {\n    constructor() {\n        this.menus = [];\n        this.routes = [];\n\n        this.addMenu = (menu) => {\n            this.menus.push(menu);\n            this.addRoute(menu);\n        }\n\n        this.addRoute = (route) => {\n            this.routes.push(route);\n            if (route.children) {\n                route.children.forEach(child => {\n                    child.parent = route;\n                    this.routes.push(child);\n                });\n            }\n        }\n    }\n    \n}\n\nconst menus = [\n    { title: 'Dashboard', href: 'dashboard', component: DashboardPage, children: [] },\n    { title: 'Devices', href: 'devices', component: DevicesPage, children: [] },\n    //{ title: 'Controllers', href: 'controllers', component: ControllersPage, children: [] },\n    { title: 'Automation', href: 'rules', component: RulesEditorPage, class: 'full', children: [\n        \n    ] },\n    { title: 'Profiles', href: 'profiles', component: ProfilesPage, children: [] },\n    { title: 'Alexa', href: 'alexa', component: ControllerAlexaPage, children: [] },\n    { title: 'Alerts', href: 'alerts', component: AlertsPage, children: [] },\n    { title: 'Config', adminOnly: true, href: 'config', component: ConfigPage, children: [\n        { title: 'Hardware', pagetitle: 'Hardware', href: 'config/hardware', component: ConfigHardwarePage },\n        { title: 'LCD', pagetitle: 'LCD', href: 'config/lcd', component: ConfigLCDPage },\n        { title: 'Bluetooth', pagetitle: 'Bluetooth', href: 'config/bluetooth', component: ConfigBluetoothPage },\n        { title: 'Advanced', href: 'config/advanced', component: ConfigAdvancedPage },\n        { title: 'Plugins', href: 'config/plugins', component: ConfigPluginsPage },\n        { title: 'Save', href: 'config/save', action: saveConfig },\n        { title: 'Load', href: 'config/load', component: LoadPage },\n        { title: 'Reboot', href: 'config/reboot', component: RebootPage },\n        { title: 'Factory Reset', href: 'config/factory', component: FactoryResetPage },\n    ] },\n    { title: 'Tools', adminOnly: true, href: 'tools', component: ToolsPage, children: [\n        { title: 'Discover', href: 'tools/discover', component: DiscoverPage },\n        { title: 'Info', href: 'tools/sysinfo', component: SysVarsPage },\n        { title: 'Update', href: 'tools/update', component: UpdatePage },\n        { title: 'Filesystem', href: 'tools/fs', component: FSPage },\n    ] },\n];\n\nconst routes = [\n    { title: 'Edit Device', href:'devices/edit', component: DevicesEditPage },\n    { title: 'Edit Alert', href:'alerts/edit', component: AlertsEditPage },\n    { title: 'Edit Screen', href:'config/lcdscreen', component: ConfigLCDScreenPage },\n    { title: 'Edit Widget', href:'config/lcdwidget', component: ConfigLCDWidgetPage },\n    { title: 'Edit Profile', href:'profiles/edit', component: ProfilesEditPage },\n    { title: 'Save to Flash', href:'tools/diff', component: DiffPage },\n    { title: 'Setup', href: 'config/setup', component: SetupPage }\n];\n\nconst menu = new Menus();\nroutes.forEach(menu.addRoute);\nmenus.forEach(menu.addMenu)\n\nexport { menu };","import { settings } from \"./settings\";\nimport { devices } from \"../devices\";\n\nfunction copy(o) {\n    var output, v, key;\n    output = Array.isArray(o) ? [] : {};\n    for (key in o) {\n        v = o[key];\n        output[key] = (typeof v === \"object\") ? copy(v) : v;\n    }\n    return output;\n}\n\nconst pinState = [\n    { name: 'Default', value: 0 },\n    { name: 'Low', value: 1 },\n    { name: 'High', value: 2 },\n    { name: 'Input', value: 3 },\n];\n\nclass IO_PINS {\n    constructor() {\n        this.digitalPins = [{ name: '-- select --', value: 255, capabilities: ['digital_in', 'analog_in', 'digital_out', 'analog_out'], configs: {}}];\n        for (let i = 0; i < 40; i++) {\n            if ([6,7,8,9,10,11].includes(i)) continue; // SPI flash pins\n            if ([16,17].includes(i)) continue; // setting theese to output causes reset\n            // add check for serial pins\n            const pin = {\n                name: `ESP32 GPIO${i}`,\n                value: i,\n                capabilities: ['core', 'digital_in'],\n                configs: {},\n            };\n            if (pin.value < 32) {\n                pin.configs.pull_up = { name: `Pin ${pin.value} pull up`, type: 'checkbox' };\n                pin.configs.boot_state = { name: `Pin ${pin.value} boot state`, type: 'select', options: pinState, var: `ROOT.hardware.gpio.${pin.value}` };\n                pin.capabilities.push('digital_out');\n            } else {\n                pin.capabilities.push('analog_in');\n            }\n            this.digitalPins.push(pin);\n        }\n        \n    }\n\n    setUsedPins(allPins) {\n        const resetPin = settings.get('hardware.reset.pin');\n        if (resetPin) allPins.find(ap => ap.value == resetPin).disabled = \"RESET\";\n\n        const ledPin = settings.get('hardware.led.gpio');\n        if (ledPin) allPins.find(ap => ap.value == ledPin).disabled = \"LED\";\n\n        const i2c = settings.get('hardware.i2c');\n        if (i2c && i2c[\"enabled\"]) {\n            if (i2c[\"scl\"]) allPins.find(ap => ap.value == i2c[\"scl\"]).disabled = \"I2C\";\n            if (i2c[\"sda\"]) allPins.find(ap => ap.value == i2c[\"sda\"]).disabled = \"I2C\";\n        }\n\n        const sdcard = settings.get('hardware.spi');\n        if (sdcard && sdcard['enabled']) {\n            [2, 4, 12, 13, 14, 15].forEach(x => {\n                allPins.find(ap => ap.value == x).disabled = \"SPI\";\n            });\n        }\n        const plugins = settings.get('plugins');\n        plugins.filter(p => p).forEach(cur => {\n            const plugin = devices.find(d => d.value === cur.type).fields;\n            if (plugin.getDeviceUsedPins) {\n                const pins = plugin.getDeviceUsedPins(cur);\n                pins.forEach(p => {\n                    allPins.find(ap => ap.value == p).disabled = cur.name;\n                });\n            }\n        }, []);\n    }\n\n    getInterruptPins() {\n        const hwpins = settings.get('hardware.gpio') || [];\n        return this.digitalPins.filter((p) => hwpins[p.value] && hwpins[p.value].interrupt && hwpins[p.value].mode == 3);\n    }\n\n    getPins(capabilities) {\n        if (capabilities === 'interrupt') return this.getInterruptPins();\n        const plugins = settings.get('plugins');\n        const startPins = copy(this.digitalPins);\n        let lastNr = startPins[startPins.length-1].value;\n        const pins = plugins.reduce((acc, cur, i) => {\n            if (!cur) return acc;\n            const plugin = devices.find(d => d.value === cur.type).fields;\n            if (plugin.getDevicePins) {\n                const pins = plugin.getDevicePins(cur, i);\n                pins.forEach(p => {\n                    p.value = ++lastNr;\n                    acc.push(p);\n                });\n            }\n            return acc;\n        }, [...startPins]);\n        this.setUsedPins(pins);\n        const cs = Array.isArray(capabilities) ? capabilities : [capabilities];\n        return cs.length ? pins.filter(pin => cs.every(c => pin.capabilities.includes(c))) : pins; \n    }\n\n}\n\nexport const ioPins = window.io_pins = new IO_PINS();\n\nexport const pins = window.pins = () => {\n    return ioPins.getPins(['digital_in', 'digital_out']);\n};","import { settings } from './settings';\nimport esp from './esp';\nimport { loader } from './loader';\nimport { menu } from './menu';\n\n\nconst dynamicallyLoadScript = (url) => {\n    return new Promise(resolve => {\n        var script = document.createElement(\"script\");  // create a script DOM node\n        script.src = url;  // set its src to the provided URL\n        script.onreadystatechange = resolve;\n        script.onload = resolve;\n        script.onerror = resolve;\n        document.head.appendChild(script);  // add it to the end of the head section of the page (could change 'head' to 'body' to add it to the end of the body section instead)\n    });\n}\n\nconst onPageLoadHandlers = [];\nconst page = {\n    appendStyles: (url) => {\n        return new Promise(resolve => {\n            const link = document.createElement('link');\n            link.type = 'text/css';\n            link.rel = 'stylesheet';\n            link.onload = () => {\n                resolve();\n            }\n            link.href = url;\n\n            if (!document.querySelector('link[href=\"' + url + '\"]')) {\n                let headScript = document.querySelector('head');\n                headScript.append(link);\n            }\n        });\n    },\n    \n    appendScript: dynamicallyLoadScript,\n\n    onLoad: (fn) => {\n        onPageLoadHandlers.push(fn);\n    }\n};\n\nconst getPluginAPI = () => {\n    return {\n        settings,\n        loader,\n        menu,\n        esp,\n        page,\n    }\n}\n\nwindow.getPluginAPI = getPluginAPI;\n\nexport const firePageLoad = () => {\n    onPageLoadHandlers.forEach(h => h());\n}\n\nexport const loadPlugins = async () => {\n    return Promise.all(settings.editor.get('ui_plugins', []).filter(p => p.enabled).map(async plugin => {\n        return dynamicallyLoadScript(plugin.url);\n    }));\n}","import { get, set, getKeys } from './helpers';\n\nconst diff = (obj1, obj2, path = '') => {\n    const keys = [ ...new Set([...getKeys(obj1), ...getKeys(obj2)])];\n    return keys.map(key => {\n        const val1 = obj1[key];\n        const val2 = obj2[key];\n        if (val1 instanceof Object && val2 instanceof Object) return diff(val1, val2, path ? `${path}.${key}` : key);\n        else if (val1 !== val2) {\n            return [{ path: `${path}.${key}`, val1, val2 }];\n        } else return [];\n    }).flat();\n};\n\nclass Settings {\n    init(settings) {\n        this.settings = settings;\n        this.apply();\n    }\n\n    user(userName) {\n        this.userName = userName;\n    }\n\n    get(prop = -1, d = null) {\n        if (prop === -1) return this.settings;\n        return get(this.settings, prop, d);\n    }\n\n    /**\n     * sets changes to the current version and sets changed flag\n     * @param {*} prop \n     * @param {*} value \n     */\n    set(prop, value) {\n        const obj = get(this.settings, prop);\n        if (typeof obj  === 'object') {\n            console.warn('settings an object!');\n            set(this.settings, prop, value);\n        } else {\n            set(this.settings, prop, value);\n        }\n        \n        if (this.diff().length) this.changed = true;\n    }\n\n    // getRules() {\n    //     return this.rules;\n    // }\n\n    // setRules(rules) {\n    //     this.storedRules = JSON.parse(JSON.stringify(rules));\n    //     this.rulesChanged = false;\n    // }\n\n    /**\n     * returns diff between applied and current version\n     */\n    diff() {\n        return diff(this.stored, this.settings);\n    }\n\n    /***\n     * applys changes and creates new version in localStorage\n     */\n    apply() {\n        this.stored = JSON.parse(JSON.stringify(this.settings));\n        this.changed = false;\n    }\n}\n\nconst settings = window.settings1 = new Settings();\nsettings.editor = new Settings();\nexport { settings };","import { settings } from './settings';\nimport { get } from './helpers';\n\nexport const getTasks = () => {\n    return settings.get('plugins').filter(p => p).map((p, i) => ({ value: p.id, name: p.name }));\n};\n\nexport const getDeviceById = (id) => {\n    return settings.get('plugins').find(x => x.id === id);\n}\n\nexport const getTaskValues = (path) => {\n    return (config) => {\n        const selectedTask = get(config,path);\n        const task = settings.get('plugins').find(p => p.id === selectedTask);\n        if (!task || !task.state || !task.state.values) return [];\n        return task.state.values.filter(val => val).map((val, i) => ({ value: i, name: val.name }));\n    };\n};\n\nexport const getTaskValueType = (taskPath, valuePath, type) => {\n    \n    return (config) => {\n        const selectedTask = get(config, taskPath);\n        const task = settings.get('plugins').find(p => p.id === selectedTask);\n        if (!task || !task.state || !task.state.values) return false;\n\n        const selectedValue = get(config, valuePath);\n        const value = task.state.values[selectedValue];\n        if (!value) return false;\n\n        return value.type == type;\n    };\n};\n\nexport function stringToAsciiByteArray(str)\n{\n    var bytes = [];\n   for (var i = 0; i < str.length; ++i)\n   {\n       var charCode = str.charCodeAt(i);\n      if (charCode > 0xFF)  // char > 1 byte since charCodeAt returns the UTF-16 value\n      {\n          throw new Error('Character ' + String.fromCharCode(charCode) + ' can\\'t be represented by a US-ASCII byte.');\n      }\n       bytes.push(charCode);\n   }\n    return bytes;\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { getTasks, getTaskValues } from '../lib/utils';\n\nconst baseFields = { \n    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n    name: { name: 'Name', type: 'string', var: 'name' },\n    description: { name: 'Description', type: 'string', var: 'description' },\n    icon: { name: 'Icon', type: 'string', var: 'icon' },\n    icon: { name: 'Severity', type: 'number', min: 1, max: 10, var: 'severity' },\n};\n\nconst compareOptions = [\n    { name: '=', value: 0 },\n    { name: '>', value: 1 },\n    { name: '<', value: 2 },\n    { name: '<>', value: 3 },\n];\n\nconst getFormConfig = (config, form) => {\n    const triggers = {};\n    config.triggers.forEach((trigger, i) => {\n        triggers[`${i}_check`] = [\n            { name: 'Check Device', type: 'select', value: trigger.device, options: getTasks, var: `triggers[${i}].device` },\n            { name: 'Check Value', type: 'select', value: trigger.value_id, options: getTaskValues(`triggers[${i}].device`), var: `alerts[${i}].value_id` },\n            { type: 'button', value: 'remove', click: () => {\n                config.triggers.splice(i, 1);\n                form.forceUpdate();\n            }},\n        ];\n        triggers[`${i}_compare`] = [\n            { name: 'Comparison', type: 'select', value: trigger.compare, options: compareOptions, var: `triggers[${i}].compare` },\n            { name: 'Value', type: 'string', value: trigger.value, var: `triggers[${i}].value` },\n            {},\n        ];\n    });\n\n    return {\n        groups: {\n            settings: {\n                name: 'Alert Settings',\n                configs: {\n                    ...baseFields,\n                    \n                }\n            },\n            triggers: {\n                name: 'Conditions',\n                configs: {\n                    ...triggers,\n                    add: { type: 'button', value: 'add condition', click: () => {\n                        form.addTrigger();\n                    }},\n                }\n            }\n        },\n    }\n}\n\nexport class AlertsEditPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`alerting.alerts[${props.params[0]}]`);\n\n        this.addTrigger = () => {\n            this.config.triggers.push({});\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        const formConfig = getFormConfig(this.config, this);\n        if (!formConfig) {\n            alert('something went wrong, cant edit device');\n            window.location.href='#alerts';\n        }\n        return (\n            <Form config={formConfig} selected={this.config} />\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\nimport { devices } from '../devices';\nimport { loadDevices } from '../lib/esp';\nimport { ICON_CLASS } from 'mini-toastr';\n\nconst user = \"admin\";\n\nconst firstFreeKey = (array, key = 'id') => {\n    let i = 0;\n    while(array.find(e => e && e[key] == i)) i++;\n    return i;\n}\n\nexport class AlertsPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            config: settings.get('alerting'),\n        }\n\n        if (!this.state.config) {\n            this.state.config = { alerts: [], enabled: false };\n            settings.set('alerting', this.state.config);\n        }\n\n        this.handleEnableToggle = (e) => {\n            settings.set(e.currentTarget.dataset.prop, e.currentTarget.checked ? 1 : 0);\n        }\n\n        this.addAlert = () => {\n            const newAlert = { id: firstFreeKey(this.state.config.alerts), severity: 10, name: 'new alert', enabled: false, triggers: []};\n            this.state.config.alerts.push(newAlert);\n            window.location.hash = `#alerts/edit/${this.state.config.alerts.length - 1}`;\n        }\n\n        this.deleteAlert = (i) => {\n            this.state.config.alerts.splice(i, 1);\n            this.forceUpdate();\n        }\n    }\n    render(props) {\n        return (\n            <div>\n                <div><button type=\"button\" onClick={this.addAlert}>add alert</button></div>\n                {this.state.config.alerts.map((alert, i) => {\n                    const editUrl = `#alerts/edit/${i}`;\n                    const enabledProp = `alerting.alerts[${i}].enabled`;\n                    const iconClass = `${alert.icon}`;\n                    return (\n                        <div class=\"device\">\n                            <div class=\"icon\">\n                                <span class={iconClass} />\n                            </div>\n                            <div class=\"body\">\n                                <div class=\"info\">\n                                    {i+1}: <input type=\"checkbox\" defaultChecked={alert.enabled} data-prop={enabledProp} onChange={this.handleEnableToggle}></input>\n                                    &nbsp;&nbsp;{alert.name} [{alert.description}]\n                                    <a href={editUrl}>edit</a>\n                                    <a onClick={() => {this.deleteAlert(i);}}>delete</a>\n                                </div>\n                            </div>\n                        </div>\n                        )\n                })}\n            </div>\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\n\nconst logLevelOptions = [\n    { name: 'None', value: 0 },\n    { name: 'Error', value: 1 },\n    { name: 'Info', value: 2 },\n    { name: 'Debug', value: 3 },\n    { name: 'Debug More', value: 4 },\n    { name: 'Debug Dev', value: 9 },\n];\n\nconst formConfig = {\n    onSave: (vals) => { console.log(vals); },\n    groups: {\n        ntp: {\n            name: 'NTP Settings',\n            configs: {\n                enabled: { name: 'Use NTP', type: 'checkbox' },\n                host: { name: 'NTP Hostname', type: 'string' },\n            }\n        },\n        location: {\n            name: 'Location Settings',\n            configs: {\n                long: { name: 'Longitude', type: 'number' },\n                lat: { name: 'Latitude', type: 'number' },\n            }\n        },\n        log: {\n            name: 'Log Settings',\n            configs: {\n                syslog_ip: { name: 'Syslog IP', type: 'ip' },\n                syslog_level: { name: 'Syslog Level', type: 'select', options: logLevelOptions },\n                syslog_facility: { name: 'Syslog Level', type: 'select', options: [\n                    { name: 'Kernel', value: 0 },\n                    { name: 'User', value: 1 },\n                    { name: 'Daemon', value: 3 },\n                    { name: 'Message', value: 5 },\n                    { name: 'Local0', value: 16 },\n                    { name: 'Local1', value: 17 },\n                    { name: 'Local2', value: 18 },\n                    { name: 'Local3', value: 19 },\n                    { name: 'Local4', value: 20 },\n                    { name: 'Local5', value: 21 },\n                    { name: 'Local6', value: 22 },\n                    { name: 'Local7', value: 23 },\n                ] },\n                serial_level: { name: 'Serial Level', type: 'select', options: logLevelOptions },\n                web_level: { name: 'Web Level', type: 'select', options: logLevelOptions },\n            }\n        },\n    },\n}\n\nexport class ConfigAdvancedPage extends Component {\n    render(props) {\n        return (\n            <Form config={formConfig} selected={settings.get()} />\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { pins } from '../lib/pins';\nimport { getTasks, getTaskValues } from '../lib/utils';\n\nexport const types = [\n    { name: '- None -', value: 0 },\n    { name: 'Email', value: 1 },\n    { name: 'Buzzer', value: 2 },\n];\n\nconst baseDefaults = {}\nconst getDefaults = {\n    0: () => ({}),\n    1: () => ({ // Email\n    }), 2: () => ({ // Buzzer\n    }),\n}\n\nconst setDefaultConfig = (type, config) => {\n    const defaults = {...baseDefaults, ...getDefaults[type]()};\n    Object.keys(defaults).forEach((key) => {\n        const val = defaults[key];\n        set(config.settings, key, val);\n    });\n}\n\nconst getFormConfig = (config, form) => {\n    const values = {};\n    const beacon = {};\n    \n    config.beacon.values.forEach((trigger, i) => {\n        beacon[`${i}_name`] = [\n            { name: 'Check Device', type: 'select', options: getTasks, var: `beacon.values[${i}].device`, },\n            { name: 'Check Value', type: 'select', options: getTaskValues(`beacon.values[${i}].device`), var: `beacon.values[${i}].value` },\n            {\n                type: 'button',\n                value: 'remove',\n                click: () => {\n                    config.beacon.values.splice(i, 1);\n                    form.forceUpdate();\n                }\n            }];\n    });\n\n    config.server.values.forEach((trigger, i) => {\n        values[`${i}_name`] = [{\n            name: 'Name',\n            value: trigger.name,\n            type: 'string',\n            var: `server.values[${i}].name`,\n        }, {\n            name: 'Type',\n            value: trigger.type,\n            type: 'select',\n            options: [{ name: 'byte', value: 0 }],\n            var: `server.values[${i}].type`,\n        }, {\n            type: 'button',\n            value: 'remove',\n            click: () => {\n                config.server.values.splice(i, 1);\n                form.forceUpdate();\n            }\n        }];\n    });\n\n    const addDevice = () => {\n        config.beacon.values.push({\n            device: 'New Value',\n            value: 0,\n            idx: firstFreeKey(config.beacon.values),\n        });\n        form.forceUpdate();\n    }\n\n    const bytesLeft = () => {\n        let total = 0;\n        config.beacon.values.forEach(v => {\n            // get value length\n            total += 1;\n        });\n        const bl = 20-total;\n        return `${bl} bytes left`;\n    }\n    \n    return {\n        groups: {\n            params: {\n                name: 'General Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n                }\n            },\n            beacon: {\n                name: 'Bluetooth Beacon',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox' },\n                    type: { name: 'Type', type: 'select', options: ['name', 'custom']},\n                    ...beacon,\n                    btn: { name: bytesLeft, value: 'add device value', type: 'button', click: addDevice }\n                }\n            },\n            server: {\n                name: 'Bluetooth LE Device',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox' },\n                    name: { name: 'Name', type: 'string' },\n                    ...values,\n                }\n            }\n        },\n    }\n}\n\nconst firstFreeKey = ($array) => {\n  let i = 0;\n  while($array.find(e => e.idx == i)) i++;\n  return i;\n}\n\n// todo: changing protocol needs to update:\n// -- back to default (correct default)\n// -- field list \nexport class ConfigBluetoothPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`bluetooth`);\n        if (!this.config) {\n            this.config =  { enabled: false, server: { enabled: false, values: [] } };\n            settings.set('bluetooth', this.config);\n        }\n\n        if (!this.config.beacon) this.config.beacon = { values: [] };\n\n        this.addTrigger = () => {\n            this.config.server.values.push({\n                name: 'New Value',\n                type: 0,\n                idx: firstFreeKey(this.config.server.values),\n            });\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        \n        const formConfig = getFormConfig(this.config, this);\n        \n        return (\n            <div>\n                <Form config={formConfig} selected={this.config} />\n                <button type=\"button\" onClick={this.addTrigger}>Add Value</button>\n            </div>\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { ioPins } from \"../lib/pins\";\n\nexport const pins = () => {\n    return ioPins.getPins(['core', 'digital_in', 'digital_out']);\n};\n\nconst pinState = [\n    { name: 'Default', value: 0 },\n    { name: 'Low', value: 1 },\n    { name: 'High', value: 2 },\n    { name: 'Input', value: 3 },\n];\n\nconst freq = [\n    { name: '100kHz', value: 100000 },\n    { name: '400kHz', value: 400000 }\n];\n\nconst timerMode = [\n    { name: 'count up', value: 0 },\n    { name: 'count down', value: 1 },\n];\n\nconst dividerHelp = 'Divider for 80MHz clock. This will affect minimum and maximum value you can set your timer to.';\n\nconst getFormConfig = () => {\n    return {\n        groups: {\n            led: {\n                name: 'WiFi Status LED',\n                configs: {\n                    gpio: { name: 'GPIO --> LED', type: 'select', options: pins },\n                    inverse: { name: 'Inversed LED', type: 'checkbox' },\n                }\n            },\n            reset: {\n                name: 'Reset Pin',\n                configs: {\n                    pin: { name: 'GPIO <-- Switch', type: 'select', options: pins },\n                }\n            },\n            i2c: {\n                name: 'I2C Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox' },\n                    sda: { name: 'GPIO - SDA', type: 'select', options: pins },\n                    scl: { name: 'GPIO - SCL', type: 'select', options: pins },\n                    freq: { name: 'Frequency', type: 'select', options: freq }\n                }\n            },\n            spi: {\n                name: 'SPI Settings',\n                configs: {\n                    enabled: { name: 'Init SPI', type: 'checkbox' },\n                    sclk: { name: 'GPIO - SCLK', type: 'select', options: pins },\n                    mosi: { name: 'GPIO - MOSI', type: 'select', options: pins },\n                    miso: { name: 'GPIO - MISO', type: 'select', options: pins },\n                    cs: { name: 'GPIO - CS', type: 'select', options: pins },\n                }\n            },\n            sdcard: {\n                name: 'SD Card Settings',\n                help: 'Requires SPI enabled',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox' },\n                }\n            },\n            bluetooth: {\n                name: 'Bluetooth Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox' },\n                }\n            },\n            timer: {\n                name: 'Hardware Timer config',\n                help: dividerHelp,\n                configs: {\n                    t1: [\n                        { name: 'T0', type: 'checkbox', var: 'timer[0].enabled' },\n                        { name: 'divider', type: 'number', min: 2, max: 65535, var: 'timer[0].divider' },\n                        { name: 'mode', type: 'select', options: timerMode, var: 'timer[0].mode' }\n                    ], \n                    t2: [\n                        { name: 'T1', type: 'checkbox', var: 'timer[1].enabled' },\n                        { name: 'divider', type: 'number', min: 2, max: 65535, var: 'timer[1].divider' },\n                        { name: 'mode', type: 'select', options: timerMode, var: 'timer[1].mode' }\n                    ],\n                    t3: [\n                        { name: 'T2', type: 'checkbox', var: 'timer[2].enabled' },\n                        { name: 'divider', type: 'number', min: 2, max: 65535, var: 'timer[2].divider' },\n                        { name: 'mode', type: 'select', options: timerMode, var: 'timer[2].mode' }\n                    ],\n                    t4: [\n                        { name: 'T3', type: 'checkbox', var: 'timer[3].enabled' },\n                        { name: 'divider', type: 'number', min: 2, max: 65535, var: 'timer[3].divider' },\n                        { name: 'mode', type: 'select', options: timerMode, var: 'timer[3].mode' }\n                    ]\n                }\n            },\n            gpio: {\n                name: 'GPIO boot states',\n                configs: \n                    pins().map((pin) => {\n                        if (pin.disabled || pin.value > 40) return;\n                        const isTouchPin = (pin) => [4, 0, 2, 15, 13, 12, 14, 27, 33, 32].includes(pin);\n                        const pinStateOptions = [...pinState];\n                        if (isTouchPin(pin.value)) pinStateOptions.push({ name: 'Touch', value: 4 });\n                        return [\n                            { name: `Pin Mode GPIO-${pin.value}`, type: 'select', options: pinStateOptions, var: `gpio.${pin.value}.mode` }, \n                            { name: 'interrupt', type: 'checkbox', if: `gpio.${pin.value}.mode`, ifval:3, var: `gpio.${pin.value}.interrupt` },\n                            { name: 'threshold', type: 'number', if: `gpio.${pin.value}.mode`, ifval: 4, var: `gpio.${pin.value}.threshold` },\n                        ];\n                    }).filter(p => p),\n                    \n                    \n                \n            }\n        },\n    }\n}\n\nexport class ConfigHardwarePage extends Component {\n    render(props) {\n        let config = settings.get('hardware');\n        if (!config) {\n            config = {}\n            settings.set('hardware', {\n                i2c: {\n                    enabled: false,\n                },\n                timer: [\n                    { enabled: false, divider: 800 },\n                    { enabled: false, divider: 800 },\n                    { enabled: false, divider: 800 },\n                    { enabled: false, divider: 800 },\n                ],\n                spi: {\n                    enabled: false,\n                    sclk: 14,\n                    mosi: 15,\n                    miso: 2,\n                    cs: 13,\n                },\n                sdcard: { enabled: false }\n            });\n        }\n\n        return (\n            <Form config={getFormConfig()} selected={config} />\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\n\nconst ipBlockLevel = [\n    { name: 'Allow All', value: 0 },\n    { name: 'Allow Local Subnet', value: 1 },\n    { name: 'Allow IP Range', value: 2 },\n]\n\nlet ssids = ['loading...'];\n\nconst getFormConfig = (config, form) => {\n    const wifiScan = () => {\n        fetch('/wifi_scan').then(r => r.json()).then(r => {\n            ssids = r;\n            form.forceUpdate();\n        });\n    }\n    return {\n        groups: {\n            unit: {\n                name: 'General',\n                configs: {\n                    name: { name: 'Unit Name', type: 'string' },\n                    // nr: { name: 'Unit Number', type: 'number' },\n                    // appendToHost: { name: 'Append Unit Name to Hostname', type: 'checkbox' },\n                    view_password: { name: 'View Password', type: 'string', var: 'security.viewpass'},\n                    edit_password: { name: 'User Password', type: 'string', var: 'security.userpass'},\n                    admin_password: { name: 'Admin Password', type: 'string', var: 'security.pass'},\n                }\n            },\n            wifi: {\n                name: 'WiFi',\n                configs: {\n                    ssid: [\n                        { name: 'SSID', type: ssids.length ? 'select' : 'string', options: ssids, var: 'wifi.ssid' },\n                        { name: '', type: 'button', value: 'scan', click: wifiScan },\n                    ],\n                    pass: { name: 'Password', type: 'password' },\n                    ssid2: { name: 'Fallback SSID', type: 'string' },\n                    pass2: { name: 'Fallback Password', type: 'password' },\n                    wpaapmode: { name: 'WPA AP Mode Key:', type: 'string' },\n                }\n            },\n            ip: {\n                name: 'IP Settings',\n                configs: {\n                    enabled: { name: 'Static IP', type: 'checkbox', var: 'wifi.static_ip.enabled'},\n                    ip: { name: 'IP', type: 'ip', var: 'wifi.static_ip.ip' },\n                    gw: { name: 'Gateway', type: 'ip', var: 'wifi.static_ip.gw' },\n                    netmask: { name: 'Subnet', type: 'ip', var: 'wifi.static_ip.netmask' },\n                    dns: { name: 'DNS', type: 'ip', var: 'wifi.static_ip.dns' },\n                }\n            },\n            clientIP: {\n                name: 'Client IP Filtering',\n                configs: {\n                    blocklevel: { name: 'IP Block Level', type: 'select', options: ipBlockLevel, var: 'security.ip_block.enabled' },\n                    lowerrange: { name: 'Access IP lower range', type: 'ip', var: 'security.ip_block.start' },\n                    upperrange: { name: 'Access IP upper range', type: 'ip', var: 'security.ip_block.end' },\n                }\n            },\n            // sleep: {\n            //     name: 'Sleep Mode',\n            //     configs: {\n            //         awaketime: { name: 'Sleep awake time', type: 'number' },\n            //         sleeptime: { name: 'Sleep time', type: 'number' },\n            //         sleeponfailiure: { name: 'Sleep on connection failure', type: 'checkbox' },\n            //     }\n            // }\n        },\n    }\n}\n\nexport class ConfigPage extends Component {\n    constructor(props) {\n        super(props);\n\n        fetch('/wifi_scan').then(r => r.json()).then(r => {\n            ssids = r;\n            this.forceUpdate();\n        });\n    }\n    render(props) {\n       \n        const config = settings.get();\n        const formConfig = getFormConfig(config, this);\n\n        return (\n            <Form config={formConfig} selected={config} />\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { pins } from '../lib/pins';\n\nexport const types = [\n    { name: '- None -', value: 0 },\n    { name: 'Email', value: 1 },\n    { name: 'Buzzer', value: 2 },\n];\n\nconst lcdDriverOptions = [\n    { name: 'ILI9341', value: 0 },\n    { name: 'SSD1306', value: 1 },\n    { name: 'ST7789', value: 2 },\n    { name: 'NT35510', value: 3 },\n];\n\nconst touchDriverOptions = [\n    { name: 'XPT2046', value: 0 },\n    { name: 'FT5X06', value: 1 },\n]\n\nconst baseDefaults = {}\nconst getDefaults = {\n    0: () => ({}),\n    1: () => ({ // Email\n    }), 2: () => ({ // Buzzer\n    }),\n}\n\nconst setDefaultConfig = (type, config) => {\n    const defaults = {...baseDefaults, ...getDefaults[type]()};\n    Object.keys(defaults).forEach((key) => {\n        const val = defaults[key];\n        set(config.settings, key, val);\n    });\n}\n\nconst getFormConfig = (config, form) => {\n    const values = {};\n    \n    config.pages.forEach((trigger, i) => {\n        values[`${i}_name`] = [{\n            name: 'Name',\n            value: trigger.name,\n            type: 'string',\n            var: `pages[${i}].name`,\n        }, {\n            type: 'button',\n            value: 'remove',\n            click: () => {\n                config.pages.splice(i, 1);\n                form.forceUpdate();\n            }\n        }, {\n            type: 'button',\n            value: 'edit',\n            click: () => {\n                window.location.href='#config/lcdscreen/' + i;\n            }\n        }];\n    });\n\n    const widgets = {};\n    config.widgets.forEach((trigger, i) => {\n        widgets[`${i}_name`] = [{\n            name: 'Name',\n            value: trigger.name,\n            type: 'string',\n            var: `widgets[${i}].name`,\n        }, {\n            type: 'button',\n            value: 'remove',\n            click: () => {\n                config.widgets.splice(i, 1);\n                form.forceUpdate();\n            }\n        }, {\n            type: 'button',\n            value: 'edit',\n            click: () => {\n                window.location.href='#config/lcdwidget/' + i;\n            }\n        }];\n    });\n    \n    return {\n        groups: {\n            params: {\n                name: 'General Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n                    lcd_driver: { name: 'LCD Driver', type: 'select', options: lcdDriverOptions },\n                    touch_driver: { name: 'Touch Driver', type: 'select', options: touchDriverOptions },\n                    width: { name: 'Width', type: 'number' },\n                    height: { name: 'Height', type: 'number' },\n                }\n            },\n            pages: {\n                name: 'Pages',\n                configs: {\n                    ...values,\n                }\n            },\n            widgets: {\n                name: 'Widgets',\n                configs: {\n                    ...widgets,\n                }\n            }\n        },\n    }\n}\n\nconst firstFreeKey = ($array) => {\n  let i = 0;\n  while($array.find(e => e.idx == i)) i++;\n  return i;\n}\n\n// todo: changing protocol needs to update:\n// -- back to default (correct default)\n// -- field list \nexport class ConfigLCDPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`lcd`);\n        if (!this.config) {\n            this.config =  { enabled: false, params: { width: 320, height: 240 }, pages: [], widgets: [] };\n            settings.set('lcd', this.config);\n        }\n\n        this.addTrigger = () => {\n            this.config.pages.push({\n                name: 'New Value',\n                type: 0,\n                idx: firstFreeKey(this.config.pages),\n            });\n            this.forceUpdate();\n        }\n\n        this.addWidget = () => {\n            this.config.widgets.push({\n                name: 'New Widget',\n                type: 0,\n                items: [],\n                idx: firstFreeKey(this.config.widgets),\n            });\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        \n        const formConfig = getFormConfig(this.config, this);\n        \n        return (\n            <div>\n                <Form config={formConfig} selected={this.config} />\n                <button type=\"button\" onClick={this.addTrigger}>Add Page</button>\n                <button type=\"button\" onClick={this.addWidget}>Add Widget</button>\n            </div>\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { pins } from '../lib/pins';\nimport { LcdScreen } from './lcdscreen';\n\n\nexport class ConfigLCDScreenPage extends Component {\n    constructor(props) {\n        super(props);\n        \n        const screen = props.params[0];\n    }\n\n    render(props) {\n        \n\n        return (\n            <LcdScreen page={props.params[0]} />\n        );\n    }\n}\n\n","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { pins } from '../lib/pins';\nimport { LcdScreen } from './lcdscreen';\n\n\nexport class ConfigLCDWidgetPage extends Component {\n    constructor(props) {\n        super(props);\n        \n        const screen = props.params[0];\n    }\n\n    render(props) {\n        \n\n        return (\n            <LcdScreen widget={props.params[0]} />\n        );\n    }\n}\n\n","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\n\nexport class ConfigPluginsPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.plugins = settings.editor.get('ui_plugins');\n        if (!this.plugins) {\n            this.plugins = [\n                { name: 'IconSelector', enabled: false, url: 'http://localhost:8080/webpack/iconpicker.js' },\n                { name: 'AmCharts', enabled: false, url: 'http://localhost:8080/webpack/amcharts.js' },\n            ];\n            settings.editor.set('ui_plugins', this.plugins);\n        }\n\n        this.handleEnableToggle = (e) => {\n            settings.editor.set(e.currentTarget.dataset.prop, e.currentTarget.checked ? 1 : 0);\n        }\n\n        this.addDevice = () => {\n            const newPlugin = { id: firstFreeKey(plugins), idx: firstFreeKey(plugins, 'idx'), type: 0, name: 'new device', enabled: false, params: {}};\n            this.plugins.push(newPlugin);\n            this.forceUpdate();\n        }\n\n        this.deleteDevice = (i) => {\n            this.plugins.splice(i, 1);\n            this.forceUpdate();\n        }\n    }\n    render(props) {\n        return (\n            <div>\n                {/* <div><button type=\"button\" onClick={this.addDevice}>add device</button></div> */}\n            {this.plugins.map((p, i) => {\n                if (p === null) return (null);\n                const enabledProp = `ui_plugins[${i}].enabled`;\n                return (\n                    <div class=\"device\">\n                        <div class=\"body\">\n                            <div class=\"info\">\n                                {i+1}: <input type=\"checkbox\" defaultChecked={p.enabled} data-prop={enabledProp} onChange={this.handleEnableToggle}></input>\n                                &nbsp;&nbsp;{p.name} [{p.url}]\n                                {/* <a href={editUrl}>edit</a>\n                                <a onClick={() => {this.deleteDevice(i);}}>delete</a>\n                                <a onClick={() => {this.moveDevice(i, 'up');}}>up</a>\n                                <a onClick={() => {this.moveDevice(i, 'down');}}>down</a> */}\n                            </div>\n                        </div>\n                    </div>\n                    )\n            })}\n            </div>\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { getTaskValues, getTasks } from '../lib/utils';\n\nexport const types = [\n    { name: '- None -', value: 0 },\n    { name: 'Email', value: 1 },\n    { name: 'Buzzer', value: 2 },\n];\n\nconst compareOptions = [\n    { name: '=', value: 0 },\n    { name: '>', value: 1 },\n    { name: '<', value: 2 },\n    { name: '<>', value: 3 },\n]\n\nconst baseDefaults = {}\nconst getDefaults = {\n    0: () => ({}),\n    1: () => ({ // Email\n    }), 2: () => ({ // Buzzer\n    }),\n}\n\nconst setDefaultConfig = (type, config) => {\n    const defaults = {...baseDefaults, ...getDefaults[type]()};\n    Object.keys(defaults).forEach((key) => {\n        const val = defaults[key];\n        set(config.settings, key, val);\n    });\n}\n\nconst getFormConfig = (config, form) => {\n    const alerts = {};\n    \n    config.alerts.forEach((alert, i) => {\n        alerts[`${i}_name`] = [{\n            name: 'Name',\n            value: alert.name,\n            type: 'string',\n            var: `alerts[${i}].name`,\n        }, {\n            name: 'Description',\n            value: alert.description,\n            type: 'string',\n            var: `alerts[${i}].description`,\n        }, {\n            type: 'button',\n            click: () => {\n                config.alerts.splice(i, 1);\n                form.forceUpdate();\n            }\n        }];\n        alerts[`${i}_check`] = [\n            { name: 'Check Device', type: 'select', options: getTasks, var: `alerts[${i}].checks[0].device_id` },\n            //{ name: 'Check Value', type: 'select', options: getTaskValues, var: `alerts[${i}].checks[0].value_id` },\n        ];\n        alerts[`${i}_compare`] = [\n            { name: 'Comparison', type: 'select', options: compareOptions, var: `alerts[${i}].checks[0].compare` },\n            { name: 'Value', type: 'string', var: `alerts[${i}].checks[0].value` },\n        ];\n    });\n    \n    return {\n        groups: {\n            params: {\n                name: 'Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n                    ...alerts,\n                }\n            },\n        },\n    }\n}\n\nconst firstFreeKey = ($array) => {\n  let i = 0;\n  while($array.find(e => e.idx == i)) i++;\n  return i;\n}\n\n// todo: changing protocol needs to update:\n// -- back to default (correct default)\n// -- field list \nexport class ControllerAlertsPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`alerts`);\n        if (!this.config) {\n            this.config =  { enabled: false, alerts: [] };\n            settings.set('alerts', this.config);\n        }\n\n        this.addTrigger = () => {\n            this.config.alerts.push({\n                name: 'New Alert',\n                type: 0,\n                idx: firstFreeKey(this.config.alerts),\n            });\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        \n        const formConfig = getFormConfig(this.config, this);\n        \n        return (\n            <div>\n                <Form config={formConfig} selected={this.config} />\n                <button type=\"button\" onClick={this.addTrigger}>Add Alert</button>\n            </div>\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { set } from '../lib/helpers';\nimport { pins } from '../lib/pins';\n\nexport const types = [\n    { name: '- None -', value: 0 },\n    { name: 'Email', value: 1 },\n    { name: 'Buzzer', value: 2 },\n];\n\nconst baseDefaults = {}\nconst getDefaults = {\n    0: () => ({}),\n    1: () => ({ // Email\n    }), 2: () => ({ // Buzzer\n    }),\n}\n\nconst setDefaultConfig = (type, config) => {\n    const defaults = {...baseDefaults, ...getDefaults[type]()};\n    Object.keys(defaults).forEach((key) => {\n        const val = defaults[key];\n        set(config.settings, key, val);\n    });\n}\n\nconst getFormConfig = (config, form) => {\n    const triggers = {};\n    \n    config.triggers.forEach((trigger, i) => {\n        triggers[`${i}_name`] = [{\n            name: 'Name',\n            value: trigger.name,\n            type: 'string',\n            var: `triggers[${i}].name`,\n        }, {\n            name: 'Type',\n            value: trigger.type,\n            type: 'select',\n            options: [{ name: 'switch', value: 0 }, { name: 'dimmer', value: 1 }, { name: 'color', value: 2 }, { name: 'color2', value: 3 }, { name: 'color3', value: 4 }],\n            var: `triggers[${i}].type`,\n        }, {\n            type: 'button',\n            value: 'remove',\n            click: () => {\n                config.triggers.splice(i, 1);\n                form.forceUpdate();\n            }\n        }];\n    });\n    \n    return {\n        groups: {\n            params: {\n                name: 'Settings',\n                configs: {\n                    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n                    ...triggers,\n                }\n            },\n        },\n    }\n}\n\nconst firstFreeKey = ($array) => {\n  let i = 0;\n  while($array.find(e => e.idx == i)) i++;\n  return i;\n}\n\n// todo: changing protocol needs to update:\n// -- back to default (correct default)\n// -- field list \nexport class ControllerAlexaPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`alexa`);\n        if (!this.config) {\n            this.config =  { enabled: false, triggers: [] };\n            settings.set('alexa', this.config);\n        }\n\n        this.addTrigger = () => {\n            this.config.triggers.push({\n                name: 'New Trigger',\n                type: 0,\n                idx: firstFreeKey(this.config.triggers),\n            });\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        \n        const formConfig = getFormConfig(this.config, this);\n        \n        return (\n            <div>\n                <Form config={formConfig} selected={this.config} />\n                <button type=\"button\" onClick={this.addTrigger}>Add Trigger</button>\n            </div>\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\n\nexport class ControllersPage extends Component {\n    render(props) {\n        const controllers = settings.get('controllers');\n        const notifications = settings.get('notifications');\n        return (\n            <div> <h3>Controllers</h3>\n            <div>{controllers.map((c, i) => {\n                const editUrl = `#controllers/edit/${i}`;\n                return (\n                    <div class=\"device\">\n                        <span class=\"info\">\n                            {i+1}: {(c.enabled) ? (<b>&#x2713;</b>) : (<b>&#x2717;</b>)}\n                            {/* &nbsp;&nbsp;[{protocols.find(p => p.value === c.protocol).name}] PORT:{c.settings.port} HOST:{c.settings.host} */}\n                            <a href={editUrl}>edit</a>\n                        </span>\n                    </div>\n                    )\n            })}</div>\n            </div>\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\nimport { loadDevices } from '../lib/esp';\n\nexport class DashboardPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            devices: settings.get('plugins').filter(p => p && p.enabled),\n            deviceState: [],\n        }\n\n        this.renderDimmer = (device, deviceState) => {\n            \n\n            const rangeChange = (i) => async (e) => {\n                await fetch(`/plugin/${device.id}/state/${i}/${e.currentTarget.value}`);\n            };\n\n            return (\n            <div className='media device'>\n                <div class=\"media-left\">\n                    <p class=\"image is-64x64\">\n                        <span class={device.icon} />\n                    </p>\n                </div>\n                <div class=\"media-content\">\n                    <div class='info'>\n                        {device.name}\n                    </div>\n                </div>\n                <div class=\"media-right\">\n                    {device.state.values.map((v, i) => {\n                        const state = deviceState[v.name];\n                        return (\n                            <div>{v.name}: <input min='0' max='255' width='200px' type='range' value={state} onChange={rangeChange(i)}/></div>\n                        )\n                    })}\n                </div>\n            </div>);\n        };\n\n        this.renderSwitch = (device, deviceState) => {\n            const state = deviceState[device.state.values[0].name];\n            const buttonClick = async () => {\n                await fetch(`/plugin/${device.id}/state/0/${state ? 0 : 1}`);\n                // deviceState[device.state.values[0].name] = !state;\n                // this.forceUpdate(); \n            }\n            return (\n                <div className='media device'>\n                   <div class=\"media-left\">\n                        <p class=\"image is-64x64\">\n                            <span class={device.icon} />\n                        </p>\n                    </div>\n                    <div class=\"media-content\">\n                        <div class='info'>\n                            {device.name}\n                        </div>\n                    </div>\n                    <div class=\"media-right\">\n                        <button class=\"button\" onClick={buttonClick}>{!state ? 'ON' : 'OFF'}</button>\n                    </div>\n                </div>\n            );\n        };\n\n        this.renderSensor = (device, deviceState) => {\n            return (\n                <div className='media device'>\n                    <div class=\"media-left\">\n                        <p class=\"image is-64x64\">\n                            <span class={device.icon} />\n                        </p>\n                    </div>\n                    <div class=\"media-content\">\n                        <div class='info'>\n                            {device.name}\n                            <span>\n                                \n                            {device.state && device.state.values.map((value, i) => {\n                                if (deviceState[value.name] && deviceState[value.name].length) {\n                                    return (<div>{value.name}: {deviceState[value.name][0]} </div>)\n                                }\n                                return (<div>{value.name}: {deviceState[value.name]} </div>);\n                            })}\n                            </span>\n                        </div>\n                    </div>\n                </div>\n            );\n        };\n\n        this.renderRegulator = (device, deviceState) => {\n            const rangeChange = async (e) => {\n                const plugins = settings.get('plugins');\n                plugins.find(p => p.id == device.id).params.level = e.currentTarget.value;\n                await fetch(`/plugin/${device.id}/config/level/${e.currentTarget.value}`);\n            };\n\n            return (\n            <div className='media device'>\n                <div class=\"media-left\">\n                    <p class=\"image is-64x64\">\n                        <span class={device.icon} />\n                    </p>\n                </div>\n                <div class=\"media-content\">\n                    <div class='info'>\n                    {device.name}<span><input width='200px' type='range' value={device.params.level} onChange={rangeChange}/></span>\n                    </div>\n                </div>\n            </div>);\n        };\n\n        this.renderPWM = (device, deviceState) => {\n            const valueChange = async (e) => {\n                await fetch(`/plugin/${device.id}/state/${e.currentTarget.dataset.id}/${e.currentTarget.value}`);\n            };\n\n            return (\n            <div className='media device'>\n                <div class=\"media-left\">\n                    <p class=\"image is-64x64\">\n                        <span class={device.icon} />\n                    </p>\n                </div>\n                <div class=\"media-content\">\n                    <div class='info'>\n                    {device.name}\n                    <span>\n                    {device.state && device.state.values.map((value, i) => {\n                        return (<input width='200px' type='range' min=\"0\" max=\"4096\" value={deviceState[value.name]} data-id={i} onChange={valueChange}/>);\n                    })} \n                    </span>\n                    </div>\n                </div>\n            </div>);\n        };\n\n        this.renderDevice = (device, deviceState) => {\n            switch (device.type) {\n                case 1: return this.renderSwitch(device, deviceState);\n                case 2: case 3: case 4: case 6: case 12: case 20: case 21:\n                        return this.renderSensor(device, deviceState);\n                case 5: return this.renderRegulator(device, deviceState);\n                case 15: return this.renderDimmer(device, deviceState);\n                case 19: return this.renderPWM(device, deviceState);\n                \n                default:\n                    return (null);\n            }\n        };\n    }\n\n    render(props) {\n        return (\n            <div>\n                {this.state.devices.map((device, i) => {\n                    return this.renderDevice(device, this.state.deviceState[device.id] || {});\n                })}\n        \n                <div class=\"chart\"></div>\n            </div>\n        );\n    }\n\n    fetchDevices() {\n        loadDevices().then(deviceState => {\n            this.setState({ deviceState });\n            if (!this.shutdown)\n                setTimeout(() => {\n                    this.fetchDevices();\n                }, 1000);\n        });\n        \n    }\n\n    componentDidMount() {\n        this.fetchDevices();\n    }\n\n    componentWillUnmount() {\n        this.shutdown = true;\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { devices } from '../devices';\nimport { set } from '../lib/helpers';\n\nconst baseFields = { \n    enabled: { name: 'Enabled', type: 'checkbox', var: 'enabled' },\n    name: { name: 'Name', type: 'string', var: 'name' },\n    idx: { name: 'Idx', type: 'string', var: 'idx' },\n    icon: { name: 'Icon', type: 'string', var: 'icon', extra: { 'class': 'iconpicker' }},\n    lock: { name: 'Lock', type: 'checkbox', var: 'lock', adminOnly: true },\n};\n\nconst getFormConfig = (type, config) => {\n    const device = devices.find(d => d.value === parseInt(type));\n    if (!device) return null;\n\n    const dataAcquisitionForm = device.fields.data ? {\n        name: 'Data Acquisition',\n        configs: {\n            send1: { name: 'Send to Controller 1', type: 'checkbox', var: 'TaskDeviceSendData[0]', if: 'controllers[0].enabled' },\n            send2: { name: 'Send to Controller 2', type: 'checkbox', var: 'TaskDeviceSendData[1]', if: 'controllers[1].enabled' },\n            send3: { name: 'Send to Controller 3', type: 'checkbox', var: 'TaskDeviceSendData[2]', if: 'controllers[2].enabled' },\n            idx1: { name: 'IDX1', type: 'number', var: 'TaskDeviceID[0]', if: 'controllers[0].enabled' },\n            idx2: { name: 'IDX2', type: 'number', var: 'TaskDeviceID[1]', if: 'controllers[1].enabled' },\n            idx3: { name: 'IDX3', type: 'number', var: 'TaskDeviceID[2]', if: 'controllers[2].enabled' },\n            interval: { name: 'Interval', type: 'number', var: 'interval' },\n        }\n    }: {};\n       \n    return {\n        groups: {\n            settings: {\n                name: 'Device Settings',\n                configs: {\n                    type: { name: 'Type', type: 'select', var: 'type', options: devices },\n                    ...baseFields,\n                    \n                }\n            },\n            ...device.fields.getFields ? device.fields.getFields(config) : device.fields,\n            data: dataAcquisitionForm,\n            values: {\n                name: 'Values',\n                configs: {\n                    ...[...new Array(device.fields.vals || 0)].reduce((acc, x, i) => {\n                        acc[`value${i}`] = [\n                            { name: `Name ${i+1}`, var: `state.values[${i}].name`, type: 'string' }, \n                            { name: `Formula ${i+1}`, var: `state.values[${i}].formula`, type: 'string' },\n                        ];\n                        return acc;\n                    }, {})\n                }\n            }\n        },\n    }\n}\n\nconst setDefaultConfig = (type, config) => {\n    const device = devices.find(d => d.value === parseInt(type));\n    const fields = device.fields.getFields ? device.fields.getFields(config) : device.fields;\n\n    Object.keys(fields).forEach((groupKey) => {\n        const group = fields[groupKey];\n        if (!group.configs) return;\n        Object.keys(group.configs).forEach((configKey) => {\n            const cfg = group.configs[configKey];\n            const key = cfg.var || `${groupKey}.${configKey}`;\n            let val = 0;\n            if (cfg.type === 'string') val = '';\n            else if (cfg.type === 'ip') val = [0, 0, 0, 0];\n            set(config, key, val);\n        });\n    });\n    config.state = {};\n    if (device.fields.defaults) {\n        const defaultConfig = device.fields.defaults();\n        Object.keys(defaultConfig).forEach(key => {\n            const val = defaultConfig[key];\n            set(config, key, val);    \n        })\n    }\n    \n}\n\n// todo: changing protocol needs to update:\n// -- back to default (correct default)\n// -- field list \nexport class DevicesEditPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`plugins[${props.params[0]}]`);\n        this.state = {\n            type: this.config.type,\n        }\n    }\n\n    render(props) {\n        const formConfig = getFormConfig(this.state.type, this.config);\n        if (!formConfig) {\n            alert('something went wrong, cant edit device');\n            window.location.href='#devices';\n        }\n        formConfig.groups.settings.configs.type.onChange = (e) => {\n            this.setState({ type: e.currentTarget.value });\n            setDefaultConfig(e.currentTarget.value, this.config);\n        };\n        return (\n            <Form config={formConfig} selected={this.config} />\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\nimport { devices } from '../devices';\nimport { loadDevices } from '../lib/esp';\nimport { ICON_CLASS } from 'mini-toastr';\n\nconst user = \"admin\";\n\nconst firstFreeKey = (array, key = 'id') => {\n    let i = 0;\n    while(array.find(e => e && e[key] == i)) i++;\n    return i;\n}  \n\nconst ruleUsesDevice = (rule, deviceId) => {\n    return (rule.t === 'if/else' && rule.v[0].split('-')[0] == deviceId) ||\n    (rule.t === 'set state' && rule.v[0].split('-')[0] == deviceId) ||\n    (rule.t === 'get state' && rule.v[0].split('-')[0] == deviceId);\n}\n\nconst findRulesUsingDevice = (rules, deviceId, arr = []) => {\n    if (!rules) return arr;\n    rules.forEach(rule => {\n        if (ruleUsesDevice(rule, deviceId)){\n            arr.push(rule);\n        }\n        rule.o.forEach(o => {\n            //o.forEach(outRule => {\n                findRulesUsingDevice(o, deviceId, arr);\n            //});\n        });\n    });\n    return arr;\n}\n\nconst deleteRulesUsingDevice = (rules, deviceId) => {\n    if (!rules) return;\n    for( var i = rules.length-1; i>=0; i--){\n        if (ruleUsesDevice(rules[i], deviceId)) rules.splice(i, 1);\n    }\n    rules.forEach((rule, i) => {\n        rule.o.forEach(o => {\n            //o.forEach(outRule => {\n                deleteRulesUsingDevice(o, deviceId);\n            //});\n        });\n    });\n}\n\nexport class DevicesPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            devices: [],\n        }\n\n        this.handleEnableToggle = (e) => {\n            settings.set(e.currentTarget.dataset.prop, e.currentTarget.checked ? 1 : 0);\n        }\n\n        this.addDevice = () => {\n            const plugins = settings.settings.plugins;\n            const empty = plugins.findIndex(e => e === null);\n            const newPlugin = { id: firstFreeKey(plugins), idx: firstFreeKey(plugins, 'idx'), type: 0, name: 'new device', enabled: false, params: {}};\n            if (empty !== -1) plugins[empty] = newPlugin;\n            else plugins.push(newPlugin);\n            window.location.hash = `#devices/edit/${empty === -1 ? plugins.length - 1 : empty}`;\n        }\n\n        this.deleteDevice = (i) => {\n            const elementsUsingDevice = findRulesUsingDevice(settings.rules, i);\n            let shouldDelete = false;\n            if (elementsUsingDevice.length) {\n                shouldDelete = confirm(\"The device you are trying to delete is used in Automation. Deleting it will remove all automation nodes refering to it.\\nAre you sure you want to continue ?\");\n            } else {\n                shouldDelete = confirm(\"Are you sure you want to delete the plugin ?\");\n            }\n            if (shouldDelete) {\n                deleteRulesUsingDevice(settings.rules, i);\n                settings.settings.plugins.splice(i, 1);\n                this.forceUpdate();\n            }\n        }\n\n        this.moveDevice = (i, direction = 'up') => {\n            const plugins = settings.settings.plugins;\n            const p1 = plugins[i];\n            if (direction === 'up') {\n                if (i - 1 < 0) return;\n                const p2 = plugins[i - 1];\n                plugins[i - 1] = p1;\n                plugins[i] = p2;\n            } else {\n                if (i + 1 > plugins.length) return;\n                const p2 = plugins[i + 1];\n                plugins[i + 1] = p1;\n                plugins[i] = p2;\n            }\n            this.forceUpdate();\n\n        }\n    }\n    render(props) {\n        let tasks = settings.get('plugins');\n        if (!tasks) return;\n        return (\n            <div>\n                <div class=\"level\">\n                    <div class=\"level-left\"></div>\n                    <div class=\"level-right\">\n                        <button type=\"button\" class=\"level-item button\" onClick={this.addDevice}>add device</button>\n                    </div>    \n                </div>\n            {tasks.map((task, i) => {\n                if (task === null) return (null);\n                if (settings.userName !== 'admin' && task.lock) return (null);\n                const editUrl = `#devices/edit/${i}`;\n                const device = devices.find(d => d.value === task.type);\n                const deviceType = device ? device.name : '--unknown--';\n                const enabledProp = `plugins[${i}].enabled`;\n                const deviceLive = this.state.devices[i];\n                const vals = deviceLive ? Object.keys(deviceLive).map(key => ({ name: key, value: deviceLive[key]})) : [];\n                vals.forEach(v => {\n                    if (v.value === true) v.value = 1;\n                    if (v.value === false) v.value = 0;\n                });\n                const iconClass = `${task.icon}`;\n                return (\n                    <div class=\"media device\">\n                        <div class=\"media-left\">\n                            <p class=\"image is-64x64\">\n                                <span class={iconClass} />\n                            </p>\n                        </div>\n                        <div class=\"media-content\">\n                            <div class=\"info\">\n                                {i+1}: <input type=\"checkbox\" defaultChecked={task.enabled} data-prop={enabledProp} onChange={this.handleEnableToggle}></input>\n                                &nbsp;&nbsp;{task.name} [{deviceType}]\n                            </div>\n                            <div class=\"vars\">\n                            {vals.map(v => {\n                                    return (<span>{v.name}: {v.value} </span>);\n                                })}\n                            </div>\n                        </div>\n                        <div class=\"media-right\">\n                            <a href={editUrl}>edit</a>\n                            <a onClick={() => {this.deleteDevice(i);}}>delete</a>\n                            <a onClick={() => {this.moveDevice(i, 'up');}}>up</a>\n                            <a onClick={() => {this.moveDevice(i, 'down');}}>down</a>\n                        </div>\n                    </div>\n                    )\n            })}\n            </div>\n        );\n    }\n\n    fetchDevices() {\n        loadDevices().then(devices => {\n            this.setState({ devices });\n            if (!this.shutdown)\n                setTimeout(() => {\n                    this.fetchDevices();\n                }, 1000);\n        });\n        \n    }\n\n    componentDidMount() {\n        this.fetchDevices();\n    }\n\n    componentWillMount() {\n        this.shutdown = true;\n    }\n}","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\nimport { saveConfig } from '../lib/config';\nimport { loader } from '../lib/loader';\n\n\nexport class DiffPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.diff = settings.diff();\n        this.editorDiff = settings.editor.diff();\n\n        this.applyChanges = () => {\n            this.diff.map(d => {\n                const input = this.form.elements[d.path];\n                if (!input.checked) {\n                    settings.set(input.name, d.val1);\n                }\n            });\n            settings.apply();\n\n            this.editorDiff.map(d => {\n                const input = this.form.elements[d.path];\n                if (!input.checked) {\n                    settings.editor.set(input.name, d.val1);\n                }\n            });\n            settings.editor.apply();\n\n            const rulesChanged = this.editorDiff.filter(r => r.path.includes('rules')).length;\n            \n            loader.show();\n            saveConfig(this.diff.length, this.editorDiff.length, rulesChanged).then(() => {\n                if (this.diff.length) window.location.href='#config/reboot';\n                else if (rulesChanged) window.location.href='#rules';\n                else {\n                    window.location.href='#devices';\n                    window.location.reload();\n                }\n            });\n            \n        };\n    }\n    \n\n    render(props) {\n        return (\n            <div>\n                <form ref={ref => this.form = ref}>\n                    {this.diff.map(change => {\n                        return (\n                            <div>\n                                <b>{change.path}</b>: before: <b>{JSON.stringify(change.val1)}</b> now:<b>{JSON.stringify(change.val2)}</b> <input name={change.path} type='checkbox' defaultChecked={true} />\n                            </div>\n                        )\n                    })}\n\n                    {this.editorDiff.map(change => {\n                        return (\n                            <div>\n                                <b>{change.path}</b>: before: <b>{JSON.stringify(change.val1)}</b> now:<b>{JSON.stringify(change.val2)}</b> <input name={change.path} type='checkbox' defaultChecked={true} />\n                            </div>\n                        )\n                    })}\n                    <button type=\"button\" onClick={this.applyChanges}>APPLY</button>\n                </form>\n            </div>\n            \n        );\n    }\n}","import { h, Component } from 'preact';\n\nconst devices = [\n    { nr: 1, name: 'Senzor', type: 'DH11', vars: [{ name: 'Temperature', formula: '', value: 21 }, { name: 'Humidity', formula: '', value: 65 }] },\n    { nr: 1, name: 'Humidity', type: 'Linear Regulator', vars: [{ name: 'Output', formula: '', value: 1 }] }\n]\n\nexport class DiscoverPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            devices: []\n        }\n\n        this.scani2c = () => {\n            fetch('/i2c_scan').then(r => r.json()).then(r => {\n\n                this.setState({ devices: Object.keys(r).map(k => `${k} : ${r[k] ? 'TRUE' : ''}`) });\n            });\n        }\n\n        this.scanwifi = () => {\n            fetch('/wifi_scan').then(r => r.json()).then(r => {\n                this.setState({ devices: r });\n            });\n        }\n    }\n\n    render(props) {\n        return (\n            <div>\n                <div>\n                    <button type=\"button\" onClick={this.scani2c}>Scan I2C</button>\n                    <button type=\"button\" onClick={this.scanwifi}>Scan WiFi</button>\n                </div>\n                <table>{this.state.devices.map(device => {\n                    return (\n                        <tr class=\"device\">\n                            <td class=\"info\">\n                                {JSON.stringify(device)}\n                            </td>\n                        </tr>\n                        )\n                })}</table>\n            </div>\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\n\nconst formConfig = {\n    onSave: (vals) => { console.log(vals); },\n    groups: {\n        keep: {\n            name: 'Settings to keep',\n            configs: {\n                unit: { name: 'Keep Unit/Name', type: 'checkbox' },\n                wifi: { name: 'Keep WiFi config', type: 'checkbox' },\n                network: { name: 'Keep network config', type: 'checkbox' },\n                ntp: { name: 'Keep NTP/DST config', type: 'checkbox' },\n                log: { name: 'Keep log config', type: 'checkbox' },\n            }\n        },\n        load: {\n            name: 'Pre-defined configurations',\n            configs: {\n                config: { name: 'Pre-Defined config', type: 'select', options: [\n                    { name: 'default', value: 0 },\n                    { name: 'Sonoff Basic', value: 1 },\n                    { name: 'Sonoff TH1x', value: 2 },\n                    { name: 'Sonoff S2x', value: 3 },\n                    { name: 'Sonoff TouchT1', value: 4 },\n                    { name: 'Sonoff TouchT2', value: 5 },\n                    { name: 'Sonoff TouchT3', value: 6 },\n                    { name: 'Sonoff 4ch', value: 7 },\n                    { name: 'Sonoff POW', value: 8 },\n                    { name: 'Sonoff POW-r2', value: 9 },\n                    { name: 'Shelly1', value: 10 },\n                ] },\n            }\n        },\n    },\n}\n\nconst config = {}\n\nexport class FactoryResetPage extends Component {\n    render(props) {\n        formConfig.onSave = (config) => {\n            const data = new FormData();\n            if (config.keep.unit) data.append('kun', 'on');\n            if (config.keep.wifi) data.append('kw', 'on');\n            if (config.keep.network) data.append('knet', 'on');\n            if (config.keep.ntp) data.append('kntp', 'on');\n            if (config.keep.log) data.append('klog', 'on');\n            data.append('fdm', config.load.config);\n            data.append('savepref', 'Save Preferences');\n            fetch('/factoryreset', {\n                method: 'POST',\n                body: data \n            }).then(() => {\n                data.delete('savepref');\n                data.append('performfactoryreset', 'Factory Reset');\n                fetch('/factoryreset', {\n                    method: 'POST',\n                    body: data\n                }).then(() => {\n                    setTimeout(() => {\n                        window.location.href=\"#devices\";\n                    }, 5000);\n                }, e => {\n\n                })\n            }, e => {\n\n            });\n        };\n        return (\n            <Form config={formConfig} selected={config} />\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { DropTarget } from 'preact-dnd'\nimport { WidgetConnection } from './nodes/widget_connection';\n\nclass DropPageComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: this.props.rules.nodes,\n            connections: this.props.rules.connections,\n        }\n    }\n\n    onClickHandler = (item) => {\n        this.props.onSelect(item);\n    }\n\n    onMoveHandler = (e, item) => {\n        const x = roundToGrid(e.x - this.position.left + this.el.scrollLeft, this.props.grid);\n        const y = roundToGrid(e.y - this.position.top + this.el.scrollTop, this.props.grid);\n\n        const existingItem = this.state.items.find(i => i.id === item.id);\n        existingItem.position.x = x;\n        existingItem.position.y = y;\n        this.forceUpdate();\n    }\n\n    onRightClickHandler = (item) => {\n        for (let i = this.state.connections.length - 1; i >= 0; i--) {\n            const c = this.state.connections[i];\n            if (!c.to || c.to.startsWith(`node-${item.id}-`) || c.from.startsWith(`node-${item.id}-`)) {\n                this.state.connections.splice(i, 1);\n            }\n        }\n       \n        const index = this.state.items.findIndex(i => i.id == item.id);\n        this.state.items.splice(index, 1);\n        this.forceUpdate();\n    }\n\n    onArrow = (from, to) => {\n        let c = this.state.connections.find(c => c.from == from.id);\n        if (!c) {\n            c = { from: from.id, to };\n            this.state.connections.push(c);\n        } else {            \n            c.to = to;\n            if (to === null) {\n                const index = this.state.connections.findIndex(c => c.from == from.id);\n                this.state.connections.splice(index, 1);\n            }\n        }\n\n        this.forceUpdate();\n    }\n\n    findNextId() {\n        let x = 0;\n        this.state.items.forEach(i => { if (i.id > x) x = i.id; });\n        return x + 1;\n    }\n\n    renderItem = (item, W) => {\n\n        const itemStyle = {\n            position: 'absolute',\n            top: `${item.position.y}px`,\n            left: `${item.position.x}px`\n        };\n        \n        return (\n            <div style={itemStyle}>\n                <W \n                    item={item} \n                    onClickHandler={this.onClickHandler} \n                    onRightClickHandler={this.onRightClickHandler} \n                    onMouseMove={this.onMoveHandler}\n                    onArrow={this.onArrow}\n                />    \n            </div>\n        )\n    }\n\n    renderConnection = (c) => {\n        const fel = document.getElementById(c.from);\n        if (!fel) return;\n        const frect = fel.getBoundingClientRect();\n        const x0 = frect.left + frect.width / 2 - this.position.left;\n        const y0 = frect.top + frect.height - this.position.top;\n\n        let x1, y1;\n        if (c.to && c.to.x) {\n            x1 = c.to.x - this.position.left;\n            y1 = c.to.y - this.position.top;\n        } else if (c.to) {\n            const tel = document.getElementById(c.to);\n            if (!tel) return;\n            const trect = tel.getBoundingClientRect();\n            x1 = trect.left + trect.width / 2 - this.position.left;\n            y1 = trect.top - this.position.top;\n        } else {\n            return (null);\n        }\n        \n        return (<WidgetConnection fill=\"none\" color=\"#000000\" from={[x0, y0]} to={[x1, y1]} />);\n    }\n\n    render() {\n        const { isOver, connectDropTarget } = this.props;\n\n        if (this.el) this.position = this.el.getBoundingClientRect();\n\n        return connectDropTarget(\n            <div id={this.props.id} style={this.props.style} ref={el => { this.el = el; }}>\n                {this.el && this.state.items.map(item => {\n                    return this.renderItem(item, this.props.getComponent(item));\n                })}\n                <div>\n                    {this.el && this.state.connections.map(c => {\n                        return this.renderConnection(c);\n                    })}\n                </div>\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        this.forceUpdate();\n    }\n}\n\nconst roundToGrid = (num, grid) => {\n    let down = num - num % grid;\n    let up = num + grid - num % grid;\n    return Math.abs(num - up) < num - down ? up : down;\n}\n\nconst target = {\n    drop(props, monitor, component) {\n        const item = monitor.getItem();\n        const offset = monitor.getClientOffset();\n\n        const x = roundToGrid(offset.x - component.position.left + component.el.scrollLeft, component.props.grid);\n        const y = roundToGrid(offset.y - component.position.top + component.el.scrollTop, component.props.grid);\n        if (!item.id) {\n            component.state.items.push({\n                id: component.findNextId(),\n                name: item.name,\n                group: item.group,\n                params: item.getDefault ? item.getDefault() : {},\n                position: { x, y },\n            });\n        }\n    },\n}\n  \nfunction collect(connect, monitor) {\n    return {\n        connectDropTarget: connect.dropTarget(),\n        isOver: monitor.isOver(),\n    }\n}\n\n\nexport const DropPage = DropTarget('box', target, collect)(DropPageComponent);\n","import { h, Component } from 'preact';\nimport { Form } from '../../components/form';\n\nexport class Controlbox extends Component {\n    render(props) {\n        const widget = props.item && this.props.nodes.find(w => w.name == props.item.name);\n\n        if (widget && widget.getEditorComponent) {\n            const EditorComponent = widget.getEditorComponent();\n            return (<div style={this.props.style}><EditorComponent item={props.item} /></div>);\n        } else if (widget && widget.getEditorConfig) {\n            return (<div style={this.props.style}><Form config={widget.getEditorConfig()} selected={props.item} /></div>);\n        }\n        return (null);\n    }\n}\n\n","import { h, Component } from 'preact';\nimport { DragDropContext } from 'preact-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { Page } from './page';\n\n\nexport class FlowEditorComponent extends Component {\n    render(props) {\n        return (\n            <Page devices={this.props.devices} rules={this.props.rules} />\n        );\n    }\n}\n\nexport const FlowEditor = DragDropContext(HTML5Backend)(FlowEditorComponent);\n\n","import { Component, h } from \"preact\";\nimport { generateWidgetComponent, getString, toByteArray } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst fireeventNode = {\n    group: 'ACTION',\n    name: 'fire event',\n    title: 'FIRE EVENT',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const events = Object.keys(settings.events).map((k, i) => {\n            return { name: k, value: i };\n        });\n\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'FIRE EVENT',\n                    configs: {\n                        event: { name: 'Event', type: 'select', options: events },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getText: (item) => {\n        const events = Object.keys(settings.events).map((k, i) => {\n            return { name: k, value: i };\n        });\n        const { event } = item.params;\n        const eventName = events.find(e => e.value === event).name;\n        return `event ${eventName}`;\n    },\n\n    toDsl: (item) => {\n        const { event } = item.params;\n        return [`\\xF2${getString(toByteArray(event,2))}\\x00`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(fireeventNode);\n\nexport { fireeventNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\nimport { getTasks, getTaskValues, getTaskValueType } from \"../../../../lib/utils\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst targetOptions = [\n    { name: 'state', value: 0 },\n    { name: 'x', value: 1 },\n    { name: 'y', value: 2 },\n];\n\nconst getStateNode = {\n    group: 'ACTION',\n    name: 'getstate',\n    title: 'GET STATE',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'Get State',\n                    configs: {\n                        device: { name: 'Check Device', type: 'select', options: getTasks },\n                        value: { name: 'Check Value', type: 'select', options: getTaskValues('params.device') },\n                        target: { name: 'Read to', type: 'select', options: targetOptions },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getText: (item) => {\n        const { device, value, target } = item.params;\n        if (device === undefined || value === undefined) return 'click to configure';\n        const deviceName = settings.get(`plugins[${device}].name`);\n        const valueName = settings.get(`plugins[${device}].state.values[${value}].name`);\n        const targetName = targetOptions.find(t => t.value == target).name;\n        return `${targetName} = ${deviceName}#${valueName}`;\n    },\n\n    toDsl: (item) => {\n        const { device, value, target } = item.params;\n        return [`\\xF7${String.fromCharCode(device)}${String.fromCharCode(target)}${String.fromCharCode(value)}\\x01$`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(getStateNode);\n\nexport { getStateNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\n\nconst httpNode = {\n    group: 'ACTION',\n    name: 'HTTP',\n    title: 'HTTP',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'Set State',\n                    configs: {\n                        url: { name: 'Url', type: 'string', var: 'params.url' },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        url: ''\n    }),\n\n    getText: (item) => {\n        const { url } = item.params;\n        return `http ${url}`;\n    },\n\n    toDsl: (item) => {\n        const { url } = item.params;\n        return [`\\xEF${url}\\x00`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(httpNode);\n\nexport { httpNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\n\nconst mqttNode = {\n    group: 'ACTION',\n    name: 'MQTT',\n    title: 'MQTT',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'MQTT',\n                    configs: {\n                        topic: { name: 'Topic', type: 'string', var: 'params.topic' },\n                        command: { name: 'Command', type: 'string', var: 'params.command' },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        url: ''\n    }),\n\n    getText: (item) => {\n        const { url } = item.params;\n        return `mqtt ${url}`;\n    },\n\n    toDsl: (item) => {\n        const { url } = item.params;\n        return [`\\xEF${url}\\x00`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(mqttNode);\n\nexport { mqttNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent, getString, toByteArray } from \"../helper\";\nimport { getTasks, getTaskValues, getTaskValueType } from \"../../../../lib/utils\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst units = [\n    { name: 'milliseconds', value: 0 },\n    { name: 'seconds', value: 1 },\n    { name: 'minutes', value: 2 },\n    { name: 'hours', value: 3 },\n    { name: 'days', value: 4 },\n];\n\nconst setHwTimerNode = {\n    group: 'ACTION',\n    name: 'sethwtimer',\n    title: 'SET HW TIMER',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n\n        const getTimers = () => {\n            return settings.get('hardware.timer', []).map((t, i) => ({ name: `timer_${i}`, value: i, enabled: t.enabled })).filter(t => t.enabled);\n        };\n\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'Set Hw Timer',\n                    configs: {\n                        timer: { name: 'Timer', type: 'select', options: getTimers },\n                        val_type: { name: 'Value', type: 'select', options: [{ name: 'state', value: 0 }, { name: 'custom', value: 255 }] },\n                        value: { name: 'Value', if: 'params.val_type', ifval: 255, type: 'number', min: 0, max: 43243422, },\n                        unit: { name: 'Unit', type: 'select', options: units },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getText: (item) => {\n        const { timer, value, unit, val_type } = item.params;\n        const unitObj = units.find(v => v.value == unit) || {};\n        const unitName = unitObj.name || '?';\n        const valueStr = val_type ? 'state' : `${value}${unitName}`;\n        return `set hwtimer${timer} = ${valueStr}`;\n    },\n\n    toDsl: (item) => {\n        const { timer, value, unit, val_type } = item.params;\n        const timerCfg = settings.get(`hardware.timer.${timer}`);\n        const freq = BigInt(80000 / timerCfg.divider);\n        let time = BigInt(value);\n        \n        switch (unit) {\n            case 1: time *= BigInt(1000); break;\n            case 2: time *= BigInt(1000*60); break;\n            case 3: time *= BigInt(1000*60*60); break;\n            case 4: time *= BigInt(1000*60*60*24); break;\n        }\n\n        const wait = val_type ? BigInt(43243423) : freq * time;\n        \n        return [`\\xE2${String.fromCharCode(timer)}${getString(toByteArray(wait,8))}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(setHwTimerNode);\n\nexport { setHwTimerNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\nimport { getTasks, getTaskValues, getTaskValueType, getDeviceById } from \"../../../../lib/utils\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst compareValue = (type) => {\n    const checkValue = getTaskValueType('params.device', 'params.value', type);\n    return (config) => {\n        if (config.params.val_type != 255) return false;\n        return checkValue(config);\n    }\n}\n\nconst setStateNode = {\n    group: 'ACTION',\n    name: 'setstate',\n    title: 'SET STATE',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const isBit = compareValue(4);\n        const isByte = compareValue(0);\n        const isInt16 = compareValue(1);\n        const isInt32 = compareValue(2);\n        const isString = compareValue(3);\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'Set State',\n                    configs: {\n                        device: { name: 'Check Device', type: 'select', options: getTasks },\n                        value: { name: 'Check Value', type: 'select', options: getTaskValues('params.device') },\n                        val_type: { name: 'Value', type: 'select', options: [{ name: 'state', value: 0 }, { name: 'custom', value: 255 }], var: 'params.val_type' },\n                        val_string: { name: 'String', if: isString, type: 'string', var: 'params.val' },\n                        val_bit: { name: 'Bit', if: isBit, type: 'select', options: [0, 1], var: 'params.val' },\n                        val_byte: { name: 'Byte', if: isByte, type: 'number', min: 0, max: 255, var: 'params.val' },\n                        val_int: { name: 'Int16', if: isInt16, type: 'number', min: 0, max: 65535, var: 'params.val' },\n                        val_decimal: { name: 'Decimal', if: isInt32, type: 'number', min: 0, max: 4294967295, var: 'params.val' },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        val_type: 0,\n        val: 0,\n    }),\n\n    getText: (item) => {\n        const { device, value, val } = item.params;\n        if (device === undefined || value === undefined) return 'click to configure';\n        const d = getDeviceById(device)\n        const deviceName = d ? d.name : '';\n        const valueName = d ? d.state.values[value].name : '';\n        return `set ${deviceName}#${valueName} = ${val}`;\n    },\n\n    toDsl: (item) => {\n        const { device, value, val, val_type } = item.params;\n        const v = val_type === 0 ? 255 : val;\n        // F0 DEVICE_ID VAR_ID LENGTH VALUE (length = 1 & value = 255: copy state)\n        return [`\\xF0${String.fromCharCode(device)}${String.fromCharCode(value)}\\x01${String.fromCharCode(v)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(setStateNode);\n\nexport { setStateNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent, getString, toByteArray } from \"../helper\";\n\nconst settimerNode = {\n    group: 'ACTION',\n    name: 'settimer',\n    title: 'SET TIMER',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const cfg = {\n            groups: {\n                params: {\n                    name: 'SET TIMER',\n                    configs: {\n                        timer: { name: 'Timer', type: 'select', options: [0, 1, 2, 3, 4, 5, 6, 7] },\n                        value: { name: 'Value', type: 'number', min:0, max: 255 },\n                    }\n                }\n            }\n        };\n\n        return cfg;\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        url: ''\n    }),\n\n    getText: (item) => {\n        const { timer, value } = item.params;\n        return `timer${timer} = ${value}`;\n    },\n\n    toDsl: (item) => {\n        const { timer, value } = item.params;\n        return [`\\xF3${String.fromCharCode(timer)}${getString(toByteArray(value,2))}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(settimerNode);\n\nexport { settimerNode };","import { settings } from \"../../../lib/settings\";\nimport { generateWidgetComponent } from \"./helper\";\nimport { getTaskValues, getTaskValueType, getDeviceById } from \"../../../lib/utils\";\n\nconst eqOptions = ['changed', '=', '<', '>', '<=', '>=', '!='];\n\nconst compareValue = (type) => {\n    const checkValue = getTaskValueType('params.device', 'params.value', type);\n    return (config) => {\n        if (config.params.eq == '') return false;\n        return checkValue(config);\n    }\n}\n\nconst getDeviceNode = (device) => {\n    const deviceNode = {\n        group: 'TRIGGERS',\n        name: device.id,\n        title: device.name,\n        inputs: 0,\n        outputs: 1,  \n        getEditorConfig: () => {\n            const isBit = compareValue(4);\n            const isByte = compareValue(0);\n            const isInt16 = compareValue(1);\n            const isInt32 = compareValue(2);\n            const isString = compareValue(3);\n    \n            const cfg = {\n                groups: {\n                    params: {\n                        name: device.name,\n                        configs: {\n                            value: { name: 'Check Value', type: 'select', options: getTaskValues('params.device') },\n                            eq: { name: 'Check', type: 'select', options: eqOptions },\n                            val_string: { name: 'String', if: isString, type: 'string', var: 'params.val' },\n                            val_bit: { name: 'Bit', if: isBit, type: 'select', options: [0, 1], var: 'params.val' },\n                            val_byte: { name: 'Byte', if: isByte, type: 'number', min: 0, max: 255, var: 'params.val' },\n                            val_int: { name: 'Int16', if: isInt16, type: 'number', min: 0, max: 65535, var: 'params.val' },\n                            val_decimal: { name: 'Decimal', if: isInt32, type: 'number', min: 0, max: 4294967295, var: 'params.val' },\n                        }\n                    }\n                }\n            };\n    \n            return cfg;\n        },\n\n        getDefault: () => ({\n            device: device.id,\n            value: 0,\n            eq: '',\n        }),\n    \n        getComponent: () => {\n            return component;\n        },\n    \n        getText: (item) => {\n            const { value, eq, val } = item.params;\n            \n            const d = getDeviceById(device.id);\n            const valueName = d ? d.state.values[value].name : '';\n        \n            return `on ${device.name}#${valueName} ${eq} ${val}`;\n        },\n    \n        toDsl: (item) => {\n            const { value, eq, val } = item.params;\n            const comp = eqOptions.findIndex(o => o == eq);\n            const comparison = eq === 'changed' ? `\\x00\\x01` : `${String.fromCharCode(comp)}\\x01${String.fromCharCode(val)}`;\n            return [`\\xFF\\xFE\\x00\\xFF\\x00${String.fromCharCode(device.id)}${String.fromCharCode(value)}${comparison}%%output%%\\xFF`]; \n        } ,     \n    }\n    \n    const component = generateWidgetComponent(deviceNode);\n    \n    return deviceNode;\n}\n\n\nexport const getDeviceNodes = () => {\n    return settings.get('plugins', []).map(p => getDeviceNode(p)).flat();\n}","import { Component, h } from \"preact\";\nimport { Widget } from \"./widget\";\n\n export const generateWidgetComponent = (node) => {\n    return class WidgetComponent extends Widget {\n        constructor(props) {\n            super(props);\n            this.node = node;\n        }\n\n        renderComponent() {\n            return (<span>{node.getText(this.props.item)}</span>)\n        }\n    }\n }\n\nexport function toByteArray(x, n) {\n    var hexString = x.toString(16);\n    if(hexString.length % 2 > 0) hexString = \"0\" + hexString;\n    var byteArray = [];\n    for(var i = 0; i < hexString.length; i += 2) {\n        byteArray.push(parseInt(hexString.slice(i, i + 2), 16));\n    }\n    while (byteArray.length < n) byteArray = [0, ...byteArray];\n    return byteArray;\n}\n\nexport const getString = (bytes) => {\n    let res = '';\n    for (let i = bytes.length - 1; i >= 0; i--) {\n        res += String.fromCharCode(bytes[i]);\n    }\n    return res;\n};","import { setStateNode } from \"./actions/set_state\";\nimport { ifElseNode } from \"./logic/if_else\";\nimport { timerNode } from \"./triggers/timer\";\nimport { eventNode } from \"./triggers/event\";\nimport { clockNode } from \"./triggers/clock\";\nimport { bootNode } from \"./triggers/boot\";\nimport { hwtimerNode } from \"./triggers/hw_timer\";\nimport { hwinterruptNode } from \"./triggers/hw_interrupt\";\nimport { touchNode } from \"./triggers/touch\";\nimport { bluetoothNode } from \"./triggers/bluetooth\";\nimport { alexaNode } from \"./triggers/alexa\";\nimport { delayNode } from \"./logic/delay\";\nimport { mqttNode } from \"./actions/mqtt\";\nimport { httpNode } from \"./actions/http\";\nimport { fireeventNode } from \"./actions/fire_event\";\nimport { settimerNode } from \"./actions/set_timer\";\nimport { getStateNode } from \"./actions/get_state\";\nimport { setHwTimerNode } from \"./actions/set_hw_timer\";\nimport { mathNode } from \"./logic/math\";\nimport { getDeviceNodes } from \"./device\";\nimport { loggingNode } from \"./logic/logging\";\n\nexport const getNodes = () =>([\n    ...getDeviceNodes(),\n    timerNode, hwtimerNode, hwinterruptNode, touchNode, bluetoothNode, alexaNode,\n    eventNode, clockNode, bootNode, \n    ifElseNode, delayNode, mathNode, loggingNode,\n    getStateNode, setStateNode, fireeventNode, settimerNode, setHwTimerNode,mqttNode, httpNode,\n    \n]);","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\n\nconst delayNode = {\n    group: 'LOGIC',\n    name: 'delay',\n    title: 'DELAY',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Delay',\n                    configs: {\n                        val: { name: 'Value', type: 'string' }\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getText: (item) => {\n        const { val } = item.params;\n        return `DELAY ${val}`;\n    },\n\n    toDsl: (item) => {\n        const { val } = item.params;\n        return [`\\xF4${String.fromCharCode(val)}`];\n    \n    } ,     \n}\n\n\nconst component = generateWidgetComponent(delayNode);\n\nexport { delayNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\nimport { getTaskValueType, getTasks, getTaskValues, getDeviceById } from \"../../../../lib/utils\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst eqOptions = ['changed', '=', '<', '>', '<=', '>=', '!='];\n\nconst compareValue = (type) => {\n    const checkValue = getTaskValueType('params.device', 'params.value', type);\n    return (config) => {\n        if (config.params.val_type != 255) return false;\n        return checkValue(config);\n    }\n}\n\nconst ifElseNode = {\n    group: 'LOGIC',\n    name: 'if/else',\n    title: 'IF / ELSE',\n    inputs: 1,\n    outputs: 2,  \n    getEditorConfig: () => {\n        const isBit = compareValue(4);\n        const isByte = compareValue(0);\n        const isInt16 = compareValue(1);\n        const isInt32 = compareValue(2);\n        const isString = compareValue(3);\n        const notChanged = config => { console.log(config.params); return config.params.eq != 'changed' };\n        return {\n            groups: {\n                params: {\n                    name: 'IF',\n                    configs: {\n                        device: { name: 'Check Device', type: 'select', options: getTasks },\n                        value: { name: 'Check Value', type: 'select', options: getTaskValues('params.device') },\n                        eq: { name: 'Check', type: 'select', options: eqOptions },\n                        val_type: { name: 'Value', type: 'select', if: notChanged, options: [{ name: 'state', value: 0 }, { name: 'custom', value: 255 }], var: 'params.val_type' },\n                        val_string: { name: 'String', if: isString, type: 'string', var: 'params.val' },\n                        val_bit: { name: 'Bit', if: isBit, type: 'select', options: [0, 1], var: 'params.val' },\n                        val_byte: { name: 'Byte', if: isByte, type: 'number', min: 0, max: 255, var: 'params.val' },\n                        val_int: { name: 'Int', if: isInt16, type: 'number', min: 0, max: 65535, var: 'params.val' },\n                        val_decimal: { name: 'Decimal', if: isInt32, type: 'number', min: 0, max: 4294967295, var: 'params.val' },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        state: 255,\n        val: 0,\n    }),\n\n    getText: (item) => {\n        const { device, value, val, eq, val_type } = item.params;\n        if (device === undefined || value === undefined) return 'click to configure';\n        const d = getDeviceById(device)\n        const deviceName = d ? d.name : '';\n        const valueName = d ? d.state.values[value].name : '';\n        let text = `IF ${deviceName}#${valueName} ${eq} `;\n        if (eq !== 'changed') {\n            text += val_type ? val : '[state]';\n        }\n        return text;\n    },\n\n    toDsl: (item) => {\n        const { device, value, val, eq, val_type } = item.params;\n        const comp = eqOptions.findIndex(o => o == eq);\n        const sendval = val_type === 0 ? 255 : val;\n        return [`\\xFC\\x01${String.fromCharCode(device)}${String.fromCharCode(value)}${String.fromCharCode(comp)}\\x01${String.fromCharCode(sendval)}%%output%%`, `\\xFD%%output%%\\xFE`];\n    \n    } ,     \n}\n\nconst component = generateWidgetComponent(ifElseNode);\n\nexport { ifElseNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\n\nconst loggingNode = {\n    group: 'LOGIC',\n    name: 'logging',\n    title: 'LOGGING',\n    inputs: 1,\n    outputs: 1,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Action',\n                    configs: {\n                        action: { name: '', type: 'select', options:[{ name: 'start', value: 0xe4 }, { name: 'stop', value: 0xe5 }] },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        action: 0xe4,\n    }),\n\n    getText: (item) => {\n        const { action } = item.params;\n        return 'logging = ' + action;\n    },\n\n    toDsl: (item) => {\n        const { action } = item.params;\n        return [String.fromCharCode(action)];\n    \n    } ,     \n}\n\nconst component = generateWidgetComponent(loggingNode);\n\nexport { loggingNode };","import { Component, h } from \"preact\";\nimport { generateWidgetComponent } from \"../helper\";\nimport { getTaskValueType, getTasks, getTaskValues } from \"../../../../lib/utils\";\n\nconst mathNode = {\n    group: 'LOGIC',\n    name: 'math',\n    title: 'MATH',\n    inputs: 1,\n    outputs: 2,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Expression',\n                    configs: {\n                        expr: { name: '', type: 'string', help: 'tinymath expression, available vars: \"state\", \"x\" and \"y\"' },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        expr: 'state',\n    }),\n\n    getText: (item) => {\n        const { expr } = item.params;\n        return 'state = ' + expr;\n    },\n\n    toDsl: (item) => {\n        const { expr } = item.params;\n        return [`\\xEE${expr}\\x00`];\n    \n    } ,     \n}\n\nconst component = generateWidgetComponent(mathNode);\n\nexport { mathNode };","import { generateWidgetComponent } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst alexaOptions = () => {\n    return settings.get('alexa.triggers', []).map((t, i) => ({ name: t.name, value: i }));\n}\n\nconst alexaNode = {\n    group: 'TRIGGERS',\n    name: 'alexa',\n    title: 'ALEXA',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        \n        return {\n            groups: {\n                params: {\n                    name: 'Alexa',\n                    configs: {\n                        trigger: { name: 'Trigger', type: 'select', options: alexaOptions },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        touch: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.trigger;\n        return `on alexa ${t}`\n    },\n\n    toDsl: (item) => {\n        const t = (item.params && item.params.trigger) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x06${String.fromCharCode(t)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(alexaNode);\n\nexport { alexaNode }","import { generateWidgetComponent } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst bluetoothNode = {\n    group: 'TRIGGERS',\n    name: 'bluetooth',\n    title: 'BLUETOOTH',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const btOptions = () => {\n            return settings.get('bluetooth.server.values', []).map((t, i) => ({ name: t.name, value: i }));\n        }\n        return {\n            groups: {\n                params: {\n                    name: 'Bluetooth',\n                    configs: {\n                        value: { name: 'Trigger', type: 'select', options: btOptions },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        touch: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.value;\n        return `on bt ${t}`\n    },\n\n    toDsl: (item) => {\n        const t = (item.params && item.params.value) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x09${String.fromCharCode(t)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(bluetoothNode);\n\nexport { bluetoothNode }","import { generateWidgetComponent } from \"../helper\";\n\nconst bootNode = {\n    group: 'TRIGGERS',\n    name: 'system boot',\n    title: 'BOOT',\n    inputs: 0,\n    outputs: 1,  \n\n    getComponent: () => {\n        return component;\n    },\n\n    getText: (item) => {\n        return `on boot`\n    },\n\n    toDsl: function (item, { events }) { \n        return [`\\xFF\\xFE\\x00\\xFF\\x03\\x01`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(bootNode);\n\nexport { bootNode }","import { generateWidgetComponent } from \"../helper\";\n\nconst clockNode = {\n    group: 'TRIGGERS',\n    name: 'clock',\n    title: 'CRON',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Cron',\n                    configs: {\n                        expr: { name: 'Cron Expr', type: 'string' },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        expr: '* * * * * *',\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.expr;\n        return `on ${t}`\n    },\n\n    toDsl: function (item, { events }) { \n        const t = item.params && item.params.expr;\n        \n        return [`\\xFF\\xFE\\x00\\xFF\\x08${t}\\x00`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(clockNode);\n\nexport { clockNode }","import { generateWidgetComponent, getString, toByteArray } from \"../helper\";\n\nconst eventNode = {\n    group: 'TRIGGERS',\n    name: 'event',\n    title: 'EVENT',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Event',\n                    configs: {\n                        event: { name: 'Event', type: 'string' },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        event: '',\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.event;\n        return `on ${t}`\n    },\n\n    toDsl: function (item, { events }) { \n        const event = events.find(e => e.name === item.params.event);\n        if (!event) return null;\n        \n        return [`\\xFF\\xFE\\x00\\xFF\\x01${getString(toByteArray(event.value,2))}`]; \n    } ,     \n}\n\nconst component = generateWidgetComponent(eventNode);\n\nexport { eventNode }","import { generateWidgetComponent } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst hwinterruptNode = {\n    group: 'TRIGGERS',\n    name: 'hardware interrupt',\n    title: 'HW INTERRUPT',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        return {\n            groups: {\n                params: {\n                    name: 'Interrupt',\n                    configs: {\n                        int: { name: 'pin', type: 'select', options: window.io_pins.getPins('interrupt') },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        timer: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.int;\n        return `on interrupt ${t}`\n    },\n\n    toDsl: (item) => {\n        const i = (item.params && item.params.int) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x05${String.fromCharCode(i)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(hwinterruptNode);\n\nexport { hwinterruptNode }","import { generateWidgetComponent } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst hwtimerNode = {\n    group: 'TRIGGERS',\n    name: 'hardware timer',\n    title: 'HW TIMER',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const timerOption = settings.get('hardware.timer', []).map((t, i) => ({ name: `timer_${i}`, value: i, enabled: t.enabled })).filter(t => t.enabled);\n        return {\n            groups: {\n                params: {\n                    name: 'HwTimer',\n                    configs: {\n                        timer: { name: 'Timer', type: 'select', options: timerOption },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        timer: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.timer;\n        return `on hw_timer${t}`\n    },\n\n    toDsl: (item) => {\n        const timer = (item.params && item.params.timer) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x04${String.fromCharCode(timer)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(hwtimerNode);\n\nexport { hwtimerNode }","import { generateWidgetComponent } from \"../helper\";\n\nconst timerNode = {\n    group: 'TRIGGERS',\n    name: 'timer',\n    title: 'TIMER',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const timerOption = [0, 1, 2, 3, 4, 5, 6, 7];\n        return {\n            groups: {\n                params: {\n                    name: 'Timer',\n                    configs: {\n                        timer: { name: 'Timer', type: 'select', options: timerOption },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        timer: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.timer;\n        return `on timer${t}`\n    },\n\n    toDsl: (item) => {\n        const timer = (item.params && item.params.timer) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x02${String.fromCharCode(timer)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(timerNode);\n\nexport { timerNode }","import { generateWidgetComponent } from \"../helper\";\nimport { settings } from \"../../../../lib/settings\";\n\nconst touchNode = {\n    group: 'TRIGGERS',\n    name: 'touch',\n    title: 'TOUCH',\n    inputs: 0,\n    outputs: 1,  \n    getEditorConfig: () => {\n        const touchOptions = () => {\n            const getTouch = (pin) => [4, 0, 2, 15, 13, 12, 14, 27, 33, 32].findIndex(x => x == pin);\n            return settings.get('hardware.gpio', []).map((t, i) => (t && t.mode == 4 ? { name: `GPIO ${i}`, value: getTouch(i) } : null)).filter(gpio => gpio);\n        }\n        return {\n            groups: {\n                params: {\n                    name: 'Touch',\n                    configs: {\n                        touch: { name: 'pin', type: 'select', options: touchOptions },\n                    }\n                }\n            }\n        }\n    },\n\n    getComponent: () => {\n        return component;\n    },\n\n    getDefault: () => ({\n        touch: 0,\n    }),\n\n    getText: (item) => {\n        const t = item.params && item.params.touch;\n        return `on touch${t}`\n    },\n\n    toDsl: (item) => {\n        const t = (item.params && item.params.touch) || 0;\n        return [`\\xFF\\xFE\\x00\\xFF\\x07${String.fromCharCode(t)}`];\n    } ,     \n}\n\nconst component = generateWidgetComponent(touchNode);\n\nexport { touchNode }","import { Component, h } from 'preact';\nimport { WidgetOutput } from './widget_output';\nimport { WidgetInput } from './widget_input';\n\nconst style = {\n  cursor: 'move',\n};\n\n\nexport class Widget extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const item = this.props.item;\n        const className = `node group-${item.group}`;\n\n        return (\n          <div style={{ ...style }} className={className} onClick={() => { this.props.onClickHandler(item) }}>\n            <div className=\"node-inputs\">\n              {[...new Array(this.node.inputs)].map(() => {\n                return (<WidgetInput node={item} />);\n              })}\n            </div>\n            \n            <div className=\"node-outputs\">\n              {[...new Array(this.node.outputs)].map((x, i) => {\n                return (<WidgetOutput node={item} o={i} onArrow={this.props.onArrow} />);\n              })}\n            </div>\n\n            <div style={{ display: 'inline-block' }} ref={e => this.base = e} onContextMenu={(e) => { e.preventDefault(); this.props.onRightClickHandler(item); }} >\n              {this.renderComponent()}\n            </div>\n          </div>\n        );\n    }\n\n    onMouseMove = (e) => {\n      this.props.onMouseMove({ x: e.pageX - this.offset[0], y: e.pageY - this.offset[1] }, this.props.item);\n    }\n\n    onMouseDown = (e) => {\n      this.offset = [e.layerX, e.layerY];\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    }\n\n    onMouseUp = () => {\n      this.offset = null;\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n\n    componentDidMount() {\n      this.base.addEventListener('mousedown', this.onMouseDown);\n    }\n\n    componentWillUnmount() {\n      this.base.removeEventListener('mousedown', this.onMouseDown);\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n}","import { Component, h } from \"preact\";\n\nexport class WidgetConnection extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    setPath(x1, y1, x2, y2, tension = 0.5) {\n        const delta = (x2-x1)*tension;\n        const hx1=x1+delta;\n        const hy1=y1;\n        const hx2=x2-delta;\n        const hy2=y2;\n        \n        const path = `M ${x1} ${y1} C ${hx1} ${hy1} ${hx2} ${hy2} ${x2} ${y2}`;\n        return path;\n    }\n\n    render() {\n        const style = {\n            'z-index': '-1',\n            position: 'absolute',\n            top: '0',\n            left: '0',\n        };\n\n        const { fill, color } = this.props;\n\n        \n\n        const path = this.setPath(this.props.from[0],\n                                    this.props.from[1],\n                                    this.props.to[0],\n                                    this.props.to[1]);\n        return (\n            <svg width=\"100%\" height=\"100%\" style={style}>\n                <path fill={fill} stroke={color} d={path} />\n            </svg>\n        );\n    }\n}","import { h, Component } from 'preact';\n\nexport class WidgetInput extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n        const id = `node-${this.props.node.id}-i-0`;\n        return (\n            <div id={id} className=\"node-input\" />\n        )\n    }\n}","import { Component, h } from 'preact';\nimport { WidgetConnection } from './widget_connection';\n\nexport class WidgetOutput extends Component {\n  constructor(props) {\n      super(props);\n  }\n\n    render() {\n        const id = `node-${this.props.node.id}-o-${this.props.o}`;\n        return (\n            <div id={id} className=\"node-output\" ref={el => this.el = el} \n                onContextMenu={this.onRightclick}\n            />\n        );\n    }\n\n  onRightclick = (e) => {\n      this.props.onArrow(this.el, null);\n      e.preventDefault();\n      e.stopPropagation();\n  }\n\n  onMouseMove = (e) => {\n      this.props.onArrow(this.el, { x: e.pageX - this.offset[0], y: e.pageY - this.offset[1] })\n  }\n\n  onMouseDown = (e) => {\n    this.offset = [0, 0]; // [e.layerX, e.layerY];\n    document.addEventListener('mousemove', this.onMouseMove);\n    document.addEventListener('mouseup', this.onMouseUp);\n    e.preventDefault();\n    e.stopPropagation();\n  }\n\n  onMouseUp = (e) => {\n    this.offset = null;\n\n    const elemBelow = document.elementFromPoint(e.clientX, e.clientY);\n    const input = elemBelow ? elemBelow.closest('.node-input') : null;\n    if (!input) {\n        this.props.onArrow(this.el, null);\n    } else {\n        this.props.onArrow(this.el, input.id);\n        // const inputRect = input.getBoundingClientRect();\n        // this.setState({ x: inputRect.x, y: inputRect.y + inputRect.height/2 });\n        //lineSvg.setPath(x1, y1, x2, y2);\n        // const connection = {\n        //     output,\n        //     input,\n        //     svg: lineSvg,\n        //     start: { x: x1, y: y1 },\n        //     end: { x: x2, y: y2 },\n        // };\n        // output.lines.push(connection);\n        // input.lines.push(connection);\n    }\n    \n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n  }\n\n  componentDidMount() {\n    this.el.addEventListener('mousedown', this.onMouseDown);\n  }\n\n  componentWillUnmount() {\n    this.el.removeEventListener('mousedown', this.onMouseDown);\n    document.removeEventListener('mousemove', this.onMouseMove);\n    document.removeEventListener('mouseup', this.onMouseUp);\n  }\n}","import { h, Component } from 'preact';\nimport { Controlbox } from './controlbox';\nimport { DropPage } from './DropPage';\nimport { Toolbox } from './toolbox';\nimport { getNodes } from './nodes';\n\nconst containerStyle = {\n    height: 'calc(100vh - 52px)',\n    flex: '1 1 auto',\n    display: 'flex',\n}\n\nexport class Page extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            selected: null,\n            nodes: null,\n        }\n\n        this.nodes = getNodes();\n    }\n\n    onClickHandler = (item) => {\n        this.setState({ selected: item });\n    }\n\n    getItemComponent = (item) => {\n        const node = this.nodes.find(n => n.name == item.name);\n        return node.getComponent();\n    }\n\n    render() {\n\n        const pageStyle = {\n            position: 'relative',\n            overflow: 'auto',\n            flex: '1 1 85%',\n        }\n\n        const toolboxStyle = {\n            flex: '1 1 15%',\n            overflow: 'auto',\n            'min-width': '240px',\n        }\n\n        const toolboxItemStyle = {\n            width: '220px',\n            margin: '1px',\n        }\n        \n        const controlStyle = {\n            border: '1px solid gray',\n            padding: '20px',\n            width: '300px',\n        };\n\n        return (\n            <div id='canvas' style={containerStyle}>\n                <Toolbox style={toolboxStyle} itemStyle={toolboxItemStyle} nodes={this.nodes} />\n                <DropPage  style={pageStyle} rules={this.props.rules} grid=\"5\"\n                    getComponent={this.getItemComponent}\n                    onSelect={this.onClickHandler}  />\n                <Controlbox style={controlStyle} item={this.state.selected} nodes={this.nodes} />\n            </div>\n        )\n    }\n\n}\n","import { h, Component } from 'preact';\nimport { ToolboxItem } from './toolbox_item';\n\nexport class Toolbox extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render(props) {\n        return (\n            <div style={this.props.style}>\n                {this.props.nodes.map(widget => {\n                    return (<ToolboxItem itemStyle={this.props.itemStyle} widget={widget} />);\n                })}\n            </div>\n        );\n    }\n}\n\n","import { Component, h } from 'preact';\nimport { DragSource } from 'preact-dnd';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  'border-radius': '5px',\n  'text-align': 'center',\n  padding: '5px 10px',\n  cursor: 'move',\n};\n\nconst boxSource = {\n  beginDrag(props) {\n    return props.widget;\n  },\n};\n\nconst collect = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  isDragging: monitor.isDragging(),\n});\n\nclass ToolboxItemComponent extends Component {\n\n  render() {\n    const { isDragging, connectDragSource, itemStyle } = this.props;\n    const { title, group } = this.props.widget;\n    const opacity = isDragging ? '0.4' : '1';\n    const className = `node group-${group}`;\n\n    return (\n      connectDragSource(\n        <div className={className} style={{ ...style, ...itemStyle, opacity }}>\n          {title}\n        </div>\n      )\n    );\n  }\n}\n\nexport const ToolboxItem = DragSource('box', boxSource, collect)(ToolboxItemComponent);","import { h, Component } from 'preact';\nimport { deleteFile, storeFile } from '../lib/esp';\nimport { loader } from '../lib/loader';\n\nexport class FSPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { files: [] }\n\n        this.saveForm = async () => {\n            loader.show();\n            await storeFile(this.file.files[0]);\n            await this.fetch();\n        }\n\n        this.deleteFile = e => {\n            const fileName = e.currentTarget.dataset.name;\n            deleteFile(fileName).then(() => (this.fetch()));\n        }\n    }\n\n    fetch() {\n        fetch('/filelist').then(response => response.json()).then(fileList => {\n            this.setState({ files: fileList });\n        });\n    }\n\n    render(props) {\n        loader.hide();\n        return (\n            <div>\n                <form class=\"pure-form pure-form-aligned\">\n                    <div class=\"pure-control-group\">\n                        <label for=\"file\" class=\"pure-checkbox\">\n                            File:\n                        </label>\n                        <input id=\"file\" type=\"file\" ref={ref => this.file = ref} />\n                        \n                        <button type=\"button\" onClick={this.saveForm}>upload</button>\n                    </div>\n                </form>\n                <table class=\"pure-table\">\n                    <thead>\n                        <tr>\n                            <th>File</th>\n                            <th>Size</th>\n                            <th></th>\n                        </tr>\n                    </thead>\n                    <tbody>\n                        {this.state.files.map(file => {\n                            const url = `/${file.file}`;\n                            return (\n                        <tr>\n                            <td><a href={url}>{file.file}</a></td>\n                            <td>{file.size}</td>\n                            <td>\n                                { file.file === 'config.json' ? (null) :\n                                (<button type=\"button\" onClick={this.deleteFile} data-name={file.file}>X</button>)\n                                }\n                            </td>\n                        </tr>\n                            ); })}\n\n                    </tbody>\n                </table>\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        this.fetch();\n    }\n}","export * from './controllers';\nexport * from './dashboard';\nexport * from './devices';\nexport * from './config';\nexport * from './config.advanced';\nexport * from './config.bluetooth';\nexport * from './config.hardware';\nexport * from './config.plugins';\nexport * from './config.lcd';\nexport * from './config.lcd.screen';\nexport * from './config.lcd.widget';\nexport * from './reboot';\nexport * from './load';\nexport * from './update';\nexport * from './rules';\nexport * from './tools';\nexport * from './fs';\nexport * from './factory_reset';\nexport * from './discover';\nexport * from './controllers.alexa';\nexport * from './controllers.alerts';\nexport * from './alerts';\nexport * from './alerts.edit';\nexport * from './devices.edit';\nexport * from './diff';\nexport * from './rules.editor';\nexport * from './setup';\nexport * from './tools.sysvars';\nexport * from './profiles';\nexport * from './profiles.edit';","import { h, Component } from 'preact';\nimport { widgets } from './widgets';\nimport { Form } from '../../components/form';\n\nconst style = {\n    position: 'relative',\n    border: '1px solid gray',\n    padding: '20px',\n    left: '-350px',\n    width: '300px',\n};\n\nexport class Controlbox extends Component {\n    constructor(props) {\n        super(props);\n        \n    }\n\n    render(props) {\n        const widget = props.item && widgets.find(w => w.name == props.item.name);\n\n        if (widget && widget.editorComponent) {\n            return (<div style={style}><widget.editorComponent item={props.item} /></div>);\n        } else if (widget && widget.editorConfig) {\n            return (<div style={style}><Form config={widget.editorConfig} selected={props.item} /></div>);\n        }\n        return (null);\n    }\n}\n\n","import { h, Component } from 'preact';\n\nimport { DragDropContext } from 'preact-dnd';\nimport HTML5Backend from 'react-dnd-html5-backend';\nimport { Toolbox } from './toolbox';\nimport { Page } from './page';\n\n\nexport class LcdScreenComponent extends Component {\n    constructor(props) {\n        super(props);\n        \n        this.state = {\n            grid: 1,\n        }\n    }\n\n    render(props) {\n        \n\n        return (\n                <div>\n                    <Toolbox />\n                    grid: <select value={this.state.grid} onChange={(e) => { this.setState({ grid: e.currentTarget.value }) }}>\n                        <option value=\"1\">1px</option>\n                        <option value=\"5\">5px</option>\n                        <option value=\"10\">10px</option>\n                        <option value=\"15\">15px</option>\n                        <option value=\"20\">20px</option>\n                        <option value=\"30\">30px</option>\n                        <option value=\"50\">50px</option>\n                    </select>\n                    <Page page={props.page} widget={props.widget} grid={this.state.grid} />\n                    \n                </div>\n        );\n    }\n}\n\nexport const LcdScreen = DragDropContext(HTML5Backend)(LcdScreenComponent);\n\n","import { h, Component } from 'preact';\nimport { DropTarget } from 'preact-dnd'\nimport { settings } from '../../lib/settings';\nimport { getWidgets } from './widgets';\nimport { Controlbox } from './controlbox';\n\nconst containerStyle = {\n    position: 'relative',\n    top: '25px',\n}\nconst style = {\n    height: '240px',\n    width: '320px',\n    position: 'absolute',\n    border: '1px solid black',\n    overflow: 'scroll',\n}\n\nclass PageComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        let items;\n        if (props.page) {\n            this.width = settings.get(`lcd.params.width`) + 'px';\n            this.height = settings.get(`lcd.params.height`) + 'px';\n\n            items = settings.get(`lcd.pages[${props.page}].items`);\n            if (!items) {\n                items = [];\n                settings.set(`lcd.pages[${props.page}].items`, items);\n            }\n        } else if (props.widget) {\n            this.width = settings.get(`lcd.widgets[${props.widget}].width`, settings.get(`lcd.params.width`)) + 'px';\n            this.height = settings.get(`lcd.widgets[${props.widget}].height`, 80) + 'px';\n\n            items = settings.get(`lcd.widgets[${props.widget}].items`);\n            if (!items) {\n                items = [];\n                settings.set(`lcd.widgets[${props.widget}].items`, items);\n            }\n        } else {\n            throw('need page or widget nr');\n        }\n\n        this.state = {\n            items\n        }\n    }\n\n    onClickHandler = (item) => {\n        this.setState({ selected: item });\n    }\n\n    onMoveHandler = (e, item) => {\n        const x = roundToGrid(e.x - this.position.left + this.el.scrollLeft, this.props.grid);\n        const y = roundToGrid(e.y - this.position.top + this.el.scrollTop, this.props.grid);\n\n        const existingItem = this.state.items.find(i => i.id === item.id);\n        existingItem.position.x = x;\n        existingItem.position.y = y;\n        this.forceUpdate();\n    }\n\n    onRightClickHandler = (item) => {\n        this.state.items.splice(this.state.items.findIndex(i => i.id == item.id), 1);\n        this.forceUpdate();\n    }\n\n    findNextId() {\n        let x = 0;\n        this.state.items.forEach(i => { if (i.id > x) x = i.id; });\n        return x + 1;\n    }\n\n    renderItem = (item) => {\n        const itemStyle = {\n            position: 'absolute',\n            top: `${item.position.y}px`,\n            left: `${item.position.x}px`\n        };\n        const W = getWidgets().find(w => w.name == item.name).component;\n        return (\n            <span style={itemStyle}>\n                <W \n                    conf={item} \n                    onClickHandler={this.onClickHandler} \n                    onRightClickHandler={this.onRightClickHandler} \n                    onMouseMove={this.onMoveHandler}\n                />    \n            </span>\n        )\n    }\n\n    render() {\n        const { isOver, connectDropTarget } = this.props;\n        return connectDropTarget(\n            <div style={containerStyle}>\n                \n                <div style={Object.assign({}, style, { width: this.width, height: this.height })} ref={el => { this.el = el; }}>\n                    {this.state.items.map(item => {\n                        return this.renderItem(item);\n                    })}\n                </div>\n\n                <Controlbox item={this.state.selected} />\n            </div>\n        )\n    }\n\n    componentDidMount() {\n        this.position = this.el.getBoundingClientRect();\n    }\n}\n\nconst roundToGrid = (num, grid) => {\n    let down = num - num % grid;\n    let up = num + grid - num % grid;\n    return Math.abs(num - up) < num - down ? up : down;\n}\n\nconst target = {\n    drop(props, monitor, component) {\n        const item = monitor.getItem();\n        const offset = monitor.getClientOffset();\n        const oi = monitor.getInitialClientOffset();\n        const si = monitor.getInitialSourceClientOffset();\n        const co = monitor.getSourceClientOffset();\n        const ii = monitor.getDifferenceFromInitialOffset();\n\n        const x = roundToGrid(offset.x - component.position.left + component.el.scrollLeft, component.props.grid);\n        const y = roundToGrid(offset.y - component.position.top + component.el.scrollTop, component.props.grid);\n        if (!item.id) {\n            component.state.items.push({\n                id: component.findNextId(),\n                name: item.name,\n                position: { x, y }\n            });\n        } else {\n            const existingItem = component.state.items.find(i => i.id === item.id);\n            existingItem.position.x = x;\n            existingItem.position.y = y;\n        }\n    },\n}\n  \nfunction collect(connect, monitor) {\n    return {\n        connectDropTarget: connect.dropTarget(),\n        isOver: monitor.isOver(),\n    }\n}\n\n\nexport const Page = DropTarget('box', target, collect)(PageComponent);\n","import { h, Component } from 'preact';\nimport { getWidgets } from './widgets';\nimport { ToolboxItem } from './toolbox_item';\nimport { settings } from '../../lib/settings';\n\nexport class Toolbox extends Component {\n    constructor(props) {\n        super(props);\n        \n    }\n\n    render(props) {\n        \n        return (\n            <div>\n                {getWidgets().map(widget => {\n                    return (<ToolboxItem widget={widget} />);\n                })}\n            </div>\n        );\n    }\n}\n\n","import { Component, h } from 'preact';\nimport { DragSource } from 'preact-dnd';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nconst boxSource = {\n  beginDrag(props) {\n    return props.widget;\n  },\n};\n\nconst collect = (connect, monitor) => ({\n  connectDragSource: connect.dragSource(),\n  isDragging: monitor.isDragging(),\n\n});\n\nclass ToolboxItemComponent extends Component {\n\n  render() {\n    const { isDragging, connectDragSource } = this.props;\n    const { icon, title } = this.props.widget;\n    const opacity = isDragging ? '0.4' : '1';\n\n    return (\n      connectDragSource(\n        <div style={{ ...style, opacity }}>\n          {title}\n        </div>\n      )\n    );\n  }\n}\n\nexport const ToolboxItem = DragSource('box', boxSource, collect)(ToolboxItemComponent);","import { Component, h } from 'preact';\nimport { Widget } from './widget';\n\nconst style = {\n  border: '1px dashed gray',\n  cursor: 'move',\n  position: 'relative',\n};\n\nconst titleStyle = {\n    position: 'relative',\n    top: '-10px',\n    background: 'white',\n}\n\nexport class Box extends Widget {\n\n    renderComponent() {\n        const { width, height } = this.props.conf;\n        // style.width = this.props.conf.width + 'px';\n        // style.height = this.props.conf.height + 'px';\n        style.margin = `${width}px ${height}px`;\n        return (<div style={style}><span style={titleStyle}>{this.props.conf.text}</span></div>);\n    }\n}\n\nexport const boxEditorConfig = {\n    groups: {\n        config: {\n            name: 'Box',\n            configs: {\n                text: { name: 'Title', type: 'string', var: 'text' },\n                width: { name: 'Width', type: 'number', var: 'width' },\n                height: { name: 'Height', type: 'number', var: 'height' },\n            }  \n        }\n    }\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\nimport { getTaskValues, getTasks } from '../../../lib/utils';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nexport class Button extends Widget {\n\n    renderComponent() {\n        return (<button>{this.props.conf.value ? 'ON' : 'OFF'}</button>);\n    }\n}\n\nexport const buttonEditorConfig = {\n    groups: {\n        config: {\n            name: 'Button',\n            configs: {\n                device: { name: 'Check Device', type: 'select', options: getTasks, var: 'device' },\n                value: { name: 'Check Value', type: 'select', options: getTaskValues('device'), var: 'value' },\n                event: { name: 'Event', type: 'string', var: 'event' },\n            }\n        }\n    }\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nexport class Image extends Widget {\n\n    renderComponent() {\n        return (null);\n    }\n}","import { Label, labelEditorConfig } from \"./label\";\nimport { Image } from \"./image\";\nimport { Slider, sliderEditorConfig } from \"./slider\";\nimport { Button, buttonEditorConfig } from \"./button\";\nimport { Box, boxEditorConfig } from \"./box\";\nimport { valueEditorConfig, Value } from \"./value\";\nimport { WidgetComponent } from './widget_component';\nimport { settings } from \"../../../lib/settings\";\n\nexport const widgets = [\n    { name: 'label', title: 'label', component: Label, editorConfig: labelEditorConfig },\n    { name: 'image', title: 'image', component: Image },\n    { name: 'button', title: 'button', component: Button, editorConfig: buttonEditorConfig },\n    { name: 'slider', title: 'slider', component: Slider, editorConfig: sliderEditorConfig },\n    { name: 'box', title: 'box', component: Box, editorConfig: boxEditorConfig },\n    { name: 'value', title: 'value', component: Value, editorConfig: valueEditorConfig },\n]\n\nexport const getWidgets = () => {\n    return [\n        ...widgets,\n        ...settings.get('lcd.widgets', []).map(widget => ({\n            name: widget.idx,\n            title: widget.name,\n            component: WidgetComponent,\n        }))\n    ]\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nexport class Label extends Widget {\n\n    renderComponent() {\n        if (this.props.conf.text === undefined) { this.props.conf.text = 'label' };\n        return (<span>{this.props.conf.text}</span>);\n    }\n}\n\nexport const labelEditorConfig = {\n    groups: {\n        config: {\n            name: 'Label',\n            configs: {\n                text: { name: 'Text', type: 'string', var: 'text' },\n            }\n        }\n        \n    }\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\nimport { getTasks, getTaskValues } from '../../../lib/utils';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nexport class Slider extends Widget {\n    renderComponent() {\n        return (<input type=\"range\" max={this.props.conf.max} min={this.props.conf.min}></input>);\n    }\n}\n\nexport const sliderEditorConfig = {\n    groups: {\n        config: {\n            name: 'Slider',\n            configs: {\n                device: { name: 'Check Device', type: 'select', options: getTasks, var: 'device' },\n                value: { name: 'Check Value', type: 'select', options: getTaskValues('device'), var: 'value' },\n                event: { name: 'Event', type: 'string', var: 'event' },\n                min: { name: 'Min', type: 'number', var: 'min' },\n                max: { name: 'Max', type: 'number', var: 'max' },\n            }\n        }\n    }\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\nimport { getTaskValues, getTasks } from '../../../lib/utils';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  marginRight: '1.5rem',\n  marginBottom: '1.5rem',\n  cursor: 'move',\n};\n\nexport class Value extends Widget {\n\n    renderComponent() {\n        return (<span>${this.props.conf.value}</span>);\n    }\n}\n\nexport const valueEditorConfig = {\n    groups: {\n        config: {\n            name: 'Value',\n            configs: {\n                device: { name: 'Check Device', type: 'select', options: getTasks, var: 'device' },\n                value: { name: 'Check Value', type: 'select', options: getTaskValues('device'), var: 'value' },\n            }\n        }\n        \n    }\n}","import { Component, h } from 'preact';\nimport { DragSource } from 'preact-dnd';\n\nconst style = {\n  display: 'inline-block',\n  border: '1px dashed gray',\n  backgroundColor: 'white',\n  padding: '0.5rem 1rem',\n  cursor: 'move',\n};\n\n\nexport class Widget extends Component {\n    constructor(props) {\n        super(props);\n    }\n\n    render() {\n\n        return (\n          <div style={{ ...style }} ref={e => this.base = e}\n              onDblClick={() => { this.props.onClickHandler(this.props.conf) }}\n              onContextMenu={(e) => { e.preventDefault(); this.props.onRightClickHandler(this.props.conf); }} \n          >\n            {this.renderComponent()}\n          </div>\n        );\n    }\n\n    onMouseMove = (e) => {\n      this.props.onMouseMove({ x: e.pageX - this.offset[0], y: e.pageY - this.offset[1] }, this.props.conf);\n    }\n\n    onMouseDown = (e) => {\n      this.offset = [e.layerX, e.layerY];\n      document.addEventListener('mousemove', this.onMouseMove);\n      document.addEventListener('mouseup', this.onMouseUp);\n    }\n\n    onMouseUp = () => {\n      this.offset = null;\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n\n    componentDidMount() {\n      this.base.addEventListener('mousedown', this.onMouseDown);\n    }\n\n    componentWillUnmount() {\n      this.base.removeEventListener('mousedown', this.onMouseDown);\n      document.removeEventListener('mousemove', this.onMouseMove);\n      document.removeEventListener('mouseup', this.onMouseUp);\n    }\n}","import { Component, h } from 'preact';\nimport { Widget } from './widget';\n\nconst style = {\n  display: 'inline-block',\n  backgroundColor: 'white',\n  cursor: 'move',\n};\n\nexport class WidgetComponent extends Widget {\n\n    renderComponent() {\n        return (<div style={Object.assign({}, style, { width: (this.props.conf.width || 320) + 'px', height: (this.props.conf.height || 30) + 'px' })}>{this.props.conf.name}</div>);\n    }\n}","import { h, Component } from 'preact';\nimport { storeFile } from '../lib/esp';\n\nexport class LoadPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.saveForm = () => {\n            storeFile(this.file.files[0]);\n        }\n    }\n\n    render(props) {\n        return (<form class=\"pure-form pure-form-aligned\">\n                <div class=\"pure-control-group\">\n                    <label for=\"file\" class=\"pure-checkbox\">\n                        File:\n                    </label>\n                    <input id=\"file\" type=\"file\" ref={ref => this.file = ref} />\n                    <button type=\"button\" onClick={this.saveForm}>upload</button>\n                </div>\n        </form>)\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { getTasks, getTaskValues } from '../lib/utils';\n\nconst typeOptions = [\n    { name: 'time: seconds', value: 0 },\n    { name: 'manual steps', value: 99 },\n]\n\nconst baseFields = { \n    name: { name: 'Name', type: 'string', var: 'name' },\n    description: { name: 'Description', type: 'string', var: 'description' },\n    icon: { name: 'Icon', type: 'string', var: 'icon' },\n    type: { name: 'Type', type: 'select', options: typeOptions }\n};\n\nconst getFormConfig = (config, form) => {\n    const steps = {};\n    config.steps.forEach((step, i) => {\n\n        const configs = {};\n        step.configs.forEach((cfg, j) => {\n            configs[`${j}_prop`] = [\n                { name: 'Device', type: 'select', value: cfg.device, options: getTasks, var: `steps[${i}].configs[${j}].device` },\n                { name: 'Config', type: 'select', value: cfg.value_id, options: getTaskValues(`steps[${i}].configs[${j}].device`), var: `steps[${i}].configs[${j}].value_id` },\n                { type: 'button', value: 'remove', click: () => {\n                    step.configs.splice(i, 1);\n                    form.forceUpdate();\n                }},\n            ];\n        });\n        \n        steps[`step_${i}`] = {\n            name: `Step ${i}`,\n            configs: {\n                opts: [\n                    { name: 'number', type: 'number', value: i, var: `steps[${i}].number` },\n                    { type: 'button', value: 'remove', click: () => {\n                        config.steps.splice(i, 1);\n                        form.forceUpdate();\n                    }},\n                ],\n                ...configs,\n                add: { type: 'button', value: 'add config', click: () => {\n                    step.configs.push({});\n                    form.forceUpdate();\n                }},\n            }\n        };\n        \n    });\n\n    return {\n        groups: {\n            settings: {\n                name: 'Profile Settings',\n                configs: {\n                    ...baseFields,\n                    add: { type: 'button', value: 'add step', click: () => {\n                        form.addStep();\n                    }},\n                }\n            },\n            ...steps,\n        },\n    }\n}\n\nexport class ProfilesEditPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.config = settings.get(`profiles[${props.params[0]}]`);\n\n        this.addStep = () => {\n            this.config.steps.push({ configs: [] });\n            this.forceUpdate();\n        }\n    }\n\n    render(props) {\n        const formConfig = getFormConfig(this.config, this);\n        if (!formConfig) {\n            alert('something went wrong, cant edit profile');\n            window.location.href='#profiles';\n        }\n        return (\n            <Form config={formConfig} selected={this.config} />\n        );\n    }\n}\n","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\n\nconst firstFreeKey = (array, key = 'id') => {\n    let i = 0;\n    while(array.find(e => e && e[key] == i)) i++;\n    return i;\n}\n\nexport class ProfilesPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            config: settings.get('profiles'),\n        }\n\n        if (!this.state.config) {\n            this.state.config = [];\n            settings.set('profiles', this.state.config);\n        }\n\n        this.add = () => {\n            const item = { id: firstFreeKey(this.state.config), name: 'new profile', steps: []};\n            this.state.config.push(item);\n            window.location.hash = `#profiles/edit/${this.state.config.length - 1}`;\n        }\n\n        this.delete = (i) => {\n            this.state.config.splice(i, 1);\n            this.forceUpdate();\n        }\n    }\n    render(props) {\n        return (\n            <div>\n                <div><button type=\"button\" onClick={this.add}>add profile</button></div>\n                {this.state.config.map((item, i) => {\n                    const editUrl = `#profiles/edit/${i}`;\n                    const iconClass = `${item.icon}`;\n                    return (\n                        <div class=\"device\">\n                            <div class=\"icon\">\n                                <span class={iconClass} />\n                            </div>\n                            <div class=\"body\">\n                                <div class=\"info\">\n                                    {i+1}: &nbsp;&nbsp;{item.name} [{item.description}]\n                                    <a href={editUrl}>edit</a>\n                                    <a onClick={() => {this.delete(i);}}>delete</a>\n                                </div>\n                            </div>\n                        </div>\n                        )\n                })}\n            </div>\n        );\n    }\n}","import { h, Component } from 'preact';\nimport { loader } from '../lib/loader';\nimport { settings } from '../lib/settings';\n\n\nexport class RebootPage extends Component {\n    render(props) {\n        return (\n            <div>ESPEasy is rebooting ... please wait a while, this page will auto refresh.</div>\n        );\n    }\n\n    componentDidMount() {\n        loader.show();\n        fetch('/reboot').then(() => {\n            setTimeout(() => {\n                const name = settings.get('unit.name');\n                loader.hide();\n                window.location.href = `http://${name}.local`;\n            }, window.location.href.includes('local') ? 2000: 10000)\n        })\n    }\n}","import { h, Component } from 'preact';\nimport { FlowEditor } from './floweditor';\nimport { settings } from '../lib/settings';\n\nexport class RulesEditorPage extends Component {\n    constructor(props) {\n        super(props);\n        this.devices = settings.get('plugins');\n        this.rules = settings.editor.get('rules[0]');\n        if (!this.rules) {\n            this.rules = {\n                nodes: [],\n                connections: [],\n                name: 'rule1'\n            };\n            const rules = [this.rules];\n            settings.editor.set('rules', rules);\n        }\n\n    }\n\n    render(props) {\n\n        return (\n            <FlowEditor devices={this.devices} rules={this.rules} />\n        );\n    }\n}","import { h, Component } from 'preact';\n\n\nconst rules = [\n    { name: 'Rule 1', file: 'rules1.txt', index: 1 },\n    { name: 'Rule 2', file: 'rules2.txt', index: 2 },\n    { name: 'Rule 3', file: 'rules3.txt', index: 3 },\n    { name: 'Rule 4', file: 'rules4.txt', index: 4 },\n];\n\nexport class RulesPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            selected: rules[0]\n        }\n\n        this.selectionChanged = (e) => {\n            this.setState({ selected: rules[e.currentTarget.value] });\n        }\n\n        this.saveRule = () => {\n            const data = new FormData();\n            data.append('set', this.state.selected.index);\n            data.append('rules', this.text.value);\n            fetch('/rules', {\n                method: 'POST',\n                body: data \n            }).then(res => {\n                console.log('succesfully saved');\n                console.log(res.text());\n            });\n        }\n\n        this.fetch();\n    }\n\n    render(props) {\n        return (\n            <div>\n                <div><select onChange={this.selectionChanged}>\n                    <option value=\"0\">Rule 1</option>\n                    <option value=\"1\">Rule 2</option>\n                    <option value=\"2\">Rule 3</option>\n                    <option value=\"3\">Rule 4</option>\n                </select></div>\n                <form>\n                    <textarea style=\"width: 100%; height: 400px\" ref={ref => this.text = ref}>\n                    </textarea>\n                    <div>\n                        <button type=\"button\" onClick={this.saveRule}>Save</button>\n                    </div>\n                </form>\n            </div>\n        );\n    }\n\n    async fetch() {\n        const text = await fetch(this.state.selected.file).then(response => response.text());\n        this.text.value = text;\n    }\n\n    async componentDidUpdate() {\n        this.fetch();\n    }\n}","import { h, Component } from 'preact';\nimport { Form } from '../components/form';\nimport { settings } from '../lib/settings';\nimport { loader } from '../lib/loader';\n\nconst formConfig = {\n    groups: {\n        wifi: {\n            name: 'WiFi',\n            configs: {\n                ssid: { name: 'SSID', type: 'select', options: [], var: 'security[0].WifiSSID' },\n                passwd: { name: 'Password', type: 'password', var: 'security[0].WifiKey' },\n            }\n        },\n    },\n}\n\nexport class SetupPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            devices: [],\n        }\n        loader.show();\n\n        this.save = () => {\n            loader.show();\n\n            const data = new FormData();\n            data.append('ssid', this.config.security[0].WifiSSID);\n            data.append('pass', this.config.security[0].WifiKey);\n            fetch('/setup', {\n                method: 'POST',\n                data\n            }).then(() => {\n                setTimeout(() => {\n                    loader.hide();\n                    window.location.href = '/';\n                }, 5000);\n            })\n        }\n    }\n\n    render(props) {\n        formConfig.groups.wifi.configs.ssid.options = this.state.devices.map(device => ({ name: device.ssid, value: device.ssd }));\n        const config = settings.get('config');\n        return (\n            <div>\n                <Form config={formConfig} selected={config} />\n                <button type=\"button\" onClick={this.save}>CONTINUE</button>\n            </div>\n        );\n    }\n\n    componentDidMount() {\n        fetch('/wifiscanner').then(r => r.json()).then(r => {\n            this.setState({ devices: r });\n            loader.hide();\n        });\n    }\n}","import { h, Component } from 'preact';\nimport { settings } from '../lib/settings';\nimport { loadDevices } from '../lib/esp';\nimport { toByteArray } from './floweditor/nodes/helper';\n\nconst CMD = {\n  SET     : 0xf0,\n  SET_CFG : 0xf1,\n  EVENT   : 0xf2,\n  TIMER   : 0xf3,\n  DELAY   : 0xf4,\n  RESET   : 0xf5,\n  GPIO    : 0xf6,\n  GET     : 0xf7,\n  GET_CFG : 0xf8,\n  VAR     : 0xf9,\n  SEND    : 0xfa,\n  X8      : 0xfb,\n  IF      : 0xfc,\n  ELSE    : 0xfd,\n  ENDIF   : 0xfe,\n  ENDON   : 0xff,\n}\n\nexport class ToolsPage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.history = '';\n\n        this.events = {};\n\n        this.state = {\n            cmd: 242,\n            event: null,\n            device: null,\n            state: null,\n            value: 0,\n        }\n\n        this.sendCommand = (e) => {\n            const cmdParts = this.cmd.value.split(',');\n            const cmdArray = [];\n            const cmd = CMD[cmdParts[0].toUpperCase()];\n            if (!cmd) return;\n            \n            cmdParts.forEach((part, i) => {\n                if (i === 0) {\n                    cmdArray.push(cmd);\n                    return;\n                }\n                const val = parseInt(part);\n                cmdArray.push(val);\n            });\n\n            fetch(`/cmd/3`, {\n                method: 'POST',\n                body: new Uint8Array(cmdArray),\n            }).then(response => response.text()).then(response => {\n                this.cmdOutput.value = response;\n            });\n        }\n\n        this.sendCommand2 = () => {\n            const cmdArray = [];\n            \n            cmdArray.push(this.state.cmd);\n            if (this.state.cmd === 242) { // event\n                const event = toByteArray(this.state.event, 2);\n                cmdArray.push(event[1]);\n                cmdArray.push(event[0]);\n                cmdArray.push(0);\n            } else {\n                cmdArray.push(this.state.device);\n                cmdArray.push(this.state.state);\n                if (this.state.cmd === 240)\n                    cmdArray.push(1);\n                    cmdArray.push(this.state.val);\n            }\n\n            fetch(`/cmd`, {\n                method: 'POST',\n                body: new Uint8Array(cmdArray),\n            }).then(response => response.text()).then(response => {\n                this.cmdOutput.value = response;\n            });\n        }\n    }\n\n    fetch() {\n        fetch('/logs').then(response => response.text()).then(response => {\n            response.split('\\n').map(log => {\n                if (log.trim() === '') return;\n                let formatted = log.trim().substr(4);\n                formatted = formatted.substr(0, formatted.length - 4);\n                const cls = formatted.substr(0, 3);\n                formatted = formatted.substr(3);\n                this.history += `<div class=\"log_level c${cls}\"><span class=\"date\"></span><span class=\"value\">${formatted}</span></div>`;\n                this.log.innerHTML = this.history;\n                if (true) {\n                    this.log.scrollTop = this.log.scrollHeight;\n                }\n            })\n        });\n    }\n\n    render(props) {\n        const devices = settings.get('plugins');\n        \n        const setCmd = e => {\n            this.setState({ cmd: parseInt(e.currentTarget.value), event: null, device: null, state: null });\n        }\n        const setEvent = e => {\n            this.setState({ event: parseInt(e.currentTarget.value) });\n        }\n        const setDevice = e => {\n            this.setState({ device: parseInt(e.currentTarget.value), state: null });\n        }\n        const setDeviceState = e => {\n            this.setState({ state: e.currentTarget.value });\n        }\n        const setDeviceStateVal = e => {\n            this.setState({ val: e.currentTarget.value });\n        }\n\n        const device_state = this.state.device !== null ? this.device_state[this.state.device] || {} : {};\n\n        return (\n            <div>\n                <div style=\"width: 100%; height: 200px; overflow-y: scroll; border: 1px solid gray; margin-bottom: 10px;\" ref={ref => this.log = ref}>loading logs ...</div>\n                <div>\n                    Command: \n                    <select value={this.state.cmd} onChange={setCmd}>\n                        <option value='242'>event</option>\n                        <option value='240'>set state</option>\n                    </select>\n\n                    {this.state.cmd === 242 &&\n                    <select value={this.state.event} onChange={setEvent}>\n                        \n                        {Object.keys(this.events).map((key) => { \n                            const i = this.events[key];\n                            return (<option value={i}>{key}</option>);\n                        })}\n                    </select>}\n\n                    {this.state.cmd !== 242 && \n                    <select value={this.state.device} onChange={setDevice}>\n                        \n                        {devices.map((device, i) => { \n                            return (<option value={i}>{device.name}</option>);\n                        })}\n                    </select>}\n\n                    {this.state.cmd !== 242 && \n                    <select value={this.state.state} onChange={setDeviceState}>\n                        \n                        {\n                            Object.keys(device_state).map((state, i) => { \n                                return (<option value={i}>{state}</option>);\n                            })\n                        }\n                    </select>}\n\n                    {this.state.cmd !== 242 && \n                    <input type='text' onChange={setDeviceStateVal}></input>\n                    } \n\n                    <button type=\"button\" onClick={this.sendCommand2}>send</button>                  \n                </div>\n                <textarea readonly style=\"width: 100%; height: 200px\" ref={ref => this.cmdOutput = ref}></textarea>\n            </div>\n        );\n    }\n\n    async componentDidMount() {\n        this.device_state = await loadDevices();\n        this.events = settings.events;\n        this.forceUpdate();\n        this.interval = setInterval(() => {\n            this.fetch();\n        }, 1000);\n    }\n\n    componentWillUnmount() {\n        if (this.interval) clearInterval(this.interval);\n    }\n}","import { h, Component } from 'preact';\n\nexport class SysVarsPage extends Component {\n    constructor(props) {\n        super(props);\n        this.state = { device: props.params[0], vars: {} };\n    }\n\n    fetch() {\n        fetch(`/system`).then(response => response.json()).then(vars => {\n            this.setState({ vars });\n        });\n    }\n\n    render(props) {\n        return (\n            <form class=\"pure-form pure-form-aligned\">\n            {\n                Object.keys(this.state.vars).map(v => {\n                    const value = this.state.vars[v];\n                    return (\n                        <fieldset>\n                        <label>{v}</label>\n                        {\n                            value\n                            // Object.keys(value).map((v1, i) => {\n                            //     const value1 = value[v1];\n                            //     return (\n                            //         <div class=\"pure-control-group\">\n                            //             <label class=\"pure-checkbox\">{v1}</label>\n                            //             <input readOnly={true} type=\"text\" value={value1} />\n                            //         </div>\n                            //     )\n                            // })\n                        }\n                        </fieldset>\n                    )\n                    \n        \n                })\n            }\n            </form>\n        )\n    }\n\n    componentDidMount() {\n        this.fetch();\n    }\n}","import { h, Component } from 'preact';\nimport { fetchProgress } from '../lib/esp';\nimport { loader } from '../lib/loader';\n\nexport class UpdatePage extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { progress: 0 }\n\n        this.saveForm = () => {\n            loader.show();\n    \n            fetchProgress('/update', {\n                method: 'POST',\n                body: this.file.files[0],\n                onProgress: (e) => {\n                    const perc = 100 * e.loaded / e.total;\n                    this.setState({ progress: perc });\n                }\n            }).then(() => {\n                window.location.href = '#config/reboot';\n            });\n        }\n    }\n\n    render(props) {\n        return (\n        <form class=\"pure-form pure-form-aligned\">\n            <div class=\"pure-control-group\">\n                <label for=\"file\" class=\"pure-checkbox\">\n                    Firmware:\n                </label>\n                <input id=\"file\" type=\"file\" ref={ref => this.file = ref} />\n                <button type=\"button\" onClick={this.saveForm}>upload</button>\n                { (this.state.progress) ? (<span> {Math.round(this.state.progress)}%</span>) : (null) }\n            </div>\n        </form>\n        )\n    }\n}"],"sourceRoot":""}